/*! For license information please see LICENSES */
(window.webpackJsonp=window.webpackJsonp||[]).push([[15],{1017:function(e,t){},1019:function(e,t){},1022:function(e,t){},1023:function(e,t){},1030:function(e,t){},1036:function(e,t){},1039:function(e,t){},1041:function(e,t){},1044:function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var r=n(13),o=(n(74),n(3)),c=n(848),l=n.n(c),f=n(409);function d(){var e=v(),t=v(),n=Object(o.g)({minterAddress:"",ethAddress:""});var c=Object(o.i)(0),l=Object(o.i)(0),f=Object(o.a)((function(){return Math.max(l.value,c.value)})),d=Object(o.a)((function(){return Math.round(100*(.6-f.value))})),h=function(){var t=Object(r.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e(n.minterAddress);case 2:c.value=t.sent;case 3:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),m=function(){var e=Object(r.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t(n.ethAddress);case 2:l.value=e.sent;case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(o.k)((function(){return n.minterAddress}),h),Object(o.k)((function(){return n.ethAddress}),m),{discount:f,discountUpsidePercent:d,setDiscountProps:function(e){Object.assign(n,e)}}}function h(address){return Object(f.a)(address).catch((function(e){return console.log(e),0}))}function v(){return l()(h,1e3)}},1045:function(e,t,n){"use strict";var r=n(346).end,o=n(549);e.exports=o("trimEnd")?function(){return r(this)}:"".trimEnd},1046:function(e,t,n){"use strict";var r=n(346).start,o=n(549);e.exports=o("trimStart")?function(){return r(this)}:"".trimStart},1047:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PINO_CUSTOM_CONTEXT_KEY=t.PINO_LOGGER_DEFAULTS=void 0,t.PINO_LOGGER_DEFAULTS={level:"info"},t.PINO_CUSTOM_CONTEXT_KEY="custom_context"},1048:function(e,t,n){"use strict";var r=n(959);n.o(r,"IJsonRpcProvider")&&n.d(t,"IJsonRpcProvider",(function(){return r.IJsonRpcProvider})),n.o(r,"formatJsonRpcError")&&n.d(t,"formatJsonRpcError",(function(){return r.formatJsonRpcError})),n.o(r,"formatJsonRpcRequest")&&n.d(t,"formatJsonRpcRequest",(function(){return r.formatJsonRpcRequest})),n.o(r,"formatJsonRpcResult")&&n.d(t,"formatJsonRpcResult",(function(){return r.formatJsonRpcResult})),n.o(r,"getBigIntRpcId")&&n.d(t,"getBigIntRpcId",(function(){return r.getBigIntRpcId})),n.o(r,"isHttpUrl")&&n.d(t,"isHttpUrl",(function(){return r.isHttpUrl})),n.o(r,"isJsonRpcError")&&n.d(t,"isJsonRpcError",(function(){return r.isJsonRpcError})),n.o(r,"isJsonRpcRequest")&&n.d(t,"isJsonRpcRequest",(function(){return r.isJsonRpcRequest})),n.o(r,"isJsonRpcResponse")&&n.d(t,"isJsonRpcResponse",(function(){return r.isJsonRpcResponse})),n.o(r,"isJsonRpcResult")&&n.d(t,"isJsonRpcResult",(function(){return r.isJsonRpcResult})),n.o(r,"isLocalhostUrl")&&n.d(t,"isLocalhostUrl",(function(){return r.isLocalhostUrl})),n.o(r,"isReactNative")&&n.d(t,"isReactNative",(function(){return r.isReactNative})),n.o(r,"isWsUrl")&&n.d(t,"isWsUrl",(function(){return r.isWsUrl}));r.isNode},1049:function(e,t,n){"use strict";n.d(t,"d",(function(){return l})),n.d(t,"b",(function(){return f})),n.d(t,"c",(function(){return d})),n.d(t,"a",(function(){return h}));var r=n(958),o=n(894);function c(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:3;return Date.now()*Math.pow(10,e)+Math.floor(Math.random()*Math.pow(10,e))}function l(){return BigInt(c(arguments.length>0&&void 0!==arguments[0]?arguments[0]:6))}function f(e,t,n){return{id:n||c(),jsonrpc:"2.0",method:e,params:t}}function d(e,t){return{id:e,jsonrpc:"2.0",result:t}}function h(e,t,data){return{id:e,jsonrpc:"2.0",error:v(t,data)}}function v(e,data){return void 0===e?Object(r.a)(o.b):("string"==typeof e&&(e=Object.assign(Object.assign({},Object(r.a)(o.d)),{message:e})),void 0!==data&&(e.data=data),Object(r.c)(e.code)&&(e=Object(r.b)(e.code)),e)}},1050:function(e,t,n){"use strict";n(87),n(93),n(8),n(35),n(1),n(266)},1051:function(e,t,n){"use strict";n.d(t,"a",(function(){return l})),n.d(t,"c",(function(){return f})),n.d(t,"b",(function(){return d}));n(8),n(76),n(126),n(7);var r="^https?:",o="^wss?:";function c(e,t){var n=function(e){var t=e.match(new RegExp(/^\w+:/,"gi"));if(t&&t.length)return t[0]}(e);return void 0!==n&&new RegExp(t).test(n)}function l(e){return c(e,r)}function f(e){return c(e,o)}function d(e){return new RegExp("wss?://localhost(:d{2,5})?").test(e)}},1052:function(e,t,n){"use strict";n.d(t,"b",(function(){return c})),n.d(t,"c",(function(){return l})),n.d(t,"d",(function(){return f})),n.d(t,"a",(function(){return d}));var r=n(12);function o(e){return"object"===Object(r.a)(e)&&"id"in e&&"jsonrpc"in e&&"2.0"===e.jsonrpc}function c(e){return o(e)&&"method"in e}function l(e){return o(e)&&(f(e)||d(e))}function f(e){return"result"in e}function d(e){return"error"in e}},1053:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(966),o=n(896);t.concat=function(e,t){t||(t=e.reduce(((e,t)=>e+t.length),0));const output=r.allocUnsafe(t);let n=0;for(const t of e)output.set(t,n),n+=t.length;return o.asUint8Array(output)}},1054:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1055),o=n(896);t.fromString=function(e,t="utf8"){const base=r[t];if(!base)throw new Error(`Unsupported encoding "${t}"`);return"utf8"!==t&&"utf-8"!==t||null==globalThis.Buffer||null==globalThis.Buffer.from?base.decoder.decode(`${base.prefix}${e}`):o.asUint8Array(globalThis.Buffer.from(e,"utf-8"))}},1055:function(e,t,n){"use strict";var r=n(1313),o=n(966);function c(e,t,n,r){return{name:e,prefix:t,encoder:{name:e,prefix:t,encode:n},decoder:{decode:r}}}const l=c("utf8","u",(e=>"u"+new TextDecoder("utf8").decode(e)),(e=>(new TextEncoder).encode(e.substring(1)))),f=c("ascii","a",(e=>{let t="a";for(let i=0;i<e.length;i++)t+=String.fromCharCode(e[i]);return t}),(e=>{e=e.substring(1);const t=o.allocUnsafe(e.length);for(let i=0;i<e.length;i++)t[i]=e.charCodeAt(i);return t})),d={utf8:l,"utf-8":l,hex:r.bases.base16,latin1:f,ascii:f,binary:f,...r.bases};e.exports=d},1056:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var base=n(825);const r=base.rfc4648({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),o=base.rfc4648({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),c=base.rfc4648({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),l=base.rfc4648({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),f=base.rfc4648({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),d=base.rfc4648({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),h=base.rfc4648({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),v=base.rfc4648({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),m=base.rfc4648({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5});t.base32=r,t.base32hex=f,t.base32hexpad=h,t.base32hexpadupper=v,t.base32hexupper=d,t.base32pad=c,t.base32padupper=l,t.base32upper=o,t.base32z=m},1057:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var base=n(825);const r=base.baseX({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),o=base.baseX({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"});t.base58btc=r,t.base58flickr=o},1058:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(897),o=n(878),c=n(1057),l=n(1056),f=n(832);class d{constructor(e,code,t,n){this.code=code,this.version=e,this.multihash=t,this.bytes=n,this.byteOffset=n.byteOffset,this.byteLength=n.byteLength,this.asCID=this,this._baseCache=new Map,Object.defineProperties(this,{byteOffset:E,byteLength:E,code:x,version:x,multihash:x,bytes:x,_baseCache:E,asCID:E})}toV0(){if(0===this.version)return this;{const{code:code,multihash:e}=this;if(code!==y)throw new Error("Cannot convert a non dag-pb CID to CIDv0");if(e.code!==_)throw new Error("Cannot convert non sha2-256 multihash CID to CIDv0");return d.createV0(e)}}toV1(){switch(this.version){case 0:{const{code:code,digest:e}=this.multihash,t=o.create(code,e);return d.createV1(this.code,t)}case 1:return this;default:throw Error(`Can not convert CID version ${this.version} to version 0. This is a bug please report`)}}equals(e){return e&&this.code===e.code&&this.version===e.version&&o.equals(this.multihash,e.multihash)}toString(base){const{bytes:e,version:t,_baseCache:n}=this;return 0===t?v(e,n,base||c.base58btc.encoder):m(e,n,base||l.base32.encoder)}toJSON(){return{code:this.code,version:this.version,hash:this.multihash.bytes}}get[Symbol.toStringTag](){return"CID"}[Symbol.for("nodejs.util.inspect.custom")](){return"CID("+this.toString()+")"}static isCID(e){return j(/^0\.0/,k),!(!e||!e[O]&&e.asCID!==e)}get toBaseEncodedString(){throw new Error("Deprecated, use .toString()")}get codec(){throw new Error('"codec" property is deprecated, use integer "code" property instead')}get buffer(){throw new Error("Deprecated .buffer property, use .bytes to get Uint8Array instead")}get multibaseName(){throw new Error('"multibaseName" property is deprecated')}get prefix(){throw new Error('"prefix" property is deprecated')}static asCID(e){if(e instanceof d)return e;if(null!=e&&e.asCID===e){const{version:t,code:code,multihash:n,bytes:r}=e;return new d(t,code,n,r||w(t,code,n.bytes))}if(null!=e&&!0===e[O]){const{version:t,multihash:n,code:code}=e,r=o.decode(n);return d.create(t,code,r)}return null}static create(e,code,t){if("number"!=typeof code)throw new Error("String codecs are no longer supported");switch(e){case 0:if(code!==y)throw new Error(`Version 0 CID must use dag-pb (code: ${y}) block encoding`);return new d(e,code,t,t.bytes);case 1:{const n=w(e,code,t.bytes);return new d(e,code,t,n)}default:throw new Error("Invalid version")}}static createV0(e){return d.create(0,y,e)}static createV1(code,e){return d.create(1,code,e)}static decode(e){const[t,n]=d.decodeFirst(e);if(n.length)throw new Error("Incorrect length");return t}static decodeFirst(e){const t=d.inspectBytes(e),n=t.size-t.multihashSize,r=f.coerce(e.subarray(n,n+t.multihashSize));if(r.byteLength!==t.multihashSize)throw new Error("Incorrect length");const c=r.subarray(t.multihashSize-t.digestSize),l=new o.Digest(t.multihashCode,t.digestSize,c,r);return[0===t.version?d.createV0(l):d.createV1(t.codec,l),e.subarray(t.size)]}static inspectBytes(e){let t=0;const n=()=>{const[i,n]=r.decode(e.subarray(t));return t+=n,i};let o=n(),c=y;if(18===o?(o=0,t=0):1===o&&(c=n()),0!==o&&1!==o)throw new RangeError(`Invalid CID version ${o}`);const l=t,f=n(),d=n(),h=t+d;return{version:o,codec:c,multihashCode:f,digestSize:d,multihashSize:h-l,size:h}}static parse(source,base){const[e,t]=h(source,base),n=d.decode(t);return n._baseCache.set(e,source),n}}const h=(source,base)=>{switch(source[0]){case"Q":{const e=base||c.base58btc;return[c.base58btc.prefix,e.decode(`${c.base58btc.prefix}${source}`)]}case c.base58btc.prefix:{const e=base||c.base58btc;return[c.base58btc.prefix,e.decode(source)]}case l.base32.prefix:{const e=base||l.base32;return[l.base32.prefix,e.decode(source)]}default:if(null==base)throw Error("To parse non base32 or base58btc encoded CID multibase decoder must be provided");return[source[0],base.decode(source)]}},v=(e,t,base)=>{const{prefix:n}=base;if(n!==c.base58btc.prefix)throw Error(`Cannot string encode V0 in ${base.name} encoding`);const r=t.get(n);if(null==r){const r=base.encode(e).slice(1);return t.set(n,r),r}return r},m=(e,t,base)=>{const{prefix:n}=base,r=t.get(n);if(null==r){const r=base.encode(e);return t.set(n,r),r}return r},y=112,_=18,w=(e,code,t)=>{const n=r.encodingLength(e),o=n+r.encodingLength(code),c=new Uint8Array(o+t.byteLength);return r.encodeTo(e,c,0),r.encodeTo(code,c,n),c.set(t,o),c},O=Symbol.for("@ipld/js-cid/CID"),x={writable:!1,configurable:!1,enumerable:!0},E={writable:!1,enumerable:!1,configurable:!1},j=(e,t)=>{if(!e.test("0.0.0-dev"))throw new Error(t);console.warn(t)},k="CID.isCID(v) is deprecated and will be removed in the next major release.\nFollowing code pattern:\n\nif (CID.isCID(value)) {\n  doSomethingWithCID(value)\n}\n\nIs replaced with:\n\nconst cid = CID.asCID(value)\nif (cid) {\n  // Make sure to use cid instead of value\n  doSomethingWithCID(cid)\n}\n";t.CID=d},1059:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1055);t.toString=function(e,t="utf8"){const base=r[t];if(!base)throw new Error(`Unsupported encoding "${t}"`);return"utf8"!==t&&"utf-8"!==t||null==globalThis.Buffer||null==globalThis.Buffer.from?base.encoder.encode(e).substring(1):globalThis.Buffer.from(e.buffer,e.byteOffset,e.byteLength).toString("utf8")}},1060:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(898);r.__exportStar(n(1333),t),r.__exportStar(n(1334),t)},1061:function(e,t,n){"use strict";function r(e){var t=void 0;return"undefined"!=typeof window&&void 0!==window[e]&&(t=window[e]),t}function o(e){var t=r(e);if(!t)throw new Error("".concat(e," is not defined in Window"));return t}Object.defineProperty(t,"__esModule",{value:!0}),t.getLocalStorage=t.getLocalStorageOrThrow=t.getCrypto=t.getCryptoOrThrow=t.getLocation=t.getLocationOrThrow=t.getNavigator=t.getNavigatorOrThrow=t.getDocument=t.getDocumentOrThrow=t.getFromWindowOrThrow=t.getFromWindow=void 0,t.getFromWindow=r,t.getFromWindowOrThrow=o,t.getDocumentOrThrow=function(){return o("document")},t.getDocument=function(){return r("document")},t.getNavigatorOrThrow=function(){return o("navigator")},t.getNavigator=function(){return r("navigator")},t.getLocationOrThrow=function(){return o("location")},t.getLocation=function(){return r("location")},t.getCryptoOrThrow=function(){return o("crypto")},t.getCrypto=function(){return r("crypto")},t.getLocalStorageOrThrow=function(){return o("localStorage")},t.getLocalStorage=function(){return r("localStorage")}},1062:function(e,t){},1063:function(e,t,n){"use strict";n(1064),n(973)},1064:function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return c})),n.d(t,"c",(function(){return l}));var r=n(12);n(1),n(30),n(31),n(8),n(232),n(266);function o(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"string";if(!e[t]||Object(r.a)(e[t])!==n)throw new Error('Missing or invalid "'.concat(t,'" param'))}function c(e,t,n){var r=!n.length?function(e,t){return Array.isArray(e)?e.length===t:Object.keys(e).length===t}(e,t.length):function(e,t){return Array.isArray(e)?e.length>=t:Object.keys(e).length>=t}(e,t.length);return!!r&&function(e,t){var n=!0;return t.forEach((function(t){t in e||(n=!1)})),n}(e,t)}function l(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"_",r=e.split(n);return r[r.length-1].trim().toLowerCase()===t.trim().toLowerCase()}},1065:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r={waku:{publish:"waku_publish",batchPublish:"waku_batchPublish",subscribe:"waku_subscribe",batchSubscribe:"waku_batchSubscribe",subscription:"waku_subscription",unsubscribe:"waku_unsubscribe",batchUnsubscribe:"waku_batchUnsubscribe"},irn:{publish:"irn_publish",batchPublish:"irn_batchPublish",subscribe:"irn_subscribe",batchSubscribe:"irn_batchSubscribe",subscription:"irn_subscription",unsubscribe:"irn_unsubscribe",batchUnsubscribe:"irn_batchUnsubscribe"},iridium:{publish:"iridium_publish",batchPublish:"iridium_batchPublish",subscribe:"iridium_subscribe",batchSubscribe:"iridium_batchSubscribe",subscription:"iridium_subscription",unsubscribe:"iridium_unsubscribe",batchUnsubscribe:"iridium_batchUnsubscribe"}}},1066:function(e,t,n){"use strict";(function(e,r){n.d(t,"a",(function(){return p})),n.d(t,"b",(function(){return N})),n.d(t,"c",(function(){return we})),n.d(t,"d",(function(){return me})),n.d(t,"e",(function(){return ge})),n.d(t,"f",(function(){return W})),n.d(t,"g",(function(){return K})),n.d(t,"h",(function(){return B})),n.d(t,"i",(function(){return G})),n.d(t,"j",(function(){return z})),n.d(t,"k",(function(){return xe})),n.d(t,"l",(function(){return _e})),n.d(t,"m",(function(){return pe})),n.d(t,"n",(function(){return ye})),n.d(t,"o",(function(){return Le})),n.d(t,"p",(function(){return $})),n.d(t,"q",(function(){return H})),n.d(t,"r",(function(){return le})),n.d(t,"s",(function(){return Be})),n.d(t,"t",(function(){return Re})),n.d(t,"u",(function(){return Se})),n.d(t,"v",(function(){return $e})),n.d(t,"w",(function(){return Fe})),n.d(t,"x",(function(){return Ee})),n.d(t,"y",(function(){return F})),n.d(t,"z",(function(){return V})),n.d(t,"A",(function(){return ce})),n.d(t,"B",(function(){return yt})),n.d(t,"C",(function(){return Oe})),n.d(t,"D",(function(){return ae})),n.d(t,"E",(function(){return Xe})),n.d(t,"F",(function(){return se})),n.d(t,"G",(function(){return Ge})),n.d(t,"H",(function(){return Qe})),n.d(t,"I",(function(){return X})),n.d(t,"J",(function(){return ze})),n.d(t,"K",(function(){return Ve})),n.d(t,"L",(function(){return Ze})),n.d(t,"M",(function(){return ft})),n.d(t,"N",(function(){return vt})),n.d(t,"O",(function(){return ut})),n.d(t,"P",(function(){return at})),n.d(t,"Q",(function(){return mt})),n.d(t,"R",(function(){return bt})),n.d(t,"S",(function(){return gt})),n.d(t,"T",(function(){return We})),n.d(t,"U",(function(){return lt})),n.d(t,"V",(function(){return st})),n.d(t,"W",(function(){return ct})),n.d(t,"X",(function(){return pt})),n.d(t,"Y",(function(){return wt})),n.d(t,"Z",(function(){return ot})),n.d(t,"ab",(function(){return ht})),n.d(t,"bb",(function(){return Ke})),n.d(t,"cb",(function(){return Ye})),n.d(t,"db",(function(){return he})),n.d(t,"eb",(function(){return ve})),n.d(t,"fb",(function(){return rt})),n.d(t,"gb",(function(){return Ue})),n.d(t,"hb",(function(){return J})),n.d(t,"ib",(function(){return Y}));n(77),n(61),n(69);var o=n(13),c=n(12),l=n(191),f=n(16),d=(n(74),n(8),n(232),n(68),n(1),n(30),n(87),n(31),n(93),n(36),n(35),n(49),n(14),n(32),n(22),n(39),n(76),n(167),n(41),n(192),n(42),n(193),n(194),n(195),n(196),n(197),n(198),n(199),n(200),n(201),n(202),n(203),n(204),n(205),n(114),n(266),n(57),n(285),n(960),n(21),n(268),n(269),n(270),n(271),n(272),n(273),n(274),n(275),n(276),n(277),n(278),n(279),n(280),n(281),n(282),n(283),n(284),n(52),n(190),n(862),n(863),n(840),n(835),n(407),n(7),n(411),n(961)),h=n(963),v=n(849),m=n(964),y=n(965),_=n(895),w=n(1344),O=n(833),x=n(1067),E=n(1342),j=n(1343),k=n(972);function S(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return R(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return R(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var i=0,r=function(){};return{s:r,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,c=!0,l=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return c=e.done,e},e:function(e){l=!0,o=e},f:function(){try{c||null==n.return||n.return()}finally{if(l)throw o}}}}function R(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,n=new Array(t);i<t;i++)n[i]=e[i];return n}function C(e,t){return e.includes(":")?[e]:t.chains||[]}var I="base10",p="base16",P="base64pad",A="utf8",T=0,N=1,U=0,M=1,L=12,D=32;function $(){var e=y.generateKeyPair();return{privateKey:Object(_.toString)(e.secretKey,p),publicKey:Object(_.toString)(e.publicKey,p)}}function H(){var e=Object(v.randomBytes)(D);return Object(_.toString)(e,p)}function B(e,t){var n=y.sharedKey(Object(_.fromString)(e,p),Object(_.fromString)(t,p)),r=new h.HKDF(m.SHA256,n).expand(D);return Object(_.toString)(r,p)}function F(e){var t=Object(m.hash)(Object(_.fromString)(e,p));return Object(_.toString)(t,p)}function V(e){var t=Object(m.hash)(Object(_.fromString)(e,A));return Object(_.toString)(t,p)}function W(e){return Number(Object(_.toString)(e,I))}function z(e){var t=function(e){return Object(_.fromString)("".concat(e),I)}(Object(c.a)(e.type)<"u"?e.type:T);if(W(t)===N&&Object(c.a)(e.senderPublicKey)>"u")throw new Error("Missing sender public key for type 1 envelope");var n=Object(c.a)(e.senderPublicKey)<"u"?Object(_.fromString)(e.senderPublicKey,p):void 0,r=Object(c.a)(e.iv)<"u"?Object(_.fromString)(e.iv,p):Object(v.randomBytes)(L);return function(e){if(W(e.type)===N){if(Object(c.a)(e.senderPublicKey)>"u")throw new Error("Missing sender public key for type 1 envelope");return Object(_.toString)(Object(_.concat)([e.type,e.senderPublicKey,e.iv,e.sealed]),P)}return Object(_.toString)(Object(_.concat)([e.type,e.iv,e.sealed]),P)}({type:t,sealed:new d.ChaCha20Poly1305(Object(_.fromString)(e.symKey,p)).seal(r,Object(_.fromString)(e.message,A)),iv:r,senderPublicKey:n})}function K(e){var t=new d.ChaCha20Poly1305(Object(_.fromString)(e.symKey,p)),n=G(e.encoded),r=n.sealed,o=n.iv,c=t.open(o,r);if(null===c)throw new Error("Failed to decrypt");return Object(_.toString)(c,A)}function G(e){var t=Object(_.fromString)(e,P),n=t.slice(U,M),r=M;if(W(n)===N){var o=r+D,c=o+L,l=t.slice(r,o),u=t.slice(o,c);return{type:n,sealed:t.slice(c),iv:u,senderPublicKey:l}}var f=r+L,s=t.slice(r,f);return{type:n,sealed:t.slice(f),iv:s}}function J(e,t){var n=G(e);return Y({type:W(n.type),senderPublicKey:Object(c.a)(n.senderPublicKey)<"u"?Object(_.toString)(n.senderPublicKey,p):void 0,receiverPublicKey:null==t?void 0:t.receiverPublicKey})}function Y(e){var t=(null==e?void 0:e.type)||T;if(t===N){if(Object(c.a)(null==e?void 0:e.senderPublicKey)>"u")throw new Error("missing sender public key");if(Object(c.a)(null==e?void 0:e.receiverPublicKey)>"u")throw new Error("missing receiver public key")}return{type:t,senderPublicKey:null==e?void 0:e.senderPublicKey,receiverPublicKey:null==e?void 0:e.receiverPublicKey}}function X(e){return e.type===N&&"string"==typeof e.senderPublicKey&&"string"==typeof e.receiverPublicKey}var Q=Object.defineProperty,Z=Object.getOwnPropertySymbols,ee=Object.prototype.hasOwnProperty,te=Object.prototype.propertyIsEnumerable,ne=function(e,t,n){return t in e?Q(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n},re=function(e,t){for(var n in t||(t={}))ee.call(t,n)&&ne(e,n,t[n]);if(Z){var r,o=S(Z(t));try{for(o.s();!(r=o.n()).done;){n=r.value;te.call(t,n)&&ne(e,n,t[n])}}catch(e){o.e(e)}finally{o.f()}}return e},ie="ReactNative",b={reactNative:"react-native",node:"node",browser:"browser",unknown:"unknown"},oe="js";function ae(){return(void 0===e?"undefined":Object(c.a)(e))<"u"&&Object(c.a)(e.versions)<"u"&&Object(c.a)(e.versions.node)<"u"}function se(){return!Object(x.getDocument)()&&!!Object(x.getNavigator)()&&navigator.product===ie}function ce(){return!ae()&&!!Object(x.getNavigator)()}function ue(){return se()?b.reactNative:ae()?b.node:ce()?b.browser:b.unknown}function le(){return Object(E.getWindowMetadata)()||{name:"",description:"",url:"",icons:[""]}}function fe(e,t,n){var o=function(){if(ue()===b.reactNative&&(void 0===r?"undefined":Object(c.a)(r))<"u"&&Object(c.a)(null==r?void 0:r.Platform)<"u"){var e=r.Platform;return[e.OS,e.Version].join("-")}var t=Object(w.a)();if(null===t)return"unknown";var n=t.os?t.os.replace(" ","").toLowerCase():"unknown";return"browser"===t.type?[n,t.name,t.version].join("-"):[n,t.version].join("-")}(),l=function(){var e,t=ue();return t===b.browser?[t,(null==(e=Object(x.getLocation)())?void 0:e.host)||"unknown"].join(":"):t}();return[[e,t].join("-"),[oe,n].join("-"),o,l].join("/")}function pe(e){var t=e.protocol,n=e.version,r=e.relayUrl,o=e.sdkVersion,c=e.auth,s=e.projectId,i=e.useOnCloseEvent,l=r.split("?"),f={auth:c,ua:fe(t,n,o),projectId:s,useOnCloseEvent:i||void 0},u=function(e,t){var n=j.parse(e);return n=re(re({},n),t),j.stringify(n)}(l[1]||"",f);return l[0]+"?"+u}function de(e,t){return e.filter((function(e){return t.includes(e)})).length===e.length}function he(e){return Object.fromEntries(e.entries())}function ve(e){return new Map(Object.entries(e))}function me(){var e,t,s,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:O.FIVE_MINUTES,r=arguments.length>1?arguments[1]:void 0,o=Object(O.toMiliseconds)(n||O.FIVE_MINUTES);return{resolve:function(i){s&&e&&(clearTimeout(s),e(i))},reject:function(i){s&&t&&(clearTimeout(s),t(i))},done:function(){return new Promise((function(i,n){s=setTimeout((function(){n(new Error(r))}),o),e=i,t=n}))}}}function ge(e,t,n){return new Promise(function(){var r=Object(o.a)(regeneratorRuntime.mark((function r(o,c){var s,i;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return s=setTimeout((function(){return c(new Error(n))}),t),r.prev=1,r.next=4,e;case 4:i=r.sent,o(i),r.next=11;break;case 8:r.prev=8,r.t0=r.catch(1),c(r.t0);case 11:clearTimeout(s);case 12:case"end":return r.stop()}}),r,null,[[1,8]])})));return function(e,t){return r.apply(this,arguments)}}())}function be(e,t){if("string"==typeof t&&t.startsWith("".concat(e,":")))return t;if("topic"===e.toLowerCase()){if("string"!=typeof t)throw new Error('Value must be "string" for expirer target type: topic');return"topic:".concat(t)}if("id"===e.toLowerCase()){if("number"!=typeof t)throw new Error('Value must be "number" for expirer target type: id');return"id:".concat(t)}throw new Error("Unknown expirer target type: ".concat(e))}function ye(e){return be("topic",e)}function _e(e){return be("id",e)}function rt(e){var t=e.split(":"),n=Object(f.a)(t,2),r=n[0],o=n[1],c={id:void 0,topic:void 0};if("topic"===r&&"string"==typeof o)c.topic=o;else{if("id"!==r||!Number.isInteger(Number(o)))throw new Error("Invalid target, expected id:number or topic:string, got ".concat(r,":").concat(o));c.id=Number(o)}return c}function we(e,t){return Object(O.fromMiliseconds)((t||Date.now())+Object(O.toMiliseconds)(e))}function Oe(e){return Date.now()>=Object(O.toMiliseconds)(e)}function xe(e,t){return"".concat(e).concat(t?":".concat(t):"")}function Ee(e){return je.apply(this,arguments)}function je(){return(je=Object(o.a)(regeneratorRuntime.mark((function e(t){var n,o,l,f,d,s,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.id,o=t.topic,l=t.wcDeepLink,e.prev=1,l){e.next=4;break}return e.abrupt("return");case 4:if(f="string"==typeof l?JSON.parse(l):l,"string"==typeof(d=null==f?void 0:f.href)){e.next=8;break}return e.abrupt("return");case 8:if(d.endsWith("/")&&(d=d.slice(0,-1)),s="".concat(d,"/wc?requestId=").concat(n,"&sessionTopic=").concat(o),(i=ue())!==b.browser){e.next=14;break}s.startsWith("https://")?window.open(s,"_blank","noreferrer noopener"):window.open(s,"_self","noreferrer noopener"),e.next=18;break;case 14:if(e.t0=i===b.reactNative&&Object(c.a)(null==r?void 0:r.Linking)<"u",!e.t0){e.next=18;break}return e.next=18,r.Linking.openURL(s);case 18:e.next=23;break;case 20:e.prev=20,e.t1=e.catch(1),console.error(e.t1);case 23:case"end":return e.stop()}}),e,null,[[1,20]])})))).apply(this,arguments)}var ke="irn";function Se(e){return(null==e?void 0:e.relay)||{protocol:ke}}function Re(e){var t=k.RELAY_JSONRPC[e];if(Object(c.a)(t)>"u")throw new Error("Relay Protocol not supported: ".concat(e));return t}var dt=Object.defineProperty,Ce=Object.getOwnPropertySymbols,Ie=Object.prototype.hasOwnProperty,Pe=Object.prototype.propertyIsEnumerable,Ae=function(e,t,n){return t in e?dt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n},Te=function(e,t){for(var n in t||(t={}))Ie.call(t,n)&&Ae(e,n,t[n]);if(Ce){var r,o=S(Ce(t));try{for(o.s();!(r=o.n()).done;){n=r.value;Pe.call(t,n)&&Ae(e,n,t[n])}}catch(e){o.e(e)}finally{o.f()}}return e};function Ne(e){var t={},n="relay"+(arguments.length>1&&void 0!==arguments[1]?arguments[1]:"-");return Object.keys(e).forEach((function(r){if(r.startsWith(n)){var s=r.replace(n,""),i=e[r];t[s]=i}})),t}function Ue(e){var t=e.indexOf(":"),n=-1!==e.indexOf("?")?e.indexOf("?"):void 0,r=e.substring(0,t),o=e.substring(t+1,n).split("@"),s=Object(c.a)(n)<"u"?e.substring(n):"",i=j.parse(s);return{protocol:r,topic:Me(o[0]),version:parseInt(o[1],10),symKey:i.symKey,relay:Ne(i)}}function Me(e){return e.startsWith("//")?e.substring(2):e}function Le(e){return"".concat(e.protocol,":").concat(e.topic,"@").concat(e.version,"?")+j.stringify(Te({symKey:e.symKey},function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"-",n={};return Object.keys(e).forEach((function(r){var s="relay"+t+r;e[r]&&(n[s]=e[r])})),n}(e.relay)))}Object.defineProperty,Object.defineProperties,Object.getOwnPropertyDescriptors,Object.getOwnPropertySymbols,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable;function De(e){var t=[];return e.forEach((function(e){var n=e.split(":"),r=Object(f.a)(n,2),o=r[0],c=r[1];t.push("".concat(o,":").concat(c))})),t}function $e(e,t){var n=at(e,t);if(n)throw new Error(n.message);for(var r={},o=0,c=Object.entries(e);o<c.length;o++){var l=Object(f.a)(c[o],2),d=l[0],s=l[1];r[d]={methods:s.methods,events:s.events,chains:s.accounts.map((function(i){return"".concat(i.split(":")[0],":").concat(i.split(":")[1])}))}}return r}var He={INVALID_METHOD:{message:"Invalid method.",code:1001},INVALID_EVENT:{message:"Invalid event.",code:1002},INVALID_UPDATE_REQUEST:{message:"Invalid update request.",code:1003},INVALID_EXTEND_REQUEST:{message:"Invalid extend request.",code:1004},INVALID_SESSION_SETTLE_REQUEST:{message:"Invalid session settle request.",code:1005},UNAUTHORIZED_METHOD:{message:"Unauthorized method.",code:3001},UNAUTHORIZED_EVENT:{message:"Unauthorized event.",code:3002},UNAUTHORIZED_UPDATE_REQUEST:{message:"Unauthorized update request.",code:3003},UNAUTHORIZED_EXTEND_REQUEST:{message:"Unauthorized extend request.",code:3004},USER_REJECTED:{message:"User rejected.",code:5e3},USER_REJECTED_CHAINS:{message:"User rejected chains.",code:5001},USER_REJECTED_METHODS:{message:"User rejected methods.",code:5002},USER_REJECTED_EVENTS:{message:"User rejected events.",code:5003},UNSUPPORTED_CHAINS:{message:"Unsupported chains.",code:5100},UNSUPPORTED_METHODS:{message:"Unsupported methods.",code:5101},UNSUPPORTED_EVENTS:{message:"Unsupported events.",code:5102},UNSUPPORTED_ACCOUNTS:{message:"Unsupported accounts.",code:5103},UNSUPPORTED_NAMESPACE_KEY:{message:"Unsupported namespace key.",code:5104},USER_DISCONNECTED:{message:"User disconnected.",code:6e3},SESSION_SETTLEMENT_FAILED:{message:"Session settlement failed.",code:7e3},WC_METHOD_UNSUPPORTED:{message:"Unsupported wc_ method.",code:10001}},qe={NOT_INITIALIZED:{message:"Not initialized.",code:1},NO_MATCHING_KEY:{message:"No matching key.",code:2},RESTORE_WILL_OVERRIDE:{message:"Restore will override.",code:3},RESUBSCRIBED:{message:"Resubscribed.",code:4},MISSING_OR_INVALID:{message:"Missing or invalid.",code:5},EXPIRED:{message:"Expired.",code:6},UNKNOWN_TYPE:{message:"Unknown type.",code:7},MISMATCHED_TOPIC:{message:"Mismatched topic.",code:8},NON_CONFORMING_NAMESPACES:{message:"Non conforming namespaces.",code:9}};function Be(e,t){var n=qe[e],r=n.message,o=n.code;return{message:t?"".concat(r," ").concat(t):r,code:o}}function Fe(e,t){var n=He[e],r=n.message,o=n.code;return{message:t?"".concat(r," ").concat(t):r,code:o}}function Ve(e,t){return!!Array.isArray(e)&&(!(Object(c.a)(t)<"u"&&e.length)||e.every(t))}function We(e){return Object.getPrototypeOf(e)===Object.prototype&&Object.keys(e).length}function ze(e){return Object(c.a)(e)>"u"}function Ke(e,t){return!(!t||!ze(e))||"string"==typeof e&&!!e.trim().length}function q(e,t){return!(!t||!ze(e))||"number"==typeof e&&!isNaN(e)}function Ge(e,t){var n=t.requiredNamespaces,r=Object.keys(e.namespaces),o=Object.keys(n),s=!0;return!!de(o,r)&&(r.forEach((function(i){var t=e.namespaces[i],r=t.accounts,o=t.methods,c=t.events,u=De(r),a=n[i];de(C(i,a),u)&&de(a.methods,o)&&de(a.events,c)||(s=!1)})),s)}function Je(e){return!(!Ke(e,!1)||!e.includes(":"))&&2===e.split(":").length}function Ye(e){if(Ke(e,!1))try{return Object(c.a)(new URL(e))<"u"}catch(e){return!1}return!1}function Xe(e){var t;return null==(t=null==e?void 0:e.proposer)?void 0:t.publicKey}function Qe(e){return null==e?void 0:e.topic}function Ze(e,t){var n=null;return Ke(null==e?void 0:e.publicKey,!1)||(n=Be("MISSING_OR_INVALID","".concat(t," controller public key should be a string"))),n}function et(e){var t=!0;return Ve(e)?e.length&&(t=e.every((function(e){return Ke(e,!1)}))):t=!1,t}function tt(e,t,n){var r=null;return Object.entries(e).forEach((function(e){var o=Object(f.a)(e,2),c=o[0],s=o[1];if(!r){var i=function(e,t,n){var r=null;return Ve(t)&&t.length?t.forEach((function(e){r||Je(e)||(r=Fe("UNSUPPORTED_CHAINS","".concat(n,", chain ").concat(e,' should be a string and conform to "namespace:chainId" format')))})):Je(e)||(r=Fe("UNSUPPORTED_CHAINS","".concat(n,', chains must be defined as "namespace:chainId" e.g. "eip155:1": {...} in the namespace key OR as an array of CAIP-2 chainIds e.g. eip155: { chains: ["eip155:1", "eip155:5"] }'))),r}(c,C(c,s),"".concat(t," ").concat(n));i&&(r=i)}})),r}function nt(e,t){var n=null;return Ve(e)?e.forEach((function(e){n||function(e){if(Ke(e,!1)&&e.includes(":")){var t=e.split(":");if(3===t.length){var n=t[0]+":"+t[1];return!!t[2]&&Je(n)}}return!1}(e)||(n=Fe("UNSUPPORTED_ACCOUNTS","".concat(t,", account ").concat(e,' should be a string and conform to "namespace:chainId:address" format')))})):n=Fe("UNSUPPORTED_ACCOUNTS","".concat(t,', accounts should be an array of strings conforming to "namespace:chainId:address" format')),n}function it(e,t){var n=null;return Object.values(e).forEach((function(e){if(!n){var r=function(e,t){var n=null;return et(null==e?void 0:e.methods)?et(null==e?void 0:e.events)||(n=Fe("UNSUPPORTED_EVENTS","".concat(t,", events should be an array of strings or empty array for no events"))):n=Fe("UNSUPPORTED_METHODS","".concat(t,", methods should be an array of strings or empty array for no methods")),n}(e,"".concat(t,", namespace"));r&&(n=r)}})),n}function ot(e,t,n){var r=null;if(e&&We(e)){var o=it(e,t);o&&(r=o);var s=tt(e,t,n);s&&(r=s)}else r=Be("MISSING_OR_INVALID","".concat(t,", ").concat(n," should be an object with data"));return r}function at(e,t){var n=null;if(e&&We(e)){var r=it(e,t);r&&(n=r);var o=function(e,t){var n=null;return Object.values(e).forEach((function(e){if(!n){var r=nt(null==e?void 0:e.accounts,"".concat(t," namespace"));r&&(n=r)}})),n}(e,t);o&&(n=o)}else n=Be("MISSING_OR_INVALID","".concat(t,", namespaces should be an object with data"));return n}function st(e){return Ke(e.protocol,!0)}function ct(e,t){var n=!1;return t&&!e?n=!0:e&&Ve(e)&&e.length&&e.forEach((function(e){n=st(e)})),n}function ut(e){return"number"==typeof e}function lt(e){return Object(c.a)(e)<"u"&&null!==Object(c.a)(e)}function ft(e){return!!(e&&"object"==Object(c.a)(e)&&e.code&&q(e.code,!1)&&e.message&&Ke(e.message,!1))}function pt(e){return!(ze(e)||!Ke(e.method,!1))}function ht(e){return!(ze(e)||ze(e.result)&&ze(e.error)||!q(e.id,!1)||!Ke(e.jsonrpc,!1))}function vt(e){return!(ze(e)||!Ke(e.name,!1))}function mt(e,t){return!(!Je(t)||!function(e){var t=[];return Object.values(e).forEach((function(e){t.push.apply(t,Object(l.a)(De(e.accounts)))})),t}(e).includes(t))}function gt(e,t,n){return!!Ke(n,!1)&&function(e,t){var n=[];return Object.values(e).forEach((function(e){De(e.accounts).includes(t)&&n.push.apply(n,Object(l.a)(e.methods))})),n}(e,t).includes(n)}function bt(e,t,n){return!!Ke(n,!1)&&function(e,t){var n=[];return Object.values(e).forEach((function(e){De(e.accounts).includes(t)&&n.push.apply(n,Object(l.a)(e.events))})),n}(e,t).includes(n)}function yt(e,t,n){var r=null,o=function(e){var t={};return Object.keys(e).forEach((function(n){var r;n.includes(":")?t[n]=e[n]:null==(r=e[n].chains)||r.forEach((function(r){t[r]={methods:e[n].methods,events:e[n].events}}))})),t}(e),s=function(e){var t={};return Object.keys(e).forEach((function(n){if(n.includes(":"))t[n]=e[n];else{var r=De(e[n].accounts);null==r||r.forEach((function(r){t[r]={accounts:e[n].accounts.filter((function(s){return s.includes("".concat(r,":"))})),methods:e[n].methods,events:e[n].events}}))}})),t}(t),i=Object.keys(o),c=Object.keys(s),l=_t(Object.keys(e)),f=_t(Object.keys(t)),u=l.filter((function(a){return!f.includes(a)}));return u.length&&(r=Be("NON_CONFORMING_NAMESPACES","".concat(n," namespaces keys don't satisfy requiredNamespaces.\n      Required: ").concat(u.toString(),"\n      Received: ").concat(Object.keys(t).toString()))),de(i,c)||(r=Be("NON_CONFORMING_NAMESPACES","".concat(n," namespaces chains don't satisfy required namespaces.\n      Required: ").concat(i.toString(),"\n      Approved: ").concat(c.toString()))),Object.keys(t).forEach((function(a){if(a.includes(":")&&!r){var g=De(t[a].accounts);g.includes(a)||(r=Be("NON_CONFORMING_NAMESPACES","".concat(n," namespaces accounts don't satisfy namespace accounts for ").concat(a,"\n        Required: ").concat(a,"\n        Approved: ").concat(g.toString())))}})),i.forEach((function(a){r||(de(o[a].methods,s[a].methods)?de(o[a].events,s[a].events)||(r=Be("NON_CONFORMING_NAMESPACES","".concat(n," namespaces events don't satisfy namespace events for ").concat(a))):r=Be("NON_CONFORMING_NAMESPACES","".concat(n," namespaces methods don't satisfy namespace methods for ").concat(a)))})),r}function _t(e){return Object(l.a)(new Set(e.map((function(e){return e.includes(":")?e.split(":")[0]:e}))))}function wt(e,t){return q(e,!1)&&e<=t.max&&e>=t.min}}).call(this,n(51),n(45))},1067:function(e,t,n){"use strict";function r(e){var t=void 0;return"undefined"!=typeof window&&void 0!==window[e]&&(t=window[e]),t}function o(e){var t=r(e);if(!t)throw new Error("".concat(e," is not defined in Window"));return t}Object.defineProperty(t,"__esModule",{value:!0}),t.getLocalStorage=t.getLocalStorageOrThrow=t.getCrypto=t.getCryptoOrThrow=t.getLocation=t.getLocationOrThrow=t.getNavigator=t.getNavigatorOrThrow=t.getDocument=t.getDocumentOrThrow=t.getFromWindowOrThrow=t.getFromWindow=void 0,t.getFromWindow=r,t.getFromWindowOrThrow=o,t.getDocumentOrThrow=function(){return o("document")},t.getDocument=function(){return r("document")},t.getNavigatorOrThrow=function(){return o("navigator")},t.getNavigator=function(){return r("navigator")},t.getLocationOrThrow=function(){return o("location")},t.getLocation=function(){return r("location")},t.getCryptoOrThrow=function(){return o("crypto")},t.getCrypto=function(){return r("crypto")},t.getLocalStorageOrThrow=function(){return o("localStorage")},t.getLocalStorage=function(){return r("localStorage")}},1068:function(e,t,n){"use strict";n.r(t),n.d(t,"__extends",(function(){return c})),n.d(t,"__assign",(function(){return l})),n.d(t,"__rest",(function(){return f})),n.d(t,"__decorate",(function(){return d})),n.d(t,"__param",(function(){return h})),n.d(t,"__metadata",(function(){return v})),n.d(t,"__awaiter",(function(){return m})),n.d(t,"__generator",(function(){return y})),n.d(t,"__createBinding",(function(){return _})),n.d(t,"__exportStar",(function(){return w})),n.d(t,"__values",(function(){return O})),n.d(t,"__read",(function(){return x})),n.d(t,"__spread",(function(){return E})),n.d(t,"__spreadArrays",(function(){return j})),n.d(t,"__await",(function(){return k})),n.d(t,"__asyncGenerator",(function(){return S})),n.d(t,"__asyncDelegator",(function(){return R})),n.d(t,"__asyncValues",(function(){return C})),n.d(t,"__makeTemplateObject",(function(){return I})),n.d(t,"__importStar",(function(){return P})),n.d(t,"__importDefault",(function(){return A})),n.d(t,"__classPrivateFieldGet",(function(){return T})),n.d(t,"__classPrivateFieldSet",(function(){return N}));var r=n(12),o=(n(873),n(32),n(48),n(1),n(874),n(61),n(69),n(42),n(41),n(21),n(875),function(e,b){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,b){e.__proto__=b}||function(e,b){for(var p in b)b.hasOwnProperty(p)&&(e[p]=b[p])},o(e,b)});function c(e,b){function t(){this.constructor=e}o(e,b),e.prototype=null===b?Object.create(b):(t.prototype=b.prototype,new t)}var l=function(){return l=Object.assign||function(e){for(var s,i=1,t=arguments.length;i<t;i++)for(var p in s=arguments[i])Object.prototype.hasOwnProperty.call(s,p)&&(e[p]=s[p]);return e},l.apply(this,arguments)};function f(s,e){var t={};for(var p in s)Object.prototype.hasOwnProperty.call(s,p)&&e.indexOf(p)<0&&(t[p]=s[p]);if(null!=s&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(p=Object.getOwnPropertySymbols(s);i<p.length;i++)e.indexOf(p[i])<0&&Object.prototype.propertyIsEnumerable.call(s,p[i])&&(t[p[i]]=s[p[i]])}return t}function d(e,t,n,desc){var o,c=arguments.length,l=c<3?t:null===desc?desc=Object.getOwnPropertyDescriptor(t,n):desc;if("object"===("undefined"==typeof Reflect?"undefined":Object(r.a)(Reflect))&&"function"==typeof Reflect.decorate)l=Reflect.decorate(e,t,n,desc);else for(var i=e.length-1;i>=0;i--)(o=e[i])&&(l=(c<3?o(l):c>3?o(t,n,l):o(t,n))||l);return c>3&&l&&Object.defineProperty(t,n,l),l}function h(e,t){return function(n,r){t(n,r,e)}}function v(e,t){if("object"===("undefined"==typeof Reflect?"undefined":Object(r.a)(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}function m(e,t,n,r){return new(n||(n=Promise))((function(o,c){function l(e){try{d(r.next(e))}catch(e){c(e)}}function f(e){try{d(r.throw(e))}catch(e){c(e)}}function d(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(l,f)}d((r=r.apply(e,t||[])).next())}))}function y(e,body){var t,n,r,g,o={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return g={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(g[Symbol.iterator]=function(){return this}),g;function c(c){return function(l){return function(c){if(t)throw new TypeError("Generator is already executing.");for(;o;)try{if(t=1,n&&(r=2&c[0]?n.return:c[0]?n.throw||((r=n.return)&&r.call(n),0):n.next)&&!(r=r.call(n,c[1])).done)return r;switch(n=0,r&&(c=[2&c[0],r.value]),c[0]){case 0:case 1:r=c;break;case 4:return o.label++,{value:c[1],done:!1};case 5:o.label++,n=c[1],c=[0];continue;case 7:c=o.ops.pop(),o.trys.pop();continue;default:if(!(r=o.trys,(r=r.length>0&&r[r.length-1])||6!==c[0]&&2!==c[0])){o=0;continue}if(3===c[0]&&(!r||c[1]>r[0]&&c[1]<r[3])){o.label=c[1];break}if(6===c[0]&&o.label<r[1]){o.label=r[1],r=c;break}if(r&&o.label<r[2]){o.label=r[2],o.ops.push(c);break}r[2]&&o.ops.pop(),o.trys.pop();continue}c=body.call(e,o)}catch(e){c=[6,e],n=0}finally{t=r=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,l])}}}function _(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}function w(e,t){for(var p in e)"default"===p||t.hasOwnProperty(p)||(t[p]=e[p])}function O(e){var s="function"==typeof Symbol&&Symbol.iterator,t=s&&e[s],i=0;if(t)return t.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&i>=e.length&&(e=void 0),{value:e&&e[i++],done:!e}}};throw new TypeError(s?"Object is not iterable.":"Symbol.iterator is not defined.")}function x(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),c=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)c.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return c}function E(){for(var e=[],i=0;i<arguments.length;i++)e=e.concat(x(arguments[i]));return e}function j(){for(var s=0,i=0,e=arguments.length;i<e;i++)s+=arguments[i].length;var t=Array(s),n=0;for(i=0;i<e;i++)for(var a=arguments[i],r=0,o=a.length;r<o;r++,n++)t[n]=a[r];return t}function k(e){return this instanceof k?(this.v=e,this):new k(e)}function S(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,g=n.apply(e,t||[]),q=[];return i={},r("next"),r("throw"),r("return"),i[Symbol.asyncIterator]=function(){return this},i;function r(e){g[e]&&(i[e]=function(t){return new Promise((function(a,b){q.push([e,t,a,b])>1||o(e,t)}))})}function o(e,t){try{(n=g[e](t)).value instanceof k?Promise.resolve(n.value.v).then(c,l):f(q[0][2],n)}catch(e){f(q[0][3],e)}var n}function c(e){o("next",e)}function l(e){o("throw",e)}function f(e,t){e(t),q.shift(),q.length&&o(q[0][0],q[0][1])}}function R(e){var i,p;return i={},t("next"),t("throw",(function(e){throw e})),t("return"),i[Symbol.iterator]=function(){return this},i;function t(t,n){i[t]=e[t]?function(r){return(p=!p)?{value:k(e[t](r)),done:"return"===t}:n?n(r):r}:n}}function C(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,t=e[Symbol.asyncIterator];return t?t.call(e):(e=O(e),i={},n("next"),n("throw"),n("return"),i[Symbol.asyncIterator]=function(){return this},i);function n(t){i[t]=e[t]&&function(n){return new Promise((function(r,o){(function(e,t,n,r){Promise.resolve(r).then((function(t){e({value:t,done:n})}),t)})(r,o,(n=e[t](n)).done,n.value)}))}}}function I(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}function P(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function A(e){return e&&e.__esModule?e:{default:e}}function T(e,t){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)}function N(e,t,n){if(!t.has(e))throw new TypeError("attempted to set private field on non-instance");return t.set(e,n),n}},1069:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.safeJsonParse=function(e){if("string"!=typeof e)throw new Error("Cannot safe json parse value of type "+typeof e);try{return JSON.parse(e)}catch(t){return e}},t.safeJsonStringify=function(e){return"string"==typeof e?e:JSON.stringify(e,((e,t)=>void 0===t?null:t))}},1070:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n(899).__exportStar(n(1356),t)},1071:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n(899).__exportStar(n(1357),t)},1072:function(e,t,n){"use strict";n.d(t,"a",(function(){return h})),n.d(t,"b",(function(){return v}));var r=n(13),o=(n(74),n(1360)),c=n(849),l=n(833),f=n(900),d=n(978);function h(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Object(c.randomBytes)(f.j);return o.generateKeyPairFromSeed(e)}function v(e,t,n,r){return m.apply(this,arguments)}function m(){return m=Object(r.a)(regeneratorRuntime.mark((function e(sub,t,n,r){var c,header,h,v,data,m,y=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=y.length>4&&void 0!==y[4]?y[4]:Object(l.fromMiliseconds)(Date.now()),header={alg:f.h,typ:f.i},h=Object(d.d)(r.publicKey),v={iss:h,sub:sub,aud:t,iat:c,exp:c+n},data=Object(d.c)({header:header,payload:v}),m=o.sign(r.secretKey,data),e.abrupt("return",Object(d.e)({header:header,payload:v,signature:m}));case 8:case"end":return e.stop()}}),e)}))),m.apply(this,arguments)}},1073:function(e,t){},1074:function(e,t,n){"use strict";n.d(t,"a",(function(){return y})),n.d(t,"b",(function(){return E})),n.d(t,"c",(function(){return O})),n.d(t,"d",(function(){return _})),n.d(t,"e",(function(){return a})),n.d(t,"f",(function(){return u})),n.d(t,"g",(function(){return g})),n.d(t,"h",(function(){return b})),n.d(t,"i",(function(){return p})),n.d(t,"j",(function(){return w})),n.d(t,"k",(function(){return x}));n(188);var r=n(56),o=n(55),c=n(124),l=n(125),f=n(75),d=(n(192),n(1),n(42),n(193),n(194),n(195),n(196),n(197),n(198),n(199),n(200),n(201),n(202),n(203),n(204),n(205),n(41),n(39),n(36),n(1083)),h=n(94),v=n.n(h);function m(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Object(f.a)(e);if(t){var o=Object(f.a)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Object(l.a)(this,n)}}var y=function(e){Object(c.a)(n,e);var t=m(n);function n(s){var e;return Object(o.a)(this,n),(e=t.call(this)).opts=s,e.protocol="wc",e.version=2,e}return Object(r.a)(n)}(d.IEvents),_=function(e){Object(c.a)(n,e);var t=m(n);function n(s,e){var r;return Object(o.a)(this,n),(r=t.call(this)).core=s,r.logger=e,r.records=new Map,r}return Object(r.a)(n)}(d.IEvents),a=Object(r.a)((function a(s,e){Object(o.a)(this,a),this.logger=s,this.core=e})),u=function(e){Object(c.a)(u,e);var t=m(u);function u(s,e){var n;return Object(o.a)(this,u),(n=t.call(this)).relayer=s,n.logger=e,n}return Object(r.a)(u)}(d.IEvents),g=function(e){Object(c.a)(g,e);var t=m(g);function g(s){return Object(o.a)(this,g),t.call(this)}return Object(r.a)(g)}(d.IEvents),p=Object(r.a)((function p(s,e,t,n){Object(o.a)(this,p),this.core=s,this.logger=e,this.name=t})),w=function(e){Object(c.a)(n,e);var t=m(n);function n(s,e){var r;return Object(o.a)(this,n),(r=t.call(this)).relayer=s,r.logger=e,r}return Object(r.a)(n)}(d.IEvents),O=function(e){Object(c.a)(n,e);var t=m(n);function n(s,e){var r;return Object(o.a)(this,n),(r=t.call(this)).core=s,r.logger=e,r}return Object(r.a)(n)}(d.IEvents),x=Object(r.a)((function e(s,t){Object(o.a)(this,e),this.projectId=s,this.logger=t})),b=(v.a,Object(r.a)((function b(s){Object(o.a)(this,b),this.opts=s,this.protocol="wc",this.version=2}))),E=(h.EventEmitter,Object(r.a)((function e(s){Object(o.a)(this,e),this.client=s})))},1075:function(e,t,n){"use strict";function r(e){var t=void 0;return"undefined"!=typeof window&&void 0!==window[e]&&(t=window[e]),t}function o(e){var t=r(e);if(!t)throw new Error("".concat(e," is not defined in Window"));return t}Object.defineProperty(t,"__esModule",{value:!0}),t.getLocalStorage=t.getLocalStorageOrThrow=t.getCrypto=t.getCryptoOrThrow=t.getLocation=t.getLocationOrThrow=t.getNavigator=t.getNavigatorOrThrow=t.getDocument=t.getDocumentOrThrow=t.getFromWindowOrThrow=t.getFromWindow=void 0,t.getFromWindow=r,t.getFromWindowOrThrow=o,t.getDocumentOrThrow=function(){return o("document")},t.getDocument=function(){return r("document")},t.getNavigatorOrThrow=function(){return o("navigator")},t.getNavigator=function(){return r("navigator")},t.getLocationOrThrow=function(){return o("location")},t.getLocation=function(){return r("location")},t.getCryptoOrThrow=function(){return o("crypto")},t.getCrypto=function(){return r("crypto")},t.getLocalStorageOrThrow=function(){return o("localStorage")},t.getLocalStorage=function(){return r("localStorage")}},1081:function(e,t,n){"use strict";n.d(t,"a",(function(){return v}));var r=n(56),o=n(55),c=Object(r.a)((function e(){Object(o.a)(this,e)})),l=(n(1),n(188),n(124)),f=n(125),d=n(75);function h(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Object(d.a)(e);if(t){var o=Object(d.a)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Object(f.a)(this,n)}}var v=function(e){Object(l.a)(n,e);var t=h(n);function n(e){return Object(o.a)(this,n),t.call(this)}return Object(r.a)(n)}(function(e){Object(l.a)(n,e);var t=h(n);function n(){return Object(o.a)(this,n),t.call(this)}return Object(r.a)(n)}(c))},1082:function(e,t,n){"use strict";n.d(t,"a",(function(){return y}));n(188);var r=n(13),o=n(55),c=n(56),l=n(124),f=n(125),d=n(75),h=(n(1),n(7),n(21),n(74),n(94)),v=n(876);function m(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Object(d.a)(e);if(t){var o=Object(d.a)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Object(f.a)(this,n)}}var y=function(e){Object(l.a)(O,e);var t,n,f,d,y,_,w=m(O);function O(e){var t;return Object(o.a)(this,O),(t=w.call(this,e)).events=new h.EventEmitter,t.hasRegisteredEventListeners=!1,t.connection=t.setConnection(e),t.connection.connected&&t.registerEventListeners(),t}return Object(c.a)(O,[{key:"connect",value:(_=Object(r.a)(regeneratorRuntime.mark((function e(){var t,n=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.length>0&&void 0!==n[0]?n[0]:this.connection,e.next=3,this.open(t);case 3:case"end":return e.stop()}}),e,this)}))),function(){return _.apply(this,arguments)})},{key:"disconnect",value:(y=Object(r.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.close();case 2:case"end":return e.stop()}}),e,this)}))),function(){return y.apply(this,arguments)})},{key:"on",value:function(e,t){this.events.on(e,t)}},{key:"once",value:function(e,t){this.events.once(e,t)}},{key:"off",value:function(e,t){this.events.off(e,t)}},{key:"removeListener",value:function(e,t){this.events.removeListener(e,t)}},{key:"request",value:(d=Object(r.a)(regeneratorRuntime.mark((function e(t,n){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.requestStrict(Object(v.formatJsonRpcRequest)(t.method,t.params||[],t.id||Object(v.getBigIntRpcId)().toString()),n));case 1:case"end":return e.stop()}}),e,this)}))),function(e,t){return d.apply(this,arguments)})},{key:"requestStrict",value:(f=Object(r.a)(regeneratorRuntime.mark((function e(t,n){var o=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise(function(){var e=Object(r.a)(regeneratorRuntime.mark((function e(r,c){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o.connection.connected){e.next=9;break}return e.prev=1,e.next=4,o.open();case 4:e.next=9;break;case 6:e.prev=6,e.t0=e.catch(1),c(e.t0);case 9:return o.events.on("".concat(t.id),(function(e){Object(v.isJsonRpcError)(e)?c(e.error):r(e.result)})),e.prev=10,e.next=13,o.connection.send(t,n);case 13:e.next=18;break;case 15:e.prev=15,e.t1=e.catch(10),c(e.t1);case 18:case"end":return e.stop()}}),e,null,[[1,6],[10,15]])})));return function(t,n){return e.apply(this,arguments)}}()));case 1:case"end":return e.stop()}}),e)}))),function(e,t){return f.apply(this,arguments)})},{key:"setConnection",value:function(){return arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.connection}},{key:"onPayload",value:function(e){this.events.emit("payload",e),Object(v.isJsonRpcResponse)(e)?this.events.emit("".concat(e.id),e):this.events.emit("message",{type:e.method,data:e.params})}},{key:"onClose",value:function(e){e&&3e3===e.code&&this.events.emit("error",new Error("WebSocket connection closed abnormally with code: ".concat(e.code," ").concat(e.reason?"(".concat(e.reason,")"):""))),this.events.emit("disconnect")}},{key:"open",value:(n=Object(r.a)(regeneratorRuntime.mark((function e(){var t,n=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=n.length>0&&void 0!==n[0]?n[0]:this.connection,this.connection!==t||!this.connection.connected){e.next=3;break}return e.abrupt("return");case 3:if(this.connection.connected&&this.close(),"string"!=typeof t){e.next=8;break}return e.next=7,this.connection.open(t);case 7:t=this.connection;case 8:return this.connection=this.setConnection(t),e.next=11,this.connection.open();case 11:this.registerEventListeners(),this.events.emit("connect");case 13:case"end":return e.stop()}}),e,this)}))),function(){return n.apply(this,arguments)})},{key:"close",value:(t=Object(r.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.connection.close();case 2:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})},{key:"registerEventListeners",value:function(){var e=this;this.hasRegisteredEventListeners||(this.connection.on("payload",(function(t){return e.onPayload(t)})),this.connection.on("close",(function(t){return e.onClose(t)})),this.connection.on("error",(function(t){return e.events.emit("error",t)})),this.connection.on("register_error",(function(t){return e.onClose()})),this.hasRegisteredEventListeners=!0)}}]),O}(v.IJsonRpcProvider)},1083:function(e,t,n){"use strict";n.r(t),n.d(t,"IEvents",(function(){return c}));var r=n(56),o=n(55),c=Object(r.a)((function e(){Object(o.a)(this,e)}))},1283:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return pe}));n(77),n(61),n(69);var r=n(13),o=n(55),c=n(56),l=n(16),f=n(191),d=n(12),h=(n(74),n(829),n(126),n(8),n(7),n(68),n(76),n(189),n(22),n(14),n(1),n(30),n(430),n(41),n(335),n(39),n(36),n(857),n(141),n(232),n(338),n(1284),n(21),n(337),n(35),n(1285),n(1286),n(411),n(140),n(544),n(87),n(93),n(1287),n(872),n(538),n(285),n(266),n(1288),n(1290),n(537),n(52),n(32),n(49),n(31),n(114),n(268),n(42),n(269),n(270),n(271),n(272),n(273),n(274),n(275),n(276),n(277),n(278),n(279),n(280),n(281),n(282),n(283),n(284),n(1341)),v=n(1301),m=n(957),y=n(1403),_=n(1082),w=n(94),O=n.n(w);function x(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return E(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return E(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var i=0,r=function(){};return{s:r,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,c=!0,l=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return c=e.done,e},e:function(e){l=!0,o=e},f:function(){try{c||null==n.return||n.return()}finally{if(l)throw o}}}}function E(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,n=new Array(t);i<t;i++)n[i]=e[i];return n}var j,u,k="error",S="".concat("wc","@2:").concat("universal_provider",":"),R="default_chain_changed",C=("undefined"==typeof globalThis?"undefined":Object(d.a)(globalThis))<"u"?globalThis:("undefined"==typeof window?"undefined":Object(d.a)(window))<"u"?window:(void 0===e?"undefined":Object(d.a)(e))<"u"?e:("undefined"==typeof self?"undefined":Object(d.a)(self))<"u"?self:{},I={exports:{}};j=I,u=I.exports,function(){var i,e="Expected a function",t="__lodash_hash_undefined__",n="__lodash_placeholder__",r=16,o=32,c=64,l=128,f=256,h=1/0,v=9007199254740991,m=NaN,y=4294967295,_=[["ary",l],["bind",1],["bindKey",2],["curry",8],["curryRight",r],["flip",512],["partial",o],["partialRight",c],["rearg",f]],w="[object Arguments]",O="[object Array]",x="[object Boolean]",E="[object Date]",k="[object Error]",S="[object Function]",R="[object GeneratorFunction]",I="[object Map]",P="[object Number]",A="[object Object]",T="[object Promise]",N="[object RegExp]",U="[object Set]",M="[object String]",L="[object Symbol]",D="[object WeakMap]",$="[object ArrayBuffer]",H="[object DataView]",B="[object Float32Array]",F="[object Float64Array]",V="[object Int8Array]",W="[object Int16Array]",z="[object Int32Array]",K="[object Uint8Array]",G="[object Uint8ClampedArray]",J="[object Uint16Array]",Y="[object Uint32Array]",X=/\b__p \+= '';/g,Q=/\b(__p \+=) '' \+/g,Z=/(__e\(.*?\)|\b__t\)) \+\n'';/g,ee=/&(?:amp|lt|gt|quot|#39);/g,te=/[&<>"']/g,ne=RegExp(ee.source),re=RegExp(te.source),ie=/<%-([\s\S]+?)%>/g,oe=/<%([\s\S]+?)%>/g,ae=/<%=([\s\S]+?)%>/g,se=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,ce=/^\w*$/,ue=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,le=/[\\^$.*+?()[\]{}|]/g,fe=RegExp(le.source),pe=/^\s+/,de=/\s/,he=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,ve=/\{\n\/\* \[wrapped with (.+)\] \*/,me=/,? & /,ge=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,be=/[()=,{}\[\]\/\s]/,ye=/\\(\\)?/g,_e=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,we=/\w*$/,Oe=/^[-+]0x[0-9a-f]+$/i,xe=/^0b[01]+$/i,Ee=/^\[object .+?Constructor\]$/,je=/^0o[0-7]+$/i,ke=/^(?:0|[1-9]\d*)$/,Se=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Re=/($^)/,Ce=/['\n\r\u2028\u2029\\]/g,Ie="\\ud800-\\udfff",Pe="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",Ae="\\u2700-\\u27bf",Te="a-z\\xdf-\\xf6\\xf8-\\xff",Ne="A-Z\\xc0-\\xd6\\xd8-\\xde",Ue="\\ufe0e\\ufe0f",Me="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Le="['’]",De="["+Ie+"]",$e="["+Me+"]",He="["+Pe+"]",qe="\\d+",Be="["+Ae+"]",Fe="["+Te+"]",Ve="[^"+Ie+Me+qe+Ae+Te+Ne+"]",We="\\ud83c[\\udffb-\\udfff]",ze="[^"+Ie+"]",Ke="(?:\\ud83c[\\udde6-\\uddff]){2}",Ge="[\\ud800-\\udbff][\\udc00-\\udfff]",Je="["+Ne+"]",Ye="\\u200d",Xe="(?:"+Fe+"|"+Ve+")",Qe="(?:"+Je+"|"+Ve+")",Ze="(?:['’](?:d|ll|m|re|s|t|ve))?",et="(?:['’](?:D|LL|M|RE|S|T|VE))?",tt="(?:"+He+"|"+We+")?",nt="["+Ue+"]?",it=nt+tt+"(?:"+Ye+"(?:"+[ze,Ke,Ge].join("|")+")"+nt+tt+")*",ot="(?:"+[Be,Ke,Ge].join("|")+")"+it,at="(?:"+[ze+He+"?",He,Ke,Ge,De].join("|")+")",st=RegExp(Le,"g"),ct=RegExp(He,"g"),ut=RegExp(We+"(?="+We+")|"+at+it,"g"),lt=RegExp([Je+"?"+Fe+"+"+Ze+"(?="+[$e,Je,"$"].join("|")+")",Qe+"+"+et+"(?="+[$e,Je+Xe,"$"].join("|")+")",Je+"?"+Xe+"+"+Ze,Je+"+"+et,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",qe,ot].join("|"),"g"),ft=RegExp("["+Ye+Ie+Pe+Ue+"]"),pt=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,ht=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],vt=-1,mt={};mt[B]=mt[F]=mt[V]=mt[W]=mt[z]=mt[K]=mt[G]=mt[J]=mt[Y]=!0,mt[w]=mt[O]=mt[$]=mt[x]=mt[H]=mt[E]=mt[k]=mt[S]=mt[I]=mt[P]=mt[A]=mt[N]=mt[U]=mt[M]=mt[D]=!1;var q={};q[w]=q[O]=q[$]=q[H]=q[x]=q[E]=q[B]=q[F]=q[V]=q[W]=q[z]=q[I]=q[P]=q[A]=q[N]=q[U]=q[M]=q[L]=q[K]=q[G]=q[J]=q[Y]=!0,q[k]=q[S]=q[D]=!1;var gt={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},bt=parseFloat,yt=parseInt,_t="object"==Object(d.a)(C)&&C&&C.Object===Object&&C,wt="object"==("undefined"==typeof self?"undefined":Object(d.a)(self))&&self&&self.Object===Object&&self,Ot=_t||wt||Function("return this")(),br=u&&!u.nodeType&&u,xt=br&&j&&!j.nodeType&&j,Et=xt&&xt.exports===br,jt=Et&&_t.process,kt=function(){try{return xt&&xt.require&&xt.require("util").types||jt&&jt.binding&&jt.binding("util")}catch(e){}}(),St=kt&&kt.isArrayBuffer,Rt=kt&&kt.isDate,Ct=kt&&kt.isMap,It=kt&&kt.isRegExp,Pt=kt&&kt.isSet,At=kt&&kt.isTypedArray;function Tt(e,g,t){switch(t.length){case 0:return e.call(g);case 1:return e.call(g,t[0]);case 2:return e.call(g,t[0],t[1]);case 3:return e.call(g,t[0],t[1],t[2])}return e.apply(g,t)}function Nt(e,g,t,n){for(var r=-1,o=null==e?0:e.length;++r<o;){var c=e[r];g(n,c,t(c),e)}return n}function Ut(e,g){for(var t=-1,n=null==e?0:e.length;++t<n&&!1!==g(e[t],t,e););return e}function Mt(e,g){for(var t=null==e?0:e.length;t--&&!1!==g(e[t],t,e););return e}function Lt(e,g){for(var t=-1,n=null==e?0:e.length;++t<n;)if(!g(e[t],t,e))return!1;return!0}function Dt(e,g){for(var t=-1,n=null==e?0:e.length,r=0,o=[];++t<n;){var c=e[t];g(c,t,e)&&(o[r++]=c)}return o}function $t(e,g){return!(null==e||!e.length)&&Jt(e,g,0)>-1}function Ht(e,g,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(g,e[n]))return!0;return!1}function qt(e,g){for(var t=-1,n=null==e?0:e.length,r=Array(n);++t<n;)r[t]=g(e[t],t,e);return r}function Bt(e,g){for(var t=-1,n=g.length,r=e.length;++t<n;)e[r+t]=g[t];return e}function Ft(e,g,t,n){var r=-1,o=null==e?0:e.length;for(n&&o&&(t=e[++r]);++r<o;)t=g(t,e[r],r,e);return t}function Vt(e,g,t,n){var r=null==e?0:e.length;for(n&&r&&(t=e[--r]);r--;)t=g(t,e[r],r,e);return t}function Wt(e,g){for(var t=-1,n=null==e?0:e.length;++t<n;)if(g(e[t],t,e))return!0;return!1}var zt=Zt("length");function Kt(e,g,t){var n;return t(e,(function(e,t,r){if(g(e,t,r))return n=t,!1})),n}function Gt(e,g,t,n){for(var r=e.length,o=t+(n?1:-1);n?o--:++o<r;)if(g(e[o],o,e))return o;return-1}function Jt(e,g,t){return g==g?function(e,g,t){for(var n=t-1,r=e.length;++n<r;)if(e[n]===g)return n;return-1}(e,g,t):Gt(e,Xt,t)}function Yt(e,g,t,n){for(var r=t-1,o=e.length;++r<o;)if(n(e[r],g))return r;return-1}function Xt(e){return e!=e}function Qt(e,g){var t=null==e?0:e.length;return t?nn(e,g)/t:m}function Zt(e){return function(g){return null==g?i:g[e]}}function en(e){return function(g){return null==e?i:e[g]}}function tn(e,g,t,n,r){return r(e,(function(e,r,o){t=n?(n=!1,e):g(t,e,r,o)})),t}function nn(e,g){for(var t,n=-1,r=e.length;++n<r;){var o=g(e[n]);o!==i&&(t=t===i?o:t+o)}return t}function rn(e,g){for(var t=-1,n=Array(e);++t<e;)n[t]=g(t);return n}function on(e){return e&&e.slice(0,wn(e)+1).replace(pe,"")}function an(e){return function(g){return e(g)}}function sn(e,g){return qt(g,(function(t){return e[t]}))}function cn(e,g){return e.has(g)}function un(e,g){for(var t=-1,n=e.length;++t<n&&Jt(g,e[t],0)>-1;);return t}function ln(e,g){for(var t=e.length;t--&&Jt(g,e[t],0)>-1;);return t}var fn=en({"À":"A","Á":"A","Â":"A","Ã":"A","Ä":"A","Å":"A","à":"a","á":"a","â":"a","ã":"a","ä":"a","å":"a","Ç":"C","ç":"c","Ð":"D","ð":"d","È":"E","É":"E","Ê":"E","Ë":"E","è":"e","é":"e","ê":"e","ë":"e","Ì":"I","Í":"I","Î":"I","Ï":"I","ì":"i","í":"i","î":"i","ï":"i","Ñ":"N","ñ":"n","Ò":"O","Ó":"O","Ô":"O","Õ":"O","Ö":"O","Ø":"O","ò":"o","ó":"o","ô":"o","õ":"o","ö":"o","ø":"o","Ù":"U","Ú":"U","Û":"U","Ü":"U","ù":"u","ú":"u","û":"u","ü":"u","Ý":"Y","ý":"y","ÿ":"y","Æ":"Ae","æ":"ae","Þ":"Th","þ":"th","ß":"ss","Ā":"A","Ă":"A","Ą":"A","ā":"a","ă":"a","ą":"a","Ć":"C","Ĉ":"C","Ċ":"C","Č":"C","ć":"c","ĉ":"c","ċ":"c","č":"c","Ď":"D","Đ":"D","ď":"d","đ":"d","Ē":"E","Ĕ":"E","Ė":"E","Ę":"E","Ě":"E","ē":"e","ĕ":"e","ė":"e","ę":"e","ě":"e","Ĝ":"G","Ğ":"G","Ġ":"G","Ģ":"G","ĝ":"g","ğ":"g","ġ":"g","ģ":"g","Ĥ":"H","Ħ":"H","ĥ":"h","ħ":"h","Ĩ":"I","Ī":"I","Ĭ":"I","Į":"I","İ":"I","ĩ":"i","ī":"i","ĭ":"i","į":"i","ı":"i","Ĵ":"J","ĵ":"j","Ķ":"K","ķ":"k","ĸ":"k","Ĺ":"L","Ļ":"L","Ľ":"L","Ŀ":"L","Ł":"L","ĺ":"l","ļ":"l","ľ":"l","ŀ":"l","ł":"l","Ń":"N","Ņ":"N","Ň":"N","Ŋ":"N","ń":"n","ņ":"n","ň":"n","ŋ":"n","Ō":"O","Ŏ":"O","Ő":"O","ō":"o","ŏ":"o","ő":"o","Ŕ":"R","Ŗ":"R","Ř":"R","ŕ":"r","ŗ":"r","ř":"r","Ś":"S","Ŝ":"S","Ş":"S","Š":"S","ś":"s","ŝ":"s","ş":"s","š":"s","Ţ":"T","Ť":"T","Ŧ":"T","ţ":"t","ť":"t","ŧ":"t","Ũ":"U","Ū":"U","Ŭ":"U","Ů":"U","Ű":"U","Ų":"U","ũ":"u","ū":"u","ŭ":"u","ů":"u","ű":"u","ų":"u","Ŵ":"W","ŵ":"w","Ŷ":"Y","ŷ":"y","Ÿ":"Y","Ź":"Z","Ż":"Z","Ž":"Z","ź":"z","ż":"z","ž":"z","Ĳ":"IJ","ĳ":"ij","Œ":"Oe","œ":"oe","ŉ":"'n","ſ":"s"}),pn=en({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function dn(e){return"\\"+gt[e]}function hn(e){return ft.test(e)}function vn(e){var g=-1,t=Array(e.size);return e.forEach((function(e,n){t[++g]=[n,e]})),t}function mn(e,g){return function(t){return e(g(t))}}function gn(e,g){for(var t=-1,r=e.length,o=0,c=[];++t<r;){var l=e[t];(l===g||l===n)&&(e[t]=n,c[o++]=t)}return c}function bn(e){var g=-1,t=Array(e.size);return e.forEach((function(e){t[++g]=e})),t}function yn(e){return hn(e)?function(e){for(var g=ut.lastIndex=0;ut.test(e);)++g;return g}(e):zt(e)}function _n(e){return hn(e)?function(e){return e.match(ut)||[]}(e):function(e){return e.split("")}(e)}function wn(e){for(var g=e.length;g--&&de.test(e.charAt(g)););return g}var On=en({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"}),xn=function j(g){var C,de=(g=null==g?Ot:xn.defaults(Ot.Object(),g,xn.pick(Ot,ht))).Array,Ie=g.Date,Pe=g.Error,Ae=g.Function,Te=g.Math,Ne=g.Object,Ue=g.RegExp,Me=g.String,Le=g.TypeError,De=de.prototype,$e=Ae.prototype,He=Ne.prototype,qe=g["__core-js_shared__"],Be=$e.toString,Fe=He.hasOwnProperty,Ve=0,We=(C=/[^.]+$/.exec(qe&&qe.keys&&qe.keys.IE_PROTO||""))?"Symbol(src)_1."+C:"",ze=He.toString,Ke=Be.call(Ne),Ge=Ot._,Je=Ue("^"+Be.call(Fe).replace(le,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Ye=Et?g.Buffer:i,Xe=g.Symbol,Qe=g.Uint8Array,Ze=Ye?Ye.allocUnsafe:i,et=mn(Ne.getPrototypeOf,Ne),tt=Ne.create,nt=He.propertyIsEnumerable,it=De.splice,ot=Xe?Xe.isConcatSpreadable:i,at=Xe?Xe.iterator:i,ut=Xe?Xe.toStringTag:i,ft=function(){try{var e=_o(Ne,"defineProperty");return e({},"",{}),e}catch(e){}}(),gt=g.clearTimeout!==Ot.clearTimeout&&g.clearTimeout,_t=Ie&&Ie.now!==Ot.Date.now&&Ie.now,wt=g.setTimeout!==Ot.setTimeout&&g.setTimeout,xt=Te.ceil,jt=Te.floor,kt=Ne.getOwnPropertySymbols,zt=Ye?Ye.isBuffer:i,en=g.isFinite,En=De.join,jn=mn(Ne.keys,Ne),kn=Te.max,Sn=Te.min,Rn=Ie.now,Cn=g.parseInt,In=Te.random,Pn=De.reverse,An=_o(g,"DataView"),Tn=_o(g,"Map"),Nn=_o(g,"Promise"),Un=_o(g,"Set"),Mn=_o(g,"WeakMap"),Ln=_o(Ne,"create"),Dn=Mn&&new Mn,$n={},Hn=zo(An),qn=zo(Tn),Bn=zo(Nn),Fn=zo(Un),Vn=zo(Mn),Wn=Xe?Xe.prototype:i,zn=Wn?Wn.valueOf:i,Kn=Wn?Wn.toString:i;function a(e){if(cs(e)&&!Xa(e)&&!(e instanceof Xn)){if(e instanceof Yn)return e;if(Fe.call(e,"__wrapped__"))return Ko(e)}return new Yn(e)}var Gn=function(){function e(){}return function(t){if(!ss(t))return{};if(tt)return tt(t);e.prototype=t;var n=new e;return e.prototype=i,n}}();function Jn(){}function Yn(e,t){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=i}function Xn(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=y,this.__views__=[]}function Qn(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Zn(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function er(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function dt(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new er;++t<n;)this.add(e[t])}function nr(e){var t=this.__data__=new Zn(e);this.size=t.size}function rr(e,t){var n=Xa(e),r=!n&&Ya(e),s=!n&&!r&&ts(e),o=!n&&!r&&!s&&ms(e),c=n||r||s||o,l=c?rn(e.length,Me):[],f=l.length;for(var d in e)(t||Fe.call(e,d))&&(!c||!("length"==d||s&&("offset"==d||"parent"==d)||o&&("buffer"==d||"byteLength"==d||"byteOffset"==d)||So(d,f)))&&l.push(d);return l}function ir(e){var t=e.length;return t?e[ni(0,t-1)]:i}function or(e,t){return Fo(Di(e),vr(t,0,e.length))}function ar(e){return Fo(Di(e))}function sr(e,t,n){(n!==i&&!Ka(e[t],n)||n===i&&!(t in e))&&pr(e,t,n)}function cr(e,t,n){var r=e[t];(!Fe.call(e,t)||!Ka(r,n)||n===i&&!(t in e))&&pr(e,t,n)}function ur(e,t){for(var n=e.length;n--;)if(Ka(e[n][0],t))return n;return-1}function lr(e,t,n,r){return rt(e,(function(s,e,o){t(r,s,n(s),o)})),r}function fr(e,t){return e&&$i(t,Ds(t),e)}function pr(e,t,n){"__proto__"==t&&ft?ft(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}function dr(e,t){for(var n=-1,r=t.length,s=de(r),o=null==e;++n<r;)s[n]=o?i:Ts(e,t[n]);return s}function vr(e,t,n){return e==e&&(n!==i&&(e=e<=n?e:n),t!==i&&(e=e>=t?e:t)),e}function mr(e,t,n,r,s,o){var c,l=1&t,f=2&t,d=4&t;if(n&&(c=s?n(e,r,s,o):n(e)),c!==i)return c;if(!ss(e))return e;var h=Xa(e);if(h){if(c=function(e){var t=e.length,n=new e.constructor(t);return t&&"string"==typeof e[0]&&Fe.call(e,"index")&&(n.index=e.index,n.input=e.input),n}(e),!l)return Di(e,c)}else{var v=xo(e),m=v==S||v==R;if(ts(e))return Ai(e,l);if(v==A||v==w||m&&!s){if(c=f||m?{}:jo(e),!l)return f?function(e,t){return $i(e,Oo(e),t)}(e,function(e,t){return e&&$i(t,$s(t),e)}(c,e)):function(e,t){return $i(e,wo(e),t)}(e,fr(c,e))}else{if(!q[v])return s?e:{};c=function(e,t,n){var r=e.constructor;switch(t){case $:return Ti(e);case x:case E:return new r(+e);case H:return function(e,t){var n=t?Ti(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}(e,n);case B:case F:case V:case W:case z:case K:case G:case J:case Y:return Ni(e,n);case I:return new r;case P:case M:return new r(e);case N:return function(e){var t=new e.constructor(e.source,we.exec(e));return t.lastIndex=e.lastIndex,t}(e);case U:return new r;case L:return function(e){return zn?Ne(zn.call(e)):{}}(e)}}(e,v,l)}}o||(o=new nr);var y=o.get(e);if(y)return y;o.set(e,c),ds(e)?e.forEach((function(r){c.add(mr(r,t,n,r,e,o))})):us(e)&&e.forEach((function(r,l){c.set(l,mr(r,t,n,l,e,o))}));var b=h?i:(d?f?li:po:f?$s:Ds)(e);return Ut(b||e,(function(r,l){b&&(r=e[l=r]),cr(c,l,mr(r,t,n,l,e,o))})),c}function gr(e,t,n){var r=n.length;if(null==e)return!r;for(e=Ne(e);r--;){var s=n[r],o=t[s],c=e[s];if(c===i&&!(s in e)||!o(c))return!1}return!0}function yr(t,n,r){if("function"!=typeof t)throw new Le(e);return $o((function(){t.apply(i,r)}),n)}function _r(e,t,n,r){var s=-1,o=$t,c=!0,l=e.length,f=[],d=t.length;if(!l)return f;n&&(t=qt(t,an(n))),r?(o=Ht,c=!1):t.length>=200&&(o=cn,c=!1,t=new dt(t));e:for(;++s<l;){var h=e[s],v=null==n?h:n(h);if(h=r||0!==h?h:0,c&&v==v){for(var m=d;m--;)if(t[m]===v)continue e;f.push(h)}else o(t,v,r)||f.push(h)}return f}a.templateSettings={escape:ie,evaluate:oe,interpolate:ae,variable:"",imports:{_:a}},a.prototype=Jn.prototype,a.prototype.constructor=a,Yn.prototype=Gn(Jn.prototype),Yn.prototype.constructor=Yn,Xn.prototype=Gn(Jn.prototype),Xn.prototype.constructor=Xn,Qn.prototype.clear=function(){this.__data__=Ln?Ln(null):{},this.size=0},Qn.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},Qn.prototype.get=function(e){var n=this.__data__;if(Ln){var r=n[e];return r===t?i:r}return Fe.call(n,e)?n[e]:i},Qn.prototype.has=function(e){var t=this.__data__;return Ln?t[e]!==i:Fe.call(t,e)},Qn.prototype.set=function(e,n){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=Ln&&n===i?t:n,this},Zn.prototype.clear=function(){this.__data__=[],this.size=0},Zn.prototype.delete=function(e){var t=this.__data__,n=ur(t,e);return!(n<0||(n==t.length-1?t.pop():it.call(t,n,1),--this.size,0))},Zn.prototype.get=function(e){var t=this.__data__,n=ur(t,e);return n<0?i:t[n][1]},Zn.prototype.has=function(e){return ur(this.__data__,e)>-1},Zn.prototype.set=function(e,t){var n=this.__data__,r=ur(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this},er.prototype.clear=function(){this.size=0,this.__data__={hash:new Qn,map:new(Tn||Zn),string:new Qn}},er.prototype.delete=function(e){var t=bo(this,e).delete(e);return this.size-=t?1:0,t},er.prototype.get=function(e){return bo(this,e).get(e)},er.prototype.has=function(e){return bo(this,e).has(e)},er.prototype.set=function(e,t){var n=bo(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this},dt.prototype.add=dt.prototype.push=function(e){return this.__data__.set(e,t),this},dt.prototype.has=function(e){return this.__data__.has(e)},nr.prototype.clear=function(){this.__data__=new Zn,this.size=0},nr.prototype.delete=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n},nr.prototype.get=function(e){return this.__data__.get(e)},nr.prototype.has=function(e){return this.__data__.has(e)},nr.prototype.set=function(e,t){var n=this.__data__;if(n instanceof Zn){var r=n.__data__;if(!Tn||r.length<199)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new er(r)}return n.set(e,t),this.size=n.size,this};var rt=Bi(Rr),wr=Bi(Cr,!0);function Or(e,t){var n=!0;return rt(e,(function(e,s,r){return n=!!t(e,s,r)})),n}function xr(e,t,n){for(var r=-1,s=e.length;++r<s;){var o=e[r],c=t(o);if(null!=c&&(l===i?c==c&&!vs(c):n(c,l)))var l=c,f=o}return f}function Er(e,t){var n=[];return rt(e,(function(e,s,r){t(e,s,r)&&n.push(e)})),n}function jr(e,t,n,r,s){var o=-1,c=e.length;for(n||(n=ko),s||(s=[]);++o<c;){var l=e[o];t>0&&n(l)?t>1?jr(l,t-1,n,r,s):Bt(s,l):r||(s[s.length]=l)}return s}var kr=Fi(),Sr=Fi(!0);function Rr(e,t){return e&&kr(e,t,Ds)}function Cr(e,t){return e&&Sr(e,t,Ds)}function Ir(e,t){return Dt(t,(function(t){return is(e[t])}))}function Pr(e,t){for(var n=0,r=(t=Ri(t,e)).length;null!=e&&n<r;)e=e[Wo(t[n++])];return n&&n==r?e:i}function Ar(e,t,n){var r=t(e);return Xa(e)?r:Bt(r,n(e))}function Tr(e){return null==e?e===i?"[object Undefined]":"[object Null]":ut&&ut in Ne(e)?function(e){var t=Fe.call(e,ut),n=e[ut];try{e[ut]=i;var r=!0}catch(e){}var s=ze.call(e);return r&&(t?e[ut]=n:delete e[ut]),s}(e):function(e){return ze.call(e)}(e)}function Nr(e,t){return e>t}function Ur(e,t){return null!=e&&Fe.call(e,t)}function Mr(e,t){return null!=e&&t in Ne(e)}function Lr(e,t,n){for(var r=n?Ht:$t,s=e[0].length,o=e.length,c=o,l=de(o),f=1/0,d=[];c--;){var h=e[c];c&&t&&(h=qt(h,an(t))),f=Sn(h.length,f),l[c]=!n&&(t||s>=120&&h.length>=120)?new dt(c&&h):i}h=e[0];var v=-1,m=l[0];e:for(;++v<s&&d.length<f;){var y=h[v],_=t?t(y):y;if(y=n||0!==y?y:0,!(m?cn(m,_):r(d,_,n))){for(c=o;--c;){var b=l[c];if(!(b?cn(b,_):r(e[c],_,n)))continue e}m&&m.push(_),d.push(y)}}return d}function Dr(e,t,n){var r=null==(e=Mo(e,t=Ri(t,e)))?e:e[Wo(ia(t))];return null==r?i:Tt(r,e,n)}function $r(e){return cs(e)&&Tr(e)==w}function Hr(e,t,n,r,s){return e===t||(null==e||null==t||!cs(e)&&!cs(t)?e!=e&&t!=t:function(e,t,n,r,s,o){var c=Xa(e),l=Xa(t),f=c?O:xo(e),d=l?O:xo(t),h=(f=f==w?A:f)==A,v=(d=d==w?A:d)==A,m=f==d;if(m&&ts(e)){if(!ts(t))return!1;c=!0,h=!1}if(m&&!h)return o||(o=new nr),c||ms(e)?lo(e,t,n,r,s,o):function(e,t,n,r,s,o,c){switch(n){case H:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case $:return!(e.byteLength!=t.byteLength||!o(new Qe(e),new Qe(t)));case x:case E:case P:return Ka(+e,+t);case k:return e.name==t.name&&e.message==t.message;case N:case M:return e==t+"";case I:var l=vn;case U:var f=1&r;if(l||(l=bn),e.size!=t.size&&!f)return!1;var d=c.get(e);if(d)return d==t;r|=2,c.set(e,t);var h=lo(l(e),l(t),r,s,o,c);return c.delete(e),h;case L:if(zn)return zn.call(e)==zn.call(t)}return!1}(e,t,f,n,r,s,o);if(!(1&n)){var y=h&&Fe.call(e,"__wrapped__"),_=v&&Fe.call(t,"__wrapped__");if(y||_){var b=y?e.value():e,j=_?t.value():t;return o||(o=new nr),s(b,j,n,r,o)}}return!!m&&(o||(o=new nr),function(e,t,n,r,s,o){var c=1&n,l=po(e),f=l.length,d=po(t),h=d.length;if(f!=h&&!c)return!1;for(var v=f;v--;){var m=l[v];if(!(c?m in t:Fe.call(t,m)))return!1}var y=o.get(e),_=o.get(t);if(y&&_)return y==t&&_==e;var b=!0;o.set(e,t),o.set(t,e);for(var w=c;++v<f;){var O=e[m=l[v]],x=t[m];if(r)var E=c?r(x,O,m,t,e,o):r(O,x,m,e,t,o);if(!(E===i?O===x||s(O,x,n,r,o):E)){b=!1;break}w||(w="constructor"==m)}if(b&&!w){var j=e.constructor,k=t.constructor;j!=k&&"constructor"in e&&"constructor"in t&&!("function"==typeof j&&j instanceof j&&"function"==typeof k&&k instanceof k)&&(b=!1)}return o.delete(e),o.delete(t),b}(e,t,n,r,s,o))}(e,t,n,r,Hr,s))}function qr(e,t,n,r){var s=n.length,o=s,c=!r;if(null==e)return!o;for(e=Ne(e);s--;){var l=n[s];if(c&&l[2]?l[1]!==e[l[0]]:!(l[0]in e))return!1}for(;++s<o;){var f=(l=n[s])[0],d=e[f],h=l[1];if(c&&l[2]){if(d===i&&!(f in e))return!1}else{var v=new nr;if(r)var m=r(d,h,f,e,t,v);if(!(m===i?Hr(h,d,3,r,v):m))return!1}}return!0}function Br(e){return!(!ss(e)||function(e){return!!We&&We in e}(e))&&(is(e)?Je:Ee).test(zo(e))}function Fr(e){return"function"==typeof e?e:null==e?lc:"object"==Object(d.a)(e)?Xa(e)?Jr(e[0],e[1]):Gr(e):yc(e)}function Vr(e){if(!Ao(e))return jn(e);var t=[];for(var n in Ne(e))Fe.call(e,n)&&"constructor"!=n&&t.push(n);return t}function Wr(e){if(!ss(e))return function(e){var t=[];if(null!=e)for(var n in Ne(e))t.push(n);return t}(e);var t=Ao(e),n=[];for(var r in e)"constructor"==r&&(t||!Fe.call(e,r))||n.push(r);return n}function zr(e,t){return e<t}function Kr(e,t){var n=-1,r=Za(e)?de(e.length):[];return rt(e,(function(s,e,o){r[++n]=t(s,e,o)})),r}function Gr(e){var t=yo(e);return 1==t.length&&t[0][2]?No(t[0][0],t[0][1]):function(n){return n===e||qr(n,e,t)}}function Jr(e,t){return Co(e)&&To(t)?No(Wo(e),t):function(n){var r=Ts(n,e);return r===i&&r===t?Ns(n,e):Hr(t,r,3)}}function Yr(e,t,n,r,s){e!==t&&kr(t,(function(o,c){if(s||(s=new nr),ss(o))!function(e,t,n,r,s,o,c){var l=Lo(e,n),f=Lo(t,n),d=c.get(f);if(d)sr(e,n,d);else{var h=o?o(l,f,n+"",e,t,c):i,v=h===i;if(v){var m=Xa(f),y=!m&&ts(f),_=!m&&!y&&ms(f);h=f,m||y||_?Xa(l)?h=l:es(l)?h=Di(l):y?(v=!1,h=Ai(f,!0)):_?(v=!1,h=Ni(f,!0)):h=[]:fs(f)||Ya(f)?(h=l,Ya(l)?h=Es(l):(!ss(l)||is(l))&&(h=jo(f))):v=!1}v&&(c.set(f,h),s(h,f,r,o,c),c.delete(f)),sr(e,n,h)}}(e,t,c,n,Yr,r,s);else{var l=r?r(Lo(e,c),o,c+"",e,t,s):i;l===i&&(l=o),sr(e,c,l)}}),$s)}function Xr(e,t){var n=e.length;if(n)return So(t+=t<0?n:0,n)?e[t]:i}function Qr(e,t,n){t=t.length?qt(t,(function(e){return Xa(e)?function(t){return Pr(t,1===e.length?e[0]:e)}:e})):[lc];var r=-1;return t=qt(t,an(go())),function(e,g){var t=e.length;for(e.sort(g);t--;)e[t]=e[t].value;return e}(Kr(e,(function(e,n,o){return{criteria:qt(t,(function(t){return t(e)})),index:++r,value:e}})),(function(e,t){return function(e,t,n){for(var r=-1,s=e.criteria,o=t.criteria,c=s.length,l=n.length;++r<c;){var f=Ui(s[r],o[r]);if(f)return r>=l?f:f*("desc"==n[r]?-1:1)}return e.index-t.index}(e,t,n)}))}function Zr(e,t,n){for(var r=-1,s=t.length,o={};++r<s;){var c=t[r],l=Pr(e,c);n(l,c)&&si(o,Ri(c,e),l)}return o}function ei(e,t,n,r){var s=r?Yt:Jt,o=-1,c=t.length,l=e;for(e===t&&(t=Di(t)),n&&(l=qt(e,an(n)));++o<c;)for(var f=0,d=t[o],h=n?n(d):d;(f=s(l,h,f,r))>-1;)l!==e&&it.call(l,f,1),it.call(e,f,1);return e}function ti(e,t){for(var n=e?t.length:0,r=n-1;n--;){var s=t[n];if(n==r||s!==o){var o=s;So(s)?it.call(e,s,1):_i(e,s)}}return e}function ni(e,t){return e+jt(In()*(t-e+1))}function ri(e,t){var n="";if(!e||t<1||t>v)return n;do{t%2&&(n+=e),(t=jt(t/2))&&(e+=e)}while(t);return n}function ii(e,t){return Ho(Uo(e,t,lc),e+"")}function oi(e){return ir(Ks(e))}function ai(e,t){var n=Ks(e);return Fo(n,vr(t,0,n.length))}function si(e,t,n,r){if(!ss(e))return e;for(var s=-1,o=(t=Ri(t,e)).length,c=o-1,l=e;null!=l&&++s<o;){var f=Wo(t[s]),d=n;if("__proto__"===f||"constructor"===f||"prototype"===f)return e;if(s!=c){var h=l[f];(d=r?r(h,f,l):i)===i&&(d=ss(h)?h:So(t[s+1])?[]:{})}cr(l,f,d),l=l[f]}return e}var ci=Dn?function(e,t){return Dn.set(e,t),e}:lc,ui=ft?function(e,t){return ft(e,"toString",{configurable:!0,enumerable:!1,value:sc(t),writable:!0})}:lc;function fi(e){return Fo(Ks(e))}function pi(e,t,n){var r=-1,s=e.length;t<0&&(t=-t>s?0:s+t),(n=n>s?s:n)<0&&(n+=s),s=t>n?0:n-t>>>0,t>>>=0;for(var o=de(s);++r<s;)o[r]=e[r+t];return o}function di(e,t){var n;return rt(e,(function(e,s,r){return!(n=t(e,s,r))})),!!n}function hi(e,t,n){var r=0,s=null==e?r:e.length;if("number"==typeof t&&t==t&&s<=2147483647){for(;r<s;){var o=r+s>>>1,c=e[o];null!==c&&!vs(c)&&(n?c<=t:c<t)?r=o+1:s=o}return s}return vi(e,t,lc,n)}function vi(e,t,n,r){var s=0,o=null==e?0:e.length;if(0===o)return 0;for(var c=(t=n(t))!=t,l=null===t,f=vs(t),d=t===i;s<o;){var h=jt((s+o)/2),v=n(e[h]),m=v!==i,y=null===v,_=v==v,b=vs(v);if(c)var w=r||_;else w=d?_&&(r||m):l?_&&m&&(r||!y):f?_&&m&&!y&&(r||!b):!y&&!b&&(r?v<=t:v<t);w?s=h+1:o=h}return Sn(o,4294967294)}function mi(e,t){for(var n=-1,r=e.length,s=0,o=[];++n<r;){var c=e[n],l=t?t(c):c;if(!n||!Ka(l,f)){var f=l;o[s++]=0===c?0:c}}return o}function gi(e){return"number"==typeof e?e:vs(e)?m:+e}function bi(e){if("string"==typeof e)return e;if(Xa(e))return qt(e,bi)+"";if(vs(e))return Kn?Kn.call(e):"";var t=e+"";return"0"==t&&1/e==-h?"-0":t}function yi(e,t,n){var r=-1,s=$t,o=e.length,c=!0,l=[],f=l;if(n)c=!1,s=Ht;else if(o>=200){var d=t?null:io(e);if(d)return bn(d);c=!1,s=cn,f=new dt}else f=t?[]:l;e:for(;++r<o;){var h=e[r],v=t?t(h):h;if(h=n||0!==h?h:0,c&&v==v){for(var m=f.length;m--;)if(f[m]===v)continue e;t&&f.push(v),l.push(h)}else s(f,v,n)||(f!==l&&f.push(v),l.push(h))}return l}function _i(e,t){return null==(e=Mo(e,t=Ri(t,e)))||delete e[Wo(ia(t))]}function wi(e,t,n,r){return si(e,t,n(Pr(e,t)),r)}function Oi(e,t,n,r){for(var s=e.length,o=r?s:-1;(r?o--:++o<s)&&t(e[o],o,e););return n?pi(e,r?0:o,r?o+1:s):pi(e,r?o+1:0,r?s:o)}function xi(e,t){var n=e;return n instanceof Xn&&(n=n.value()),Ft(t,(function(e,s){return s.func.apply(s.thisArg,Bt([e],s.args))}),n)}function Ei(e,t,n){var r=e.length;if(r<2)return r?yi(e[0]):[];for(var s=-1,o=de(r);++s<r;)for(var c=e[s],l=-1;++l<r;)l!=s&&(o[s]=_r(o[s]||c,e[l],t,n));return yi(jr(o,1),t,n)}function ji(e,t,n){for(var r=-1,s=e.length,o=t.length,c={};++r<s;){var l=r<o?t[r]:i;n(c,e[r],l)}return c}function ki(e){return es(e)?e:[]}function Si(e){return"function"==typeof e?e:lc}function Ri(e,t){return Xa(e)?e:Co(e,t)?[e]:Vo(js(e))}var Ci=ii;function Ii(e,t,n){var r=e.length;return n=n===i?r:n,!t&&n>=r?e:pi(e,t,n)}var Pi=gt||function(e){return Ot.clearTimeout(e)};function Ai(e,t){if(t)return e.slice();var n=e.length,r=Ze?Ze(n):new e.constructor(n);return e.copy(r),r}function Ti(e){var t=new e.constructor(e.byteLength);return new Qe(t).set(new Qe(e)),t}function Ni(e,t){var n=t?Ti(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}function Ui(e,t){if(e!==t){var n=e!==i,r=null===e,s=e==e,o=vs(e),c=t!==i,l=null===t,f=t==t,d=vs(t);if(!l&&!d&&!o&&e>t||o&&c&&f&&!l&&!d||r&&c&&f||!n&&f||!s)return 1;if(!r&&!o&&!d&&e<t||d&&n&&s&&!r&&!o||l&&n&&s||!c&&s||!f)return-1}return 0}function Mi(e,t,n,r){for(var s=-1,o=e.length,c=n.length,l=-1,f=t.length,d=kn(o-c,0),h=de(f+d),v=!r;++l<f;)h[l]=t[l];for(;++s<c;)(v||s<o)&&(h[n[s]]=e[s]);for(;d--;)h[l++]=e[s++];return h}function Li(e,t,n,r){for(var s=-1,o=e.length,c=-1,l=n.length,f=-1,d=t.length,h=kn(o-l,0),v=de(h+d),m=!r;++s<h;)v[s]=e[s];for(var y=s;++f<d;)v[y+f]=t[f];for(;++c<l;)(m||s<o)&&(v[y+n[c]]=e[s++]);return v}function Di(e,t){var n=-1,r=e.length;for(t||(t=de(r));++n<r;)t[n]=e[n];return t}function $i(e,t,n,r){var s=!n;n||(n={});for(var o=-1,c=t.length;++o<c;){var l=t[o],f=r?r(n[l],e[l],l,n,e):i;f===i&&(f=e[l]),s?pr(n,l,f):cr(n,l,f)}return n}function Hi(e,t){return function(n,r){var s=Xa(n)?Nt:lr,o=t?t():{};return s(n,e,go(r,2),o)}}function qi(e){return ii((function(t,n){var r=-1,s=n.length,o=s>1?n[s-1]:i,c=s>2?n[2]:i;for(o=e.length>3&&"function"==typeof o?(s--,o):i,c&&Ro(n[0],n[1],c)&&(o=s<3?i:o,s=1),t=Ne(t);++r<s;){var l=n[r];l&&e(t,l,r,o)}return t}))}function Bi(e,t){return function(n,r){if(null==n)return n;if(!Za(n))return e(n,r);for(var s=n.length,o=t?s:-1,c=Ne(n);(t?o--:++o<s)&&!1!==r(c[o],o,c););return n}}function Fi(e){return function(t,n,r){for(var s=-1,o=Ne(t),c=r(t),l=c.length;l--;){var f=c[e?l:++s];if(!1===n(o[f],f,o))break}return t}}function Vi(e){return function(t){var n=hn(t=js(t))?_n(t):i,r=n?n[0]:t.charAt(0),s=n?Ii(n,1).join(""):t.slice(1);return r[e]()+s}}function Wi(e){return function(t){return Ft(ic(Ys(t).replace(st,"")),e,"")}}function zi(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var n=Gn(e.prototype),r=e.apply(n,t);return ss(r)?r:n}}function Ki(e){return function(t,n,r){var s=Ne(t);if(!Za(t)){var o=go(n,3);t=Ds(t),n=function(e){return o(s[e],e,s)}}var c=e(t,n,r);return c>-1?s[o?t[c]:c]:i}}function Gi(t){return fo((function(n){var r=n.length,o=r,s=Yn.prototype.thru;for(t&&n.reverse();o--;){var c=n[o];if("function"!=typeof c)throw new Le(e);if(s&&!l&&"wrapper"==vo(c))var l=new Yn([],!0)}for(o=l?o:r;++o<r;){var f=vo(c=n[o]),d="wrapper"==f?ho(c):i;l=d&&Io(d[0])&&424==d[1]&&!d[4].length&&1==d[9]?l[vo(d[0])].apply(l,d[3]):1==c.length&&Io(c)?l[f]():l.thru(c)}return function(){var e=arguments,t=e[0];if(l&&1==e.length&&Xa(t))return l.plant(t).value();for(var o=0,c=r?n[o].apply(this,e):t;++o<r;)c=n[o].call(this,c);return c}}))}function Ji(e,t,n,r,s,o,c,f,d,h){var v=t&l,m=1&t,y=2&t,_=24&t,w=512&t,b=y?i:zi(e);return function l(){for(var O=arguments.length,x=de(O),E=O;E--;)x[E]=arguments[E];if(_)var j=mo(l),k=function(e,g){for(var t=e.length,n=0;t--;)e[t]===g&&++n;return n}(x,j);if(r&&(x=Mi(x,r,s,_)),o&&(x=Li(x,o,c,_)),O-=k,_&&O<h){var S=gn(x,j);return no(e,t,Ji,l.placeholder,n,x,S,f,d,h-O)}var R=m?n:this,C=y?R[e]:e;return O=x.length,f?x=function(e,t){for(var n=e.length,r=Sn(t.length,n),s=Di(e);r--;){var o=t[r];e[r]=So(o,n)?s[o]:i}return e}(x,f):w&&O>1&&x.reverse(),v&&d<O&&(x.length=d),this&&this!==Ot&&this instanceof l&&(C=b||zi(C)),C.apply(R,x)}}function Yi(e,t){return function(n,r){return function(e,t,n,r){return Rr(e,(function(s,e,o){t(r,n(s),e,o)})),r}(n,e,t(r),{})}}function Xi(e,t){return function(n,r){var s;if(n===i&&r===i)return t;if(n!==i&&(s=n),r!==i){if(s===i)return r;"string"==typeof n||"string"==typeof r?(n=bi(n),r=bi(r)):(n=gi(n),r=gi(r)),s=e(n,r)}return s}}function Qi(e){return fo((function(t){return t=qt(t,an(go())),ii((function(n){var r=this;return e(t,(function(s){return Tt(s,r,n)}))}))}))}function Zi(e,t){var n=(t=t===i?" ":bi(t)).length;if(n<2)return n?ri(t,e):t;var r=ri(t,xt(e/yn(t)));return hn(t)?Ii(_n(r),0,e).join(""):r.slice(0,e)}function eo(e){return function(t,n,r){return r&&"number"!=typeof r&&Ro(t,n,r)&&(n=r=i),t=_s(t),n===i?(n=t,t=0):n=_s(n),function(e,t,n,r){for(var s=-1,o=kn(xt((t-e)/(n||1)),0),c=de(o);o--;)c[r?o:++s]=e,e+=n;return c}(t,n,r=r===i?t<n?1:-1:_s(r),e)}}function to(e){return function(t,n){return"string"==typeof t&&"string"==typeof n||(t=xs(t),n=xs(n)),e(t,n)}}function no(e,t,n,r,s,l,f,d,h,v){var m=8&t;t|=m?o:c,4&(t&=~(m?c:o))||(t&=-4);var b=[e,t,s,m?l:i,m?f:i,m?i:l,m?i:f,d,h,v],y=n.apply(i,b);return Io(e)&&Do(y,b),y.placeholder=r,qo(y,e,t)}function ro(e){var t=Te[e];return function(e,n){if(e=xs(e),(n=null==n?0:Sn(ws(n),292))&&en(e)){var s=(js(e)+"e").split("e");return+((s=(js(t(s[0]+"e"+(+s[1]+n)))+"e").split("e"))[0]+"e"+(+s[1]-n))}return t(e)}}var io=Un&&1/bn(new Un([,-0]))[1]==h?function(e){return new Un(e)}:vc;function oo(e){return function(t){var n=xo(t);return n==I?vn(t):n==U?function(e){var g=-1,t=Array(e.size);return e.forEach((function(e){t[++g]=[e,e]})),t}(t):function(e,g){return qt(g,(function(t){return[t,e[t]]}))}(t,e(t))}}function ao(t,d,h,v,s,m,y,_){var w=2&d;if(!w&&"function"!=typeof t)throw new Le(e);var O=v?v.length:0;if(O||(d&=-97,v=s=i),y=y===i?y:kn(ws(y),0),_=_===i?_:ws(_),O-=s?s.length:0,d&c){var x=v,E=s;v=s=i}var j=w?i:ho(t),k=[t,d,h,v,s,x,E,m,y,_];if(j&&function(e,t){var r=e[1],o=t[1],s=r|o,c=s<131,d=o==l&&8==r||o==l&&r==f&&e[7].length<=t[8]||384==o&&t[7].length<=t[8]&&8==r;if(!c&&!d)return e;1&o&&(e[2]=t[2],s|=1&r?0:4);var h=t[3];if(h){var v=e[3];e[3]=v?Mi(v,h,t[4]):h,e[4]=v?gn(e[3],n):t[4]}(h=t[5])&&(v=e[5],e[5]=v?Li(v,h,t[6]):h,e[6]=v?gn(e[5],n):t[6]),(h=t[7])&&(e[7]=h),o&l&&(e[8]=null==e[8]?t[8]:Sn(e[8],t[8])),null==e[9]&&(e[9]=t[9]),e[0]=t[0],e[1]=s}(k,j),t=k[0],d=k[1],h=k[2],v=k[3],s=k[4],!(_=k[9]=k[9]===i?w?0:t.length:kn(k[9]-O,0))&&24&d&&(d&=-25),d&&1!=d)S=8==d||d==r?function(e,t,n){var r=zi(e);return function s(){for(var o=arguments.length,c=de(o),l=o,f=mo(s);l--;)c[l]=arguments[l];var d=o<3&&c[0]!==f&&c[o-1]!==f?[]:gn(c,f);return(o-=d.length)<n?no(e,t,Ji,s.placeholder,i,c,d,i,i,n-o):Tt(this&&this!==Ot&&this instanceof s?r:e,this,c)}}(t,d,_):d!=o&&33!=d||s.length?Ji.apply(i,k):function(e,t,n,r){var s=1&t,o=zi(e);return function t(){for(var c=-1,l=arguments.length,f=-1,d=r.length,h=de(d+l),v=this&&this!==Ot&&this instanceof t?o:e;++f<d;)h[f]=r[f];for(;l--;)h[f++]=arguments[++c];return Tt(v,s?n:this,h)}}(t,d,h,v);else var S=function(e,t,n){var r=1&t,s=zi(e);return function t(){return(this&&this!==Ot&&this instanceof t?s:e).apply(r?n:this,arguments)}}(t,d,h);return qo((j?ci:Do)(S,k),t,d)}function so(e,t,n,r){return e===i||Ka(e,He[n])&&!Fe.call(r,n)?t:e}function co(e,t,n,r,s,o){return ss(e)&&ss(t)&&(o.set(t,e),Yr(e,t,i,co,o),o.delete(t)),e}function uo(e){return fs(e)?i:e}function lo(e,t,n,r,s,o){var c=1&n,l=e.length,f=t.length;if(l!=f&&!(c&&f>l))return!1;var d=o.get(e),h=o.get(t);if(d&&h)return d==t&&h==e;var v=-1,m=!0,y=2&n?new dt:i;for(o.set(e,t),o.set(t,e);++v<l;){var _=e[v],b=t[v];if(r)var w=c?r(b,_,v,t,e,o):r(_,b,v,e,t,o);if(w!==i){if(w)continue;m=!1;break}if(y){if(!Wt(t,(function(e,t){if(!cn(y,t)&&(_===e||s(_,e,n,r,o)))return y.push(t)}))){m=!1;break}}else if(_!==b&&!s(_,b,n,r,o)){m=!1;break}}return o.delete(e),o.delete(t),m}function fo(e){return Ho(Uo(e,i,Zo),e+"")}function po(e){return Ar(e,Ds,wo)}function li(e){return Ar(e,$s,Oo)}var ho=Dn?function(e){return Dn.get(e)}:vc;function vo(e){for(var t=e.name+"",n=$n[t],r=Fe.call($n,t)?n.length:0;r--;){var s=n[r],o=s.func;if(null==o||o==e)return s.name}return t}function mo(e){return(Fe.call(a,"placeholder")?a:e).placeholder}function go(){var e=a.iteratee||fc;return e=e===fc?Fr:e,arguments.length?e(arguments[0],arguments[1]):e}function bo(e,t){var n=e.__data__;return function(e){var t=Object(d.a)(e);return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}(t)?n["string"==typeof t?"string":"hash"]:n.map}function yo(e){for(var t=Ds(e),n=t.length;n--;){var r=t[n],s=e[r];t[n]=[r,s,To(s)]}return t}function _o(e,t){var n=function(e,g){return null==e?i:e[g]}(e,t);return Br(n)?n:i}var wo=kt?function(e){return null==e?[]:(e=Ne(e),Dt(kt(e),(function(t){return nt.call(e,t)})))}:Oc,Oo=kt?function(e){for(var t=[];e;)Bt(t,wo(e)),e=et(e);return t}:Oc,xo=Tr;function Eo(e,t,n){for(var r=-1,s=(t=Ri(t,e)).length,o=!1;++r<s;){var c=Wo(t[r]);if(!(o=null!=e&&n(e,c)))break;e=e[c]}return o||++r!=s?o:!!(s=null==e?0:e.length)&&as(s)&&So(c,s)&&(Xa(e)||Ya(e))}function jo(e){return"function"!=typeof e.constructor||Ao(e)?{}:Gn(et(e))}function ko(e){return Xa(e)||Ya(e)||!!(ot&&e&&e[ot])}function So(e,t){var n,r=Object(d.a)(e);return!!(t=null!==(n=t)&&void 0!==n?n:v)&&("number"==r||"symbol"!=r&&ke.test(e))&&e>-1&&e%1==0&&e<t}function Ro(e,t,n){if(!ss(n))return!1;var r=Object(d.a)(t);return!!("number"==r?Za(n)&&So(t,n.length):"string"==r&&t in n)&&Ka(n[t],e)}function Co(e,t){if(Xa(e))return!1;var n=Object(d.a)(e);return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!vs(e))||ce.test(e)||!se.test(e)||null!=t&&e in Ne(t)}function Io(e){var t=vo(e),n=a[t];if("function"!=typeof n||!(t in Xn.prototype))return!1;if(e===n)return!0;var r=ho(n);return!!r&&e===r[0]}(An&&xo(new An(new ArrayBuffer(1)))!=H||Tn&&xo(new Tn)!=I||Nn&&xo(Nn.resolve())!=T||Un&&xo(new Un)!=U||Mn&&xo(new Mn)!=D)&&(xo=function(e){var t=Tr(e),n=t==A?e.constructor:i,r=n?zo(n):"";if(r)switch(r){case Hn:return H;case qn:return I;case Bn:return T;case Fn:return U;case Vn:return D}return t});var Po=qe?is:xc;function Ao(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||He)}function To(e){return e==e&&!ss(e)}function No(e,t){return function(n){return null!=n&&n[e]===t&&(t!==i||e in Ne(n))}}function Uo(e,t,n){return t=kn(t===i?e.length-1:t,0),function(){for(var r=arguments,s=-1,o=kn(r.length-t,0),c=de(o);++s<o;)c[s]=r[t+s];s=-1;for(var l=de(t+1);++s<t;)l[s]=r[s];return l[t]=n(c),Tt(e,this,l)}}function Mo(e,t){return t.length<2?e:Pr(e,pi(t,0,-1))}function Lo(e,t){if(("constructor"!==t||"function"!=typeof e[t])&&"__proto__"!=t)return e[t]}var Do=Bo(ci),$o=wt||function(e,t){return Ot.setTimeout(e,t)},Ho=Bo(ui);function qo(e,t,n){var r=t+"";return Ho(e,function(e,t){var n=t.length;if(!n)return e;var r=n-1;return t[r]=(n>1?"& ":"")+t[r],t=t.join(n>2?", ":" "),e.replace(he,"{\n/* [wrapped with "+t+"] */\n")}(r,function(e,t){return Ut(_,(function(n){var r="_."+n[0];t&n[1]&&!$t(e,r)&&e.push(r)})),e.sort()}(function(e){var t=e.match(ve);return t?t[1].split(me):[]}(r),n)))}function Bo(e){var t=0,n=0;return function(){var r=Rn(),s=16-(r-n);if(n=r,s>0){if(++t>=800)return arguments[0]}else t=0;return e.apply(i,arguments)}}function Fo(e,t){var n=-1,r=e.length,s=r-1;for(t=t===i?r:t;++n<t;){var o=ni(n,s),c=e[o];e[o]=e[n],e[n]=c}return e.length=t,e}var Vo=function(e){var t=qa(e,(function(e){return 500===n.size&&n.clear(),e})),n=t.cache;return t}((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(ue,(function(e,n,s,r){t.push(s?r.replace(ye,"$1"):n||e)})),t}));function Wo(e){if("string"==typeof e||vs(e))return e;var t=e+"";return"0"==t&&1/e==-h?"-0":t}function zo(e){if(null!=e){try{return Be.call(e)}catch(e){}try{return e+""}catch(e){}}return""}function Ko(e){if(e instanceof Xn)return e.clone();var t=new Yn(e.__wrapped__,e.__chain__);return t.__actions__=Di(e.__actions__),t.__index__=e.__index__,t.__values__=e.__values__,t}var Go=ii((function(e,t){return es(e)?_r(e,jr(t,1,es,!0)):[]})),Jo=ii((function(e,t){var n=ia(t);return es(n)&&(n=i),es(e)?_r(e,jr(t,1,es,!0),go(n,2)):[]})),Yo=ii((function(e,t){var n=ia(t);return es(n)&&(n=i),es(e)?_r(e,jr(t,1,es,!0),i,n):[]}));function Xo(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var s=null==n?0:ws(n);return s<0&&(s=kn(r+s,0)),Gt(e,go(t,3),s)}function Qo(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var s=r-1;return n!==i&&(s=ws(n),s=n<0?kn(r+s,0):Sn(s,r-1)),Gt(e,go(t,3),s,!0)}function Zo(e){return null!=e&&e.length?jr(e,1):[]}function ea(e){return e&&e.length?e[0]:i}var ta=ii((function(e){var t=qt(e,ki);return t.length&&t[0]===e[0]?Lr(t):[]})),na=ii((function(e){var t=ia(e),n=qt(e,ki);return t===ia(n)?t=i:n.pop(),n.length&&n[0]===e[0]?Lr(n,go(t,2)):[]})),ra=ii((function(e){var t=ia(e),n=qt(e,ki);return(t="function"==typeof t?t:i)&&n.pop(),n.length&&n[0]===e[0]?Lr(n,i,t):[]}));function ia(e){var t=null==e?0:e.length;return t?e[t-1]:i}var oa=ii(aa);function aa(e,t){return e&&e.length&&t&&t.length?ei(e,t):e}var sa=fo((function(e,t){var n=null==e?0:e.length,r=dr(e,t);return ti(e,qt(t,(function(s){return So(s,n)?+s:s})).sort(Ui)),r}));function ca(e){return null==e?e:Pn.call(e)}var ua=ii((function(e){return yi(jr(e,1,es,!0))})),la=ii((function(e){var t=ia(e);return es(t)&&(t=i),yi(jr(e,1,es,!0),go(t,2))})),fa=ii((function(e){var t=ia(e);return t="function"==typeof t?t:i,yi(jr(e,1,es,!0),i,t)}));function pa(e){if(!e||!e.length)return[];var t=0;return e=Dt(e,(function(e){if(es(e))return t=kn(e.length,t),!0})),rn(t,(function(t){return qt(e,Zt(t))}))}function da(e,t){if(!e||!e.length)return[];var n=pa(e);return null==t?n:qt(n,(function(e){return Tt(t,i,e)}))}var ha=ii((function(e,t){return es(e)?_r(e,t):[]})),va=ii((function(e){return Ei(Dt(e,es))})),ma=ii((function(e){var t=ia(e);return es(t)&&(t=i),Ei(Dt(e,es),go(t,2))})),ga=ii((function(e){var t=ia(e);return t="function"==typeof t?t:i,Ei(Dt(e,es),i,t)})),ba=ii(pa),ya=ii((function(e){var t=e.length,n=t>1?e[t-1]:i;return n="function"==typeof n?(e.pop(),n):i,da(e,n)}));function _a(e){var t=a(e);return t.__chain__=!0,t}function wa(e,t){return t(e)}var Oa=fo((function(e){var t=e.length,n=t?e[0]:0,r=this.__wrapped__,s=function(t){return dr(t,e)};return!(t>1||this.__actions__.length)&&r instanceof Xn&&So(n)?((r=r.slice(n,+n+(t?1:0))).__actions__.push({func:wa,args:[s],thisArg:i}),new Yn(r,this.__chain__).thru((function(e){return t&&!e.length&&e.push(i),e}))):this.thru(s)})),xa=Hi((function(e,t,n){Fe.call(e,n)?++e[n]:pr(e,n,1)})),Ea=Ki(Xo),ja=Ki(Qo);function ka(e,t){return(Xa(e)?Ut:rt)(e,go(t,3))}function Sa(e,t){return(Xa(e)?Mt:wr)(e,go(t,3))}var Ra=Hi((function(e,t,n){Fe.call(e,n)?e[n].push(t):pr(e,n,[t])})),Ca=ii((function(e,t,n){var r=-1,s="function"==typeof t,o=Za(e)?de(e.length):[];return rt(e,(function(e){o[++r]=s?Tt(t,e,n):Dr(e,t,n)})),o})),Ia=Hi((function(e,t,n){pr(e,n,t)}));function tr(e,t){return(Xa(e)?qt:Kr)(e,go(t,3))}var Pa=Hi((function(e,t,n){e[n?0:1].push(t)}),(function(){return[[],[]]})),Aa=ii((function(e,t){if(null==e)return[];var n=t.length;return n>1&&Ro(e,t[0],t[1])?t=[]:n>2&&Ro(t[0],t[1],t[2])&&(t=[t[0]]),Qr(e,jr(t,1),[])})),Ta=_t||function(){return Ot.Date.now()};function Na(e,t,n){return t=n?i:t,t=e&&null==t?e.length:t,ao(e,l,i,i,i,i,t)}function Ua(t,n){var r;if("function"!=typeof n)throw new Le(e);return t=ws(t),function(){return--t>0&&(r=n.apply(this,arguments)),t<=1&&(n=i),r}}var Ma=ii((function(e,t,n){var r=1;if(n.length){var s=gn(n,mo(Ma));r|=o}return ao(e,r,t,n,s)})),La=ii((function(e,t,n){var r=3;if(n.length){var s=gn(n,mo(La));r|=o}return ao(t,r,e,n,s)}));function Da(t,n,r){var o,s,c,l,f,d,h=0,v=!1,m=!1,y=!0;if("function"!=typeof t)throw new Le(e);function _(e){var n=o,r=s;return o=s=i,h=e,l=t.apply(r,n)}function w(e){var t=e-d;return d===i||t>=n||t<0||m&&e-h>=c}function O(){var e=Ta();if(w(e))return x(e);f=$o(O,function(e){var t=n-(e-d);return m?Sn(t,c-(e-h)):t}(e))}function x(e){return f=i,y&&o?_(e):(o=s=i,l)}function E(){var e=Ta(),t=w(e);if(o=arguments,s=this,d=e,t){if(f===i)return function(e){return h=e,f=$o(O,n),v?_(e):l}(d);if(m)return Pi(f),f=$o(O,n),_(d)}return f===i&&(f=$o(O,n)),l}return n=xs(n)||0,ss(r)&&(v=!!r.leading,c=(m="maxWait"in r)?kn(xs(r.maxWait)||0,n):c,y="trailing"in r?!!r.trailing:y),E.cancel=function(){f!==i&&Pi(f),h=0,o=d=s=f=i},E.flush=function(){return f===i?l:x(Ta())},E}var $a=ii((function(e,t){return yr(e,1,t)})),Ha=ii((function(e,t,n){return yr(e,xs(t)||0,n)}));function qa(t,n){if("function"!=typeof t||null!=n&&"function"!=typeof n)throw new Le(e);var r=function e(){var r=arguments,s=n?n.apply(this,r):r[0],o=e.cache;if(o.has(s))return o.get(s);var c=t.apply(this,r);return e.cache=o.set(s,c)||o,c};return r.cache=new(qa.Cache||er),r}function Ba(t){if("function"!=typeof t)throw new Le(e);return function(){var e=arguments;switch(e.length){case 0:return!t.call(this);case 1:return!t.call(this,e[0]);case 2:return!t.call(this,e[0],e[1]);case 3:return!t.call(this,e[0],e[1],e[2])}return!t.apply(this,e)}}qa.Cache=er;var Fa=Ci((function(e,t){var n=(t=1==t.length&&Xa(t[0])?qt(t[0],an(go())):qt(jr(t,1),an(go()))).length;return ii((function(r){for(var s=-1,o=Sn(r.length,n);++s<o;)r[s]=t[s].call(this,r[s]);return Tt(e,this,r)}))})),Va=ii((function(e,t){var n=gn(t,mo(Va));return ao(e,o,i,t,n)})),Wa=ii((function(e,t){var n=gn(t,mo(Wa));return ao(e,c,i,t,n)})),za=fo((function(e,t){return ao(e,f,i,i,i,t)}));function Ka(e,t){return e===t||e!=e&&t!=t}var Ga=to(Nr),Ja=to((function(e,t){return e>=t})),Ya=$r(function(){return arguments}())?$r:function(e){return cs(e)&&Fe.call(e,"callee")&&!nt.call(e,"callee")},Xa=de.isArray,Qa=St?an(St):function(e){return cs(e)&&Tr(e)==$};function Za(e){return null!=e&&as(e.length)&&!is(e)}function es(e){return cs(e)&&Za(e)}var ts=zt||xc,ns=Rt?an(Rt):function(e){return cs(e)&&Tr(e)==E};function rs(e){if(!cs(e))return!1;var t=Tr(e);return t==k||"[object DOMException]"==t||"string"==typeof e.message&&"string"==typeof e.name&&!fs(e)}function is(e){if(!ss(e))return!1;var t=Tr(e);return t==S||t==R||"[object AsyncFunction]"==t||"[object Proxy]"==t}function os(e){return"number"==typeof e&&e==ws(e)}function as(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=v}function ss(e){var t=Object(d.a)(e);return null!=e&&("object"==t||"function"==t)}function cs(e){return null!=e&&"object"==Object(d.a)(e)}var us=Ct?an(Ct):function(e){return cs(e)&&xo(e)==I};function ls(e){return"number"==typeof e||cs(e)&&Tr(e)==P}function fs(e){if(!cs(e)||Tr(e)!=A)return!1;var t=et(e);if(null===t)return!0;var n=Fe.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&Be.call(n)==Ke}var ps=It?an(It):function(e){return cs(e)&&Tr(e)==N},ds=Pt?an(Pt):function(e){return cs(e)&&xo(e)==U};function hs(e){return"string"==typeof e||!Xa(e)&&cs(e)&&Tr(e)==M}function vs(e){return"symbol"==Object(d.a)(e)||cs(e)&&Tr(e)==L}var ms=At?an(At):function(e){return cs(e)&&as(e.length)&&!!mt[Tr(e)]},gs=to(zr),bs=to((function(e,t){return e<=t}));function ys(e){if(!e)return[];if(Za(e))return hs(e)?_n(e):Di(e);if(at&&e[at])return function(e){for(var g,t=[];!(g=e.next()).done;)t.push(g.value);return t}(e[at]());var t=xo(e);return(t==I?vn:t==U?bn:Ks)(e)}function _s(e){return e?(e=xs(e))===h||e===-h?17976931348623157e292*(e<0?-1:1):e==e?e:0:0===e?e:0}function ws(e){var t=_s(e),n=t%1;return t==t?n?t-n:t:0}function Os(e){return e?vr(ws(e),0,y):0}function xs(e){if("number"==typeof e)return e;if(vs(e))return m;if(ss(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=ss(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=on(e);var n=xe.test(e);return n||je.test(e)?yt(e.slice(2),n?2:8):Oe.test(e)?m:+e}function Es(e){return $i(e,$s(e))}function js(e){return null==e?"":bi(e)}var ks=qi((function(e,t){if(Ao(t)||Za(t))$i(t,Ds(t),e);else for(var n in t)Fe.call(t,n)&&cr(e,n,t[n])})),Ss=qi((function(e,t){$i(t,$s(t),e)})),Rs=qi((function(e,t,n,r){$i(t,$s(t),e,r)})),Cs=qi((function(e,t,n,r){$i(t,Ds(t),e,r)})),Is=fo(dr),Ps=ii((function(e,t){e=Ne(e);var n=-1,r=t.length,s=r>2?t[2]:i;for(s&&Ro(t[0],t[1],s)&&(r=1);++n<r;)for(var o=t[n],c=$s(o),l=-1,f=c.length;++l<f;){var d=c[l],h=e[d];(h===i||Ka(h,He[d])&&!Fe.call(e,d))&&(e[d]=o[d])}return e})),As=ii((function(e){return e.push(i,co),Tt(qs,i,e)}));function Ts(e,t,n){var r=null==e?i:Pr(e,t);return r===i?n:r}function Ns(e,t){return null!=e&&Eo(e,t,Mr)}var Us=Yi((function(e,t,n){null!=t&&"function"!=typeof t.toString&&(t=ze.call(t)),e[t]=n}),sc(lc)),Ms=Yi((function(e,t,n){null!=t&&"function"!=typeof t.toString&&(t=ze.call(t)),Fe.call(e,t)?e[t].push(n):e[t]=[n]}),go),Ls=ii(Dr);function Ds(e){return Za(e)?rr(e):Vr(e)}function $s(e){return Za(e)?rr(e,!0):Wr(e)}var Hs=qi((function(e,t,n){Yr(e,t,n)})),qs=qi((function(e,t,n,r){Yr(e,t,n,r)})),Bs=fo((function(e,t){var n={};if(null==e)return n;var r=!1;t=qt(t,(function(t){return t=Ri(t,e),r||(r=t.length>1),t})),$i(e,li(e),n),r&&(n=mr(n,7,uo));for(var s=t.length;s--;)_i(n,t[s]);return n})),Fs=fo((function(e,t){return null==e?{}:function(e,t){return Zr(e,t,(function(t,n){return Ns(e,n)}))}(e,t)}));function Vs(e,t){if(null==e)return{};var n=qt(li(e),(function(e){return[e]}));return t=go(t),Zr(e,n,(function(e,s){return t(e,s[0])}))}var Ws=oo(Ds),zs=oo($s);function Ks(e){return null==e?[]:sn(e,Ds(e))}var Gs=Wi((function(e,t,n){return t=t.toLowerCase(),e+(n?Js(t):t)}));function Js(e){return rc(js(e).toLowerCase())}function Ys(e){return(e=js(e))&&e.replace(Se,fn).replace(ct,"")}var Xs=Wi((function(e,t,n){return e+(n?"-":"")+t.toLowerCase()})),Qs=Wi((function(e,t,n){return e+(n?" ":"")+t.toLowerCase()})),Zs=Vi("toLowerCase"),ec=Wi((function(e,t,n){return e+(n?"_":"")+t.toLowerCase()})),tc=Wi((function(e,t,n){return e+(n?" ":"")+rc(t)})),nc=Wi((function(e,t,n){return e+(n?" ":"")+t.toUpperCase()})),rc=Vi("toUpperCase");function ic(e,t,n){return e=js(e),(t=n?i:t)===i?function(e){return pt.test(e)}(e)?function(e){return e.match(lt)||[]}(e):function(e){return e.match(ge)||[]}(e):e.match(t)||[]}var oc=ii((function(e,t){try{return Tt(e,i,t)}catch(e){return rs(e)?e:new Pe(e)}})),ac=fo((function(e,t){return Ut(t,(function(t){t=Wo(t),pr(e,t,Ma(e[t],e))})),e}));function sc(e){return function(){return e}}var cc=Gi(),uc=Gi(!0);function lc(e){return e}function fc(e){return Fr("function"==typeof e?e:mr(e,1))}var pc=ii((function(e,t){return function(n){return Dr(n,e,t)}})),dc=ii((function(e,t){return function(n){return Dr(e,n,t)}}));function hc(e,t,n){var r=Ds(t),s=Ir(t,r);null==n&&(!ss(t)||!s.length&&r.length)&&(n=t,t=e,e=this,s=Ir(t,Ds(t)));var o=!(ss(n)&&"chain"in n&&!n.chain),c=is(e);return Ut(s,(function(n){var r=t[n];e[n]=r,c&&(e.prototype[n]=function(){var t=this.__chain__;if(o||t){var n=e(this.__wrapped__);return(n.__actions__=Di(this.__actions__)).push({func:r,args:arguments,thisArg:e}),n.__chain__=t,n}return r.apply(e,Bt([this.value()],arguments))})})),e}function vc(){}var mc=Qi(qt),gc=Qi(Lt),bc=Qi(Wt);function yc(e){return Co(e)?Zt(Wo(e)):function(e){return function(t){return Pr(t,e)}}(e)}var _c=eo(),wc=eo(!0);function Oc(){return[]}function xc(){return!1}var Ec=Xi((function(e,t){return e+t}),0),jc=ro("ceil"),kc=Xi((function(e,t){return e/t}),1),Sc=ro("floor"),Rc=Xi((function(e,t){return e*t}),1),Cc=ro("round"),Ic=Xi((function(e,t){return e-t}),0);return a.after=function(t,n){if("function"!=typeof n)throw new Le(e);return t=ws(t),function(){if(--t<1)return n.apply(this,arguments)}},a.ary=Na,a.assign=ks,a.assignIn=Ss,a.assignInWith=Rs,a.assignWith=Cs,a.at=Is,a.before=Ua,a.bind=Ma,a.bindAll=ac,a.bindKey=La,a.castArray=function(){if(!arguments.length)return[];var e=arguments[0];return Xa(e)?e:[e]},a.chain=_a,a.chunk=function(e,t,n){t=(n?Ro(e,t,n):t===i)?1:kn(ws(t),0);var r=null==e?0:e.length;if(!r||t<1)return[];for(var s=0,o=0,c=de(xt(r/t));s<r;)c[o++]=pi(e,s,s+=t);return c},a.compact=function(e){for(var t=-1,n=null==e?0:e.length,r=0,s=[];++t<n;){var o=e[t];o&&(s[r++]=o)}return s},a.concat=function(){var e=arguments.length;if(!e)return[];for(var t=de(e-1),n=arguments[0],r=e;r--;)t[r-1]=arguments[r];return Bt(Xa(n)?Di(n):[n],jr(t,1))},a.cond=function(t){var n=null==t?0:t.length,r=go();return t=n?qt(t,(function(t){if("function"!=typeof t[1])throw new Le(e);return[r(t[0]),t[1]]})):[],ii((function(e){for(var s=-1;++s<n;){var r=t[s];if(Tt(r[0],this,e))return Tt(r[1],this,e)}}))},a.conforms=function(e){return function(e){var t=Ds(e);return function(n){return gr(n,e,t)}}(mr(e,1))},a.constant=sc,a.countBy=xa,a.create=function(e,t){var n=Gn(e);return null==t?n:fr(n,t)},a.curry=function e(t,n,r){var o=ao(t,8,i,i,i,i,i,n=r?i:n);return o.placeholder=e.placeholder,o},a.curryRight=function e(t,n,o){var c=ao(t,r,i,i,i,i,i,n=o?i:n);return c.placeholder=e.placeholder,c},a.debounce=Da,a.defaults=Ps,a.defaultsDeep=As,a.defer=$a,a.delay=Ha,a.difference=Go,a.differenceBy=Jo,a.differenceWith=Yo,a.drop=function(e,t,n){var r=null==e?0:e.length;return r?pi(e,(t=n||t===i?1:ws(t))<0?0:t,r):[]},a.dropRight=function(e,t,n){var r=null==e?0:e.length;return r?pi(e,0,(t=r-(t=n||t===i?1:ws(t)))<0?0:t):[]},a.dropRightWhile=function(e,t){return e&&e.length?Oi(e,go(t,3),!0,!0):[]},a.dropWhile=function(e,t){return e&&e.length?Oi(e,go(t,3),!0):[]},a.fill=function(e,t,n,r){var s=null==e?0:e.length;return s?(n&&"number"!=typeof n&&Ro(e,t,n)&&(n=0,r=s),function(e,t,n,r){var s=e.length;for((n=ws(n))<0&&(n=-n>s?0:s+n),(r=r===i||r>s?s:ws(r))<0&&(r+=s),r=n>r?0:Os(r);n<r;)e[n++]=t;return e}(e,t,n,r)):[]},a.filter=function(e,t){return(Xa(e)?Dt:Er)(e,go(t,3))},a.flatMap=function(e,t){return jr(tr(e,t),1)},a.flatMapDeep=function(e,t){return jr(tr(e,t),h)},a.flatMapDepth=function(e,t,n){return n=n===i?1:ws(n),jr(tr(e,t),n)},a.flatten=Zo,a.flattenDeep=function(e){return null!=e&&e.length?jr(e,h):[]},a.flattenDepth=function(e,t){return null!=e&&e.length?jr(e,t=t===i?1:ws(t)):[]},a.flip=function(e){return ao(e,512)},a.flow=cc,a.flowRight=uc,a.fromPairs=function(e){for(var t=-1,n=null==e?0:e.length,r={};++t<n;){var s=e[t];r[s[0]]=s[1]}return r},a.functions=function(e){return null==e?[]:Ir(e,Ds(e))},a.functionsIn=function(e){return null==e?[]:Ir(e,$s(e))},a.groupBy=Ra,a.initial=function(e){return null!=e&&e.length?pi(e,0,-1):[]},a.intersection=ta,a.intersectionBy=na,a.intersectionWith=ra,a.invert=Us,a.invertBy=Ms,a.invokeMap=Ca,a.iteratee=fc,a.keyBy=Ia,a.keys=Ds,a.keysIn=$s,a.map=tr,a.mapKeys=function(e,t){var n={};return t=go(t,3),Rr(e,(function(e,s,r){pr(n,t(e,s,r),e)})),n},a.mapValues=function(e,t){var n={};return t=go(t,3),Rr(e,(function(e,s,r){pr(n,s,t(e,s,r))})),n},a.matches=function(e){return Gr(mr(e,1))},a.matchesProperty=function(e,t){return Jr(e,mr(t,1))},a.memoize=qa,a.merge=Hs,a.mergeWith=qs,a.method=pc,a.methodOf=dc,a.mixin=hc,a.negate=Ba,a.nthArg=function(e){return e=ws(e),ii((function(t){return Xr(t,e)}))},a.omit=Bs,a.omitBy=function(e,t){return Vs(e,Ba(go(t)))},a.once=function(e){return Ua(2,e)},a.orderBy=function(e,t,n,r){return null==e?[]:(Xa(t)||(t=null==t?[]:[t]),Xa(n=r?i:n)||(n=null==n?[]:[n]),Qr(e,t,n))},a.over=mc,a.overArgs=Fa,a.overEvery=gc,a.overSome=bc,a.partial=Va,a.partialRight=Wa,a.partition=Pa,a.pick=Fs,a.pickBy=Vs,a.property=yc,a.propertyOf=function(e){return function(t){return null==e?i:Pr(e,t)}},a.pull=oa,a.pullAll=aa,a.pullAllBy=function(e,t,n){return e&&e.length&&t&&t.length?ei(e,t,go(n,2)):e},a.pullAllWith=function(e,t,n){return e&&e.length&&t&&t.length?ei(e,t,i,n):e},a.pullAt=sa,a.range=_c,a.rangeRight=wc,a.rearg=za,a.reject=function(e,t){return(Xa(e)?Dt:Er)(e,Ba(go(t,3)))},a.remove=function(e,t){var n=[];if(!e||!e.length)return n;var r=-1,s=[],o=e.length;for(t=go(t,3);++r<o;){var c=e[r];t(c,r,e)&&(n.push(c),s.push(r))}return ti(e,s),n},a.rest=function(t,n){if("function"!=typeof t)throw new Le(e);return ii(t,n=n===i?n:ws(n))},a.reverse=ca,a.sampleSize=function(e,t,n){return t=(n?Ro(e,t,n):t===i)?1:ws(t),(Xa(e)?or:ai)(e,t)},a.set=function(e,t,n){return null==e?e:si(e,t,n)},a.setWith=function(e,t,n,r){return r="function"==typeof r?r:i,null==e?e:si(e,t,n,r)},a.shuffle=function(e){return(Xa(e)?ar:fi)(e)},a.slice=function(e,t,n){var r=null==e?0:e.length;return r?(n&&"number"!=typeof n&&Ro(e,t,n)?(t=0,n=r):(t=null==t?0:ws(t),n=n===i?r:ws(n)),pi(e,t,n)):[]},a.sortBy=Aa,a.sortedUniq=function(e){return e&&e.length?mi(e):[]},a.sortedUniqBy=function(e,t){return e&&e.length?mi(e,go(t,2)):[]},a.split=function(e,t,n){return n&&"number"!=typeof n&&Ro(e,t,n)&&(t=n=i),(n=n===i?y:n>>>0)?(e=js(e))&&("string"==typeof t||null!=t&&!ps(t))&&!(t=bi(t))&&hn(e)?Ii(_n(e),0,n):e.split(t,n):[]},a.spread=function(t,n){if("function"!=typeof t)throw new Le(e);return n=null==n?0:kn(ws(n),0),ii((function(e){var r=e[n],s=Ii(e,0,n);return r&&Bt(s,r),Tt(t,this,s)}))},a.tail=function(e){var t=null==e?0:e.length;return t?pi(e,1,t):[]},a.take=function(e,t,n){return e&&e.length?pi(e,0,(t=n||t===i?1:ws(t))<0?0:t):[]},a.takeRight=function(e,t,n){var r=null==e?0:e.length;return r?pi(e,(t=r-(t=n||t===i?1:ws(t)))<0?0:t,r):[]},a.takeRightWhile=function(e,t){return e&&e.length?Oi(e,go(t,3),!1,!0):[]},a.takeWhile=function(e,t){return e&&e.length?Oi(e,go(t,3)):[]},a.tap=function(e,t){return t(e),e},a.throttle=function(t,n,r){var o=!0,s=!0;if("function"!=typeof t)throw new Le(e);return ss(r)&&(o="leading"in r?!!r.leading:o,s="trailing"in r?!!r.trailing:s),Da(t,n,{leading:o,maxWait:n,trailing:s})},a.thru=wa,a.toArray=ys,a.toPairs=Ws,a.toPairsIn=zs,a.toPath=function(e){return Xa(e)?qt(e,Wo):vs(e)?[e]:Di(Vo(js(e)))},a.toPlainObject=Es,a.transform=function(e,t,n){var r=Xa(e),s=r||ts(e)||ms(e);if(t=go(t,4),null==n){var o=e&&e.constructor;n=s?r?new o:[]:ss(e)&&is(o)?Gn(et(e)):{}}return(s?Ut:Rr)(e,(function(e,r,o){return t(n,e,r,o)})),n},a.unary=function(e){return Na(e,1)},a.union=ua,a.unionBy=la,a.unionWith=fa,a.uniq=function(e){return e&&e.length?yi(e):[]},a.uniqBy=function(e,t){return e&&e.length?yi(e,go(t,2)):[]},a.uniqWith=function(e,t){return t="function"==typeof t?t:i,e&&e.length?yi(e,i,t):[]},a.unset=function(e,t){return null==e||_i(e,t)},a.unzip=pa,a.unzipWith=da,a.update=function(e,t,n){return null==e?e:wi(e,t,Si(n))},a.updateWith=function(e,t,n,r){return r="function"==typeof r?r:i,null==e?e:wi(e,t,Si(n),r)},a.values=Ks,a.valuesIn=function(e){return null==e?[]:sn(e,$s(e))},a.without=ha,a.words=ic,a.wrap=function(e,t){return Va(Si(t),e)},a.xor=va,a.xorBy=ma,a.xorWith=ga,a.zip=ba,a.zipObject=function(e,t){return ji(e||[],t||[],cr)},a.zipObjectDeep=function(e,t){return ji(e||[],t||[],si)},a.zipWith=ya,a.entries=Ws,a.entriesIn=zs,a.extend=Ss,a.extendWith=Rs,hc(a,a),a.add=Ec,a.attempt=oc,a.camelCase=Gs,a.capitalize=Js,a.ceil=jc,a.clamp=function(e,t,n){return n===i&&(n=t,t=i),n!==i&&(n=(n=xs(n))==n?n:0),t!==i&&(t=(t=xs(t))==t?t:0),vr(xs(e),t,n)},a.clone=function(e){return mr(e,4)},a.cloneDeep=function(e){return mr(e,5)},a.cloneDeepWith=function(e,t){return mr(e,5,t="function"==typeof t?t:i)},a.cloneWith=function(e,t){return mr(e,4,t="function"==typeof t?t:i)},a.conformsTo=function(e,t){return null==t||gr(e,t,Ds(t))},a.deburr=Ys,a.defaultTo=function(e,t){return null==e||e!=e?t:e},a.divide=kc,a.endsWith=function(e,t,n){e=js(e),t=bi(t);var r=e.length,s=n=n===i?r:vr(ws(n),0,r);return(n-=t.length)>=0&&e.slice(n,s)==t},a.eq=Ka,a.escape=function(e){return(e=js(e))&&re.test(e)?e.replace(te,pn):e},a.escapeRegExp=function(e){return(e=js(e))&&fe.test(e)?e.replace(le,"\\$&"):e},a.every=function(e,t,n){var r=Xa(e)?Lt:Or;return n&&Ro(e,t,n)&&(t=i),r(e,go(t,3))},a.find=Ea,a.findIndex=Xo,a.findKey=function(e,t){return Kt(e,go(t,3),Rr)},a.findLast=ja,a.findLastIndex=Qo,a.findLastKey=function(e,t){return Kt(e,go(t,3),Cr)},a.floor=Sc,a.forEach=ka,a.forEachRight=Sa,a.forIn=function(e,t){return null==e?e:kr(e,go(t,3),$s)},a.forInRight=function(e,t){return null==e?e:Sr(e,go(t,3),$s)},a.forOwn=function(e,t){return e&&Rr(e,go(t,3))},a.forOwnRight=function(e,t){return e&&Cr(e,go(t,3))},a.get=Ts,a.gt=Ga,a.gte=Ja,a.has=function(e,t){return null!=e&&Eo(e,t,Ur)},a.hasIn=Ns,a.head=ea,a.identity=lc,a.includes=function(e,t,n,r){e=Za(e)?e:Ks(e),n=n&&!r?ws(n):0;var s=e.length;return n<0&&(n=kn(s+n,0)),hs(e)?n<=s&&e.indexOf(t,n)>-1:!!s&&Jt(e,t,n)>-1},a.indexOf=function(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var s=null==n?0:ws(n);return s<0&&(s=kn(r+s,0)),Jt(e,t,s)},a.inRange=function(e,t,n){return t=_s(t),n===i?(n=t,t=0):n=_s(n),function(e,t,n){return e>=Sn(t,n)&&e<kn(t,n)}(e=xs(e),t,n)},a.invoke=Ls,a.isArguments=Ya,a.isArray=Xa,a.isArrayBuffer=Qa,a.isArrayLike=Za,a.isArrayLikeObject=es,a.isBoolean=function(e){return!0===e||!1===e||cs(e)&&Tr(e)==x},a.isBuffer=ts,a.isDate=ns,a.isElement=function(e){return cs(e)&&1===e.nodeType&&!fs(e)},a.isEmpty=function(e){if(null==e)return!0;if(Za(e)&&(Xa(e)||"string"==typeof e||"function"==typeof e.splice||ts(e)||ms(e)||Ya(e)))return!e.length;var t=xo(e);if(t==I||t==U)return!e.size;if(Ao(e))return!Vr(e).length;for(var n in e)if(Fe.call(e,n))return!1;return!0},a.isEqual=function(e,t){return Hr(e,t)},a.isEqualWith=function(e,t,n){var r=(n="function"==typeof n?n:i)?n(e,t):i;return r===i?Hr(e,t,i,n):!!r},a.isError=rs,a.isFinite=function(e){return"number"==typeof e&&en(e)},a.isFunction=is,a.isInteger=os,a.isLength=as,a.isMap=us,a.isMatch=function(e,t){return e===t||qr(e,t,yo(t))},a.isMatchWith=function(e,t,n){return n="function"==typeof n?n:i,qr(e,t,yo(t),n)},a.isNaN=function(e){return ls(e)&&e!=+e},a.isNative=function(e){if(Po(e))throw new Pe("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return Br(e)},a.isNil=function(e){return null==e},a.isNull=function(e){return null===e},a.isNumber=ls,a.isObject=ss,a.isObjectLike=cs,a.isPlainObject=fs,a.isRegExp=ps,a.isSafeInteger=function(e){return os(e)&&e>=-v&&e<=v},a.isSet=ds,a.isString=hs,a.isSymbol=vs,a.isTypedArray=ms,a.isUndefined=function(e){return e===i},a.isWeakMap=function(e){return cs(e)&&xo(e)==D},a.isWeakSet=function(e){return cs(e)&&"[object WeakSet]"==Tr(e)},a.join=function(e,t){return null==e?"":En.call(e,t)},a.kebabCase=Xs,a.last=ia,a.lastIndexOf=function(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var s=r;return n!==i&&(s=(s=ws(n))<0?kn(r+s,0):Sn(s,r-1)),t==t?function(e,g,t){for(var n=t+1;n--;)if(e[n]===g)return n;return n}(e,t,s):Gt(e,Xt,s,!0)},a.lowerCase=Qs,a.lowerFirst=Zs,a.lt=gs,a.lte=bs,a.max=function(e){return e&&e.length?xr(e,lc,Nr):i},a.maxBy=function(e,t){return e&&e.length?xr(e,go(t,2),Nr):i},a.mean=function(e){return Qt(e,lc)},a.meanBy=function(e,t){return Qt(e,go(t,2))},a.min=function(e){return e&&e.length?xr(e,lc,zr):i},a.minBy=function(e,t){return e&&e.length?xr(e,go(t,2),zr):i},a.stubArray=Oc,a.stubFalse=xc,a.stubObject=function(){return{}},a.stubString=function(){return""},a.stubTrue=function(){return!0},a.multiply=Rc,a.nth=function(e,t){return e&&e.length?Xr(e,ws(t)):i},a.noConflict=function(){return Ot._===this&&(Ot._=Ge),this},a.noop=vc,a.now=Ta,a.pad=function(e,t,n){e=js(e);var r=(t=ws(t))?yn(e):0;if(!t||r>=t)return e;var s=(t-r)/2;return Zi(jt(s),n)+e+Zi(xt(s),n)},a.padEnd=function(e,t,n){e=js(e);var r=(t=ws(t))?yn(e):0;return t&&r<t?e+Zi(t-r,n):e},a.padStart=function(e,t,n){e=js(e);var r=(t=ws(t))?yn(e):0;return t&&r<t?Zi(t-r,n)+e:e},a.parseInt=function(e,t,n){return n||null==t?t=0:t&&(t=+t),Cn(js(e).replace(pe,""),t||0)},a.random=function(e,t,n){if(n&&"boolean"!=typeof n&&Ro(e,t,n)&&(t=n=i),n===i&&("boolean"==typeof t?(n=t,t=i):"boolean"==typeof e&&(n=e,e=i)),e===i&&t===i?(e=0,t=1):(e=_s(e),t===i?(t=e,e=0):t=_s(t)),e>t){var r=e;e=t,t=r}if(n||e%1||t%1){var s=In();return Sn(e+s*(t-e+bt("1e-"+((s+"").length-1))),t)}return ni(e,t)},a.reduce=function(e,t,n){var r=Xa(e)?Ft:tn,s=arguments.length<3;return r(e,go(t,4),n,s,rt)},a.reduceRight=function(e,t,n){var r=Xa(e)?Vt:tn,s=arguments.length<3;return r(e,go(t,4),n,s,wr)},a.repeat=function(e,t,n){return t=(n?Ro(e,t,n):t===i)?1:ws(t),ri(js(e),t)},a.replace=function(){var e=arguments,t=js(e[0]);return e.length<3?t:t.replace(e[1],e[2])},a.result=function(e,t,n){var r=-1,s=(t=Ri(t,e)).length;for(s||(s=1,e=i);++r<s;){var o=null==e?i:e[Wo(t[r])];o===i&&(r=s,o=n),e=is(o)?o.call(e):o}return e},a.round=Cc,a.runInContext=j,a.sample=function(e){return(Xa(e)?ir:oi)(e)},a.size=function(e){if(null==e)return 0;if(Za(e))return hs(e)?yn(e):e.length;var t=xo(e);return t==I||t==U?e.size:Vr(e).length},a.snakeCase=ec,a.some=function(e,t,n){var r=Xa(e)?Wt:di;return n&&Ro(e,t,n)&&(t=i),r(e,go(t,3))},a.sortedIndex=function(e,t){return hi(e,t)},a.sortedIndexBy=function(e,t,n){return vi(e,t,go(n,2))},a.sortedIndexOf=function(e,t){var n=null==e?0:e.length;if(n){var r=hi(e,t);if(r<n&&Ka(e[r],t))return r}return-1},a.sortedLastIndex=function(e,t){return hi(e,t,!0)},a.sortedLastIndexBy=function(e,t,n){return vi(e,t,go(n,2),!0)},a.sortedLastIndexOf=function(e,t){if(null!=e&&e.length){var n=hi(e,t,!0)-1;if(Ka(e[n],t))return n}return-1},a.startCase=tc,a.startsWith=function(e,t,n){return e=js(e),n=null==n?0:vr(ws(n),0,e.length),t=bi(t),e.slice(n,n+t.length)==t},a.subtract=Ic,a.sum=function(e){return e&&e.length?nn(e,lc):0},a.sumBy=function(e,t){return e&&e.length?nn(e,go(t,2)):0},a.template=function(e,t,n){var r=a.templateSettings;n&&Ro(e,t,n)&&(t=i),e=js(e),t=Rs({},t,r,so);var o,c,s=Rs({},t.imports,r.imports,so),l=Ds(s),f=sn(s,l),d=0,h=t.interpolate||Re,v="__p += '",m=Ue((t.escape||Re).source+"|"+h.source+"|"+(h===ae?_e:Re).source+"|"+(t.evaluate||Re).source+"|$","g"),y="//# sourceURL="+(Fe.call(t,"sourceURL")?(t.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++vt+"]")+"\n";e.replace(m,(function(t,n,r,l,f,h){return r||(r=l),v+=e.slice(d,h).replace(Ce,dn),n&&(o=!0,v+="' +\n__e("+n+") +\n'"),f&&(c=!0,v+="';\n"+f+";\n__p += '"),r&&(v+="' +\n((__t = ("+r+")) == null ? '' : __t) +\n'"),d=h+t.length,t})),v+="';\n";var _=Fe.call(t,"variable")&&t.variable;if(_){if(be.test(_))throw new Pe("Invalid `variable` option passed into `_.template`")}else v="with (obj) {\n"+v+"\n}\n";v=(c?v.replace(X,""):v).replace(Q,"$1").replace(Z,"$1;"),v="function("+(_||"obj")+") {\n"+(_?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(o?", __e = _.escape":"")+(c?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+v+"return __p\n}";var b=oc((function(){return Ae(l,y+"return "+v).apply(i,f)}));if(b.source=v,rs(b))throw b;return b},a.times=function(e,t){if((e=ws(e))<1||e>v)return[];var n=y,r=Sn(e,y);t=go(t),e-=y;for(var s=rn(r,t);++n<e;)t(n);return s},a.toFinite=_s,a.toInteger=ws,a.toLength=Os,a.toLower=function(e){return js(e).toLowerCase()},a.toNumber=xs,a.toSafeInteger=function(e){return e?vr(ws(e),-v,v):0===e?e:0},a.toString=js,a.toUpper=function(e){return js(e).toUpperCase()},a.trim=function(e,t,n){if((e=js(e))&&(n||t===i))return on(e);if(!e||!(t=bi(t)))return e;var r=_n(e),s=_n(t);return Ii(r,un(r,s),ln(r,s)+1).join("")},a.trimEnd=function(e,t,n){if((e=js(e))&&(n||t===i))return e.slice(0,wn(e)+1);if(!e||!(t=bi(t)))return e;var r=_n(e);return Ii(r,0,ln(r,_n(t))+1).join("")},a.trimStart=function(e,t,n){if((e=js(e))&&(n||t===i))return e.replace(pe,"");if(!e||!(t=bi(t)))return e;var r=_n(e);return Ii(r,un(r,_n(t))).join("")},a.truncate=function(e,t){var n=30,r="...";if(ss(t)){var s="separator"in t?t.separator:s;n="length"in t?ws(t.length):n,r="omission"in t?bi(t.omission):r}var o=(e=js(e)).length;if(hn(e)){var c=_n(e);o=c.length}if(n>=o)return e;var l=n-yn(r);if(l<1)return r;var f=c?Ii(c,0,l).join(""):e.slice(0,l);if(s===i)return f+r;if(c&&(l+=f.length-l),ps(s)){if(e.slice(l).search(s)){var d,h=f;for(s.global||(s=Ue(s.source,js(we.exec(s))+"g")),s.lastIndex=0;d=s.exec(h);)var v=d.index;f=f.slice(0,v===i?l:v)}}else if(e.indexOf(bi(s),l)!=l){var m=f.lastIndexOf(s);m>-1&&(f=f.slice(0,m))}return f+r},a.unescape=function(e){return(e=js(e))&&ne.test(e)?e.replace(ee,On):e},a.uniqueId=function(e){var t=++Ve;return js(e)+t},a.upperCase=nc,a.upperFirst=rc,a.each=ka,a.eachRight=Sa,a.first=ea,hc(a,function(){var e={};return Rr(a,(function(t,n){Fe.call(a.prototype,n)||(e[n]=t)})),e}(),{chain:!1}),a.VERSION="4.17.21",Ut(["bind","bindKey","curry","curryRight","partial","partialRight"],(function(e){a[e].placeholder=a})),Ut(["drop","take"],(function(e,t){Xn.prototype[e]=function(n){n=n===i?1:kn(ws(n),0);var r=this.__filtered__&&!t?new Xn(this):this.clone();return r.__filtered__?r.__takeCount__=Sn(n,r.__takeCount__):r.__views__.push({size:Sn(n,y),type:e+(r.__dir__<0?"Right":"")}),r},Xn.prototype[e+"Right"]=function(t){return this.reverse()[e](t).reverse()}})),Ut(["filter","map","takeWhile"],(function(e,t){var n=t+1,r=1==n||3==n;Xn.prototype[e]=function(s){var e=this.clone();return e.__iteratees__.push({iteratee:go(s,3),type:n}),e.__filtered__=e.__filtered__||r,e}})),Ut(["head","last"],(function(e,t){var n="take"+(t?"Right":"");Xn.prototype[e]=function(){return this[n](1).value()[0]}})),Ut(["initial","tail"],(function(e,t){var n="drop"+(t?"":"Right");Xn.prototype[e]=function(){return this.__filtered__?new Xn(this):this[n](1)}})),Xn.prototype.compact=function(){return this.filter(lc)},Xn.prototype.find=function(e){return this.filter(e).head()},Xn.prototype.findLast=function(e){return this.reverse().find(e)},Xn.prototype.invokeMap=ii((function(e,t){return"function"==typeof e?new Xn(this):this.map((function(n){return Dr(n,e,t)}))})),Xn.prototype.reject=function(e){return this.filter(Ba(go(e)))},Xn.prototype.slice=function(e,t){e=ws(e);var n=this;return n.__filtered__&&(e>0||t<0)?new Xn(n):(e<0?n=n.takeRight(-e):e&&(n=n.drop(e)),t!==i&&(n=(t=ws(t))<0?n.dropRight(-t):n.take(t-e)),n)},Xn.prototype.takeRightWhile=function(e){return this.reverse().takeWhile(e).reverse()},Xn.prototype.toArray=function(){return this.take(y)},Rr(Xn.prototype,(function(e,t){var n=/^(?:filter|find|map|reject)|While$/.test(t),r=/^(?:head|last)$/.test(t),s=a[r?"take"+("last"==t?"Right":""):t],o=r||/^find/.test(t);s&&(a.prototype[t]=function(){var t=this.__wrapped__,c=r?[1]:arguments,l=t instanceof Xn,f=c[0],d=l||Xa(t),h=function(e){var t=s.apply(a,Bt([e],c));return r&&v?t[0]:t};d&&n&&"function"==typeof f&&1!=f.length&&(l=d=!1);var v=this.__chain__,m=!!this.__actions__.length,y=o&&!v,b=l&&!m;if(!o&&d){t=b?t:new Xn(this);var _=e.apply(t,c);return _.__actions__.push({func:wa,args:[h],thisArg:i}),new Yn(_,v)}return y&&b?e.apply(this,c):(_=this.thru(h),y?r?_.value()[0]:_.value():_)})})),Ut(["pop","push","shift","sort","splice","unshift"],(function(e){var t=De[e],n=/^(?:push|sort|unshift)$/.test(e)?"tap":"thru",r=/^(?:pop|shift)$/.test(e);a.prototype[e]=function(){var s=arguments;if(r&&!this.__chain__){var e=this.value();return t.apply(Xa(e)?e:[],s)}return this[n]((function(e){return t.apply(Xa(e)?e:[],s)}))}})),Rr(Xn.prototype,(function(e,t){var n=a[t];if(n){var r=n.name+"";Fe.call($n,r)||($n[r]=[]),$n[r].push({name:t,func:n})}})),$n[Ji(i,2).name]=[{name:"wrapper",func:i}],Xn.prototype.clone=function(){var e=new Xn(this.__wrapped__);return e.__actions__=Di(this.__actions__),e.__dir__=this.__dir__,e.__filtered__=this.__filtered__,e.__iteratees__=Di(this.__iteratees__),e.__takeCount__=this.__takeCount__,e.__views__=Di(this.__views__),e},Xn.prototype.reverse=function(){if(this.__filtered__){var e=new Xn(this);e.__dir__=-1,e.__filtered__=!0}else(e=this.clone()).__dir__*=-1;return e},Xn.prototype.value=function(){var e=this.__wrapped__.value(),t=this.__dir__,n=Xa(e),r=t<0,s=n?e.length:0,o=function(e,t,n){for(var r=-1,s=n.length;++r<s;){var o=n[r],c=o.size;switch(o.type){case"drop":e+=c;break;case"dropRight":t-=c;break;case"take":t=Sn(t,e+c);break;case"takeRight":e=kn(e,t-c)}}return{start:e,end:t}}(0,s,this.__views__),c=o.start,l=o.end,f=l-c,d=r?l:c-1,h=this.__iteratees__,v=h.length,m=0,y=Sn(f,this.__takeCount__);if(!n||!r&&s==f&&y==f)return xi(e,this.__actions__);var _=[];e:for(;f--&&m<y;){for(var b=-1,w=e[d+=t];++b<v;){var O=h[b],x=O.iteratee,E=O.type,j=x(w);if(2==E)w=j;else if(!j){if(1==E)continue e;break e}}_[m++]=w}return _},a.prototype.at=Oa,a.prototype.chain=function(){return _a(this)},a.prototype.commit=function(){return new Yn(this.value(),this.__chain__)},a.prototype.next=function(){this.__values__===i&&(this.__values__=ys(this.value()));var e=this.__index__>=this.__values__.length;return{done:e,value:e?i:this.__values__[this.__index__++]}},a.prototype.plant=function(e){for(var t,n=this;n instanceof Jn;){var r=Ko(n);r.__index__=0,r.__values__=i,t?s.__wrapped__=r:t=r;var s=r;n=n.__wrapped__}return s.__wrapped__=e,t},a.prototype.reverse=function(){var e=this.__wrapped__;if(e instanceof Xn){var t=e;return this.__actions__.length&&(t=new Xn(this)),(t=t.reverse()).__actions__.push({func:wa,args:[ca],thisArg:i}),new Yn(t,this.__chain__)}return this.thru(ca)},a.prototype.toJSON=a.prototype.valueOf=a.prototype.value=function(){return xi(this.__wrapped__,this.__actions__)},a.prototype.first=a.prototype.head,at&&(a.prototype[at]=function(){return this}),a}();xt?((xt.exports=xn)._=xn,br._=xn):Ot._=xn}.call(C);var P=Object.defineProperty,A=Object.defineProperties,T=Object.getOwnPropertyDescriptors,N=Object.getOwnPropertySymbols,U=Object.prototype.hasOwnProperty,M=Object.prototype.propertyIsEnumerable,L=function(e,u,i){return u in e?P(e,u,{enumerable:!0,configurable:!0,writable:!0,value:i}):e[u]=i},D=function(e,u){for(var i in u||(u={}))U.call(u,i)&&L(e,i,u[i]);if(N){var t,n=x(N(u));try{for(n.s();!(t=n.n()).done;){i=t.value;M.call(u,i)&&L(e,i,u[i])}}catch(e){n.e(e)}finally{n.f()}}return e},$=function(e,u){return A(e,T(u))};function H(e,u,i){var p,t=B(e);return u.rpcMap&&(p=u.rpcMap[t]),p||(p="".concat("https://rpc.walletconnect.com/v1","?chainId=eip155:").concat(t,"&projectId=").concat(i)),p}function B(e){return e.includes("eip155")?Number(e.split(":")[1]):Number(e)}function F(e){return e.map((function(u){return"".concat(u.split(":")[0],":").concat(u.split(":")[1])}))}function V(e){var u,i,p,t,n={};if(!Object(v.d)(e))return n;for(var r=0,o=Object.entries(e);r<o.length;r++){var c=Object(l.a)(o[r],2),f=c[0],d=c[1],h=Object(v.b)(f)?[f]:d.chains,m=d.methods||[],y=d.events||[],_=d.rpcMap||{},w=Object(v.f)(f);n[w]=$(D(D({},n[w]),d),{chains:Object(v.e)(h,null==(u=n[w])?void 0:u.chains),methods:Object(v.e)(m,null==(i=n[w])?void 0:i.methods),events:Object(v.e)(y,null==(p=n[w])?void 0:p.events),rpcMap:D(D({},_),null==(t=n[w])?void 0:t.rpcMap)})}return n}function W(e){return e.includes(":")?e.split(":")[2]:e}function z(e){for(var u={},t=0,n=Object.entries(e);t<n.length;t++){var r=Object(l.a)(n[t],2),i=r[0],p=r[1],o=p.methods||[],c=p.events||[],f=p.accounts||[],d=Object(v.b)(i)?[i]:p.chains?p.chains:F(p.accounts);u[i]={chains:d,methods:o,events:c,accounts:f}}return u}var K={},G=function(e){return K[e]},J=function(e,u){K[e]=u},Y=function(){function e(u){Object(o.a)(this,e),this.name="polkadot",this.namespace=u.namespace,this.events=G("events"),this.client=G("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}return Object(c.a)(e,[{key:"updateNamespace",value:function(u){this.namespace=Object.assign(this.namespace,u)}},{key:"requestAccounts",value:function(){return this.getAccounts()}},{key:"getDefaultChain",value:function(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;var u=this.namespace.chains[0];if(!u)throw new Error("ChainId not found");return u.split(":")[1]}},{key:"request",value:function(u){return this.namespace.methods.includes(u.request.method)?this.client.request(u):this.getHttpProvider().request(u.request)}},{key:"setDefaultChain",value:function(u,i){if(this.chainId=u,!this.httpProviders[u]){var p=i||H("".concat(this.name,":").concat(u),this.namespace);if(!p)throw new Error("No RPC url provided for chainId: ".concat(u));this.setHttpProvider(u,p)}this.events.emit(R,"".concat(this.name,":").concat(this.chainId))}},{key:"getAccounts",value:function(){var e=this,u=this.namespace.accounts;return u&&u.filter((function(i){return i.split(":")[1]===e.chainId.toString()})).map((function(i){return i.split(":")[2]}))||[]}},{key:"createHttpProviders",value:function(){var e=this,u={};return this.namespace.chains.forEach((function(i){var p;u[i]=e.createHttpProvider(i,null==(p=e.namespace.rpcMap)?void 0:p[i])})),u}},{key:"getHttpProvider",value:function(){var u="".concat(this.name,":").concat(this.chainId),i=this.httpProviders[u];if(Object(d.a)(i)>"u")throw new Error("JSON-RPC provider for ".concat(u," not found"));return i}},{key:"setHttpProvider",value:function(u,i){var p=this.createHttpProvider(u,i);p&&(this.httpProviders[u]=p)}},{key:"createHttpProvider",value:function(u,i){var p=i||H(u,this.namespace);return Object(d.a)(p)>"u"?void 0:new _.a(new y.b(p,G("disableProviderPing")))}}]),e}(),X=function(){function e(u){Object(o.a)(this,e),this.name="eip155",this.namespace=u.namespace,this.events=G("events"),this.client=G("client"),this.httpProviders=this.createHttpProviders(),this.chainId=parseInt(this.getDefaultChain())}var t,n;return Object(c.a)(e,[{key:"request",value:(n=Object(r.a)(regeneratorRuntime.mark((function e(u){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=u.request.method,e.next="eth_requestAccounts"===e.t0?3:"eth_accounts"===e.t0?4:"wallet_switchEthereumChain"===e.t0?5:"eth_chainId"===e.t0?8:9;break;case 3:case 4:return e.abrupt("return",this.getAccounts());case 5:return e.next=7,this.handleSwitchChain(u);case 7:return e.abrupt("return",e.sent);case 8:return e.abrupt("return",parseInt(this.getDefaultChain()));case 9:if(!this.namespace.methods.includes(u.request.method)){e.next=15;break}return e.next=12,this.client.request(u);case 12:e.t1=e.sent,e.next=16;break;case 15:e.t1=this.getHttpProvider().request(u.request);case 16:return e.abrupt("return",e.t1);case 17:case"end":return e.stop()}}),e,this)}))),function(e){return n.apply(this,arguments)})},{key:"updateNamespace",value:function(u){this.namespace=Object.assign(this.namespace,u)}},{key:"setDefaultChain",value:function(u,i){var p=B(u);if(!this.httpProviders[p]){var e=i||H("".concat(this.name,":").concat(p),this.namespace,this.client.core.projectId);if(!e)throw new Error("No RPC url provided for chainId: ".concat(p));this.setHttpProvider(p,e)}this.chainId=p,this.events.emit(R,"".concat(this.name,":").concat(p))}},{key:"requestAccounts",value:function(){return this.getAccounts()}},{key:"getDefaultChain",value:function(){if(this.chainId)return this.chainId.toString();if(this.namespace.defaultChain)return this.namespace.defaultChain;var u=this.namespace.chains[0];if(!u)throw new Error("ChainId not found");return u.split(":")[1]}},{key:"createHttpProvider",value:function(u,i){var p=i||H("".concat(this.name,":").concat(u),this.namespace,this.client.core.projectId);return Object(d.a)(p)>"u"?void 0:new _.a(new y.a(p,G("disableProviderPing")))}},{key:"setHttpProvider",value:function(u,i){var p=this.createHttpProvider(u,i);p&&(this.httpProviders[u]=p)}},{key:"createHttpProviders",value:function(){var e=this,u={};return this.namespace.chains.forEach((function(i){var p,t=B(i);u[t]=e.createHttpProvider(t,null==(p=e.namespace.rpcMap)?void 0:p[i])})),u}},{key:"getAccounts",value:function(){var e=this,u=this.namespace.accounts;return u?Object(f.a)(new Set(u.filter((function(i){return i.split(":")[1]===e.chainId.toString()})).map((function(i){return i.split(":")[2]})))):[]}},{key:"getHttpProvider",value:function(){var u=this.chainId,i=this.httpProviders[u];if(Object(d.a)(i)>"u")throw new Error("JSON-RPC provider for ".concat(u," not found"));return i}},{key:"handleSwitchChain",value:(t=Object(r.a)(regeneratorRuntime.mark((function e(u){var i,p,t,n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=(t=u.request.params?null==(i=u.request.params[0])?void 0:i.chainId:"0x0").startsWith("0x")?t:"0x".concat(t),n=parseInt(t,16),!this.isChainApproved(n)){e.next=7;break}this.setDefaultChain("".concat(n)),e.next=14;break;case 7:if(!this.namespace.methods.includes("wallet_switchEthereumChain")){e.next=13;break}return e.next=10,this.client.request({topic:u.topic,request:{method:u.request.method,params:[{chainId:t}]},chainId:null==(p=this.namespace.chains)?void 0:p[0]});case 10:this.setDefaultChain("".concat(n)),e.next=14;break;case 13:throw new Error("Failed to switch to chain 'eip155:".concat(n,"'. The chain is not approved or the wallet does not support 'wallet_switchEthereumChain' method."));case 14:return e.abrupt("return",null);case 15:case"end":return e.stop()}}),e,this)}))),function(e){return t.apply(this,arguments)})},{key:"isChainApproved",value:function(u){return this.namespace.chains.includes("".concat(this.name,":").concat(u))}}]),e}(),Q=function(){function e(u){Object(o.a)(this,e),this.name="solana",this.namespace=u.namespace,this.events=G("events"),this.client=G("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}return Object(c.a)(e,[{key:"updateNamespace",value:function(u){this.namespace=Object.assign(this.namespace,u)}},{key:"requestAccounts",value:function(){return this.getAccounts()}},{key:"request",value:function(u){return this.namespace.methods.includes(u.request.method)?this.client.request(u):this.getHttpProvider().request(u.request)}},{key:"setDefaultChain",value:function(u,i){if(!this.httpProviders[u]){var p=i||H("".concat(this.name,":").concat(u),this.namespace,this.client.core.projectId);if(!p)throw new Error("No RPC url provided for chainId: ".concat(u));this.setHttpProvider(u,p)}this.chainId=u,this.events.emit(R,"".concat(this.name,":").concat(this.chainId))}},{key:"getDefaultChain",value:function(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;var u=this.namespace.chains[0];if(!u)throw new Error("ChainId not found");return u.split(":")[1]}},{key:"getAccounts",value:function(){var e=this,u=this.namespace.accounts;return u?Object(f.a)(new Set(u.filter((function(i){return i.split(":")[1]===e.chainId.toString()})).map((function(i){return i.split(":")[2]})))):[]}},{key:"createHttpProviders",value:function(){var e=this,u={};return this.namespace.chains.forEach((function(i){var p;u[i]=e.createHttpProvider(i,null==(p=e.namespace.rpcMap)?void 0:p[i])})),u}},{key:"getHttpProvider",value:function(){var u="".concat(this.name,":").concat(this.chainId),i=this.httpProviders[u];if(Object(d.a)(i)>"u")throw new Error("JSON-RPC provider for ".concat(u," not found"));return i}},{key:"setHttpProvider",value:function(u,i){var p=this.createHttpProvider(u,i);p&&(this.httpProviders[u]=p)}},{key:"createHttpProvider",value:function(u,i){var p=i||H(u,this.namespace,this.client.core.projectId);return Object(d.a)(p)>"u"?void 0:new _.a(new y.b(p,G("disableProviderPing")))}}]),e}(),Z=function(){function e(u){Object(o.a)(this,e),this.name="cosmos",this.namespace=u.namespace,this.events=G("events"),this.client=G("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}return Object(c.a)(e,[{key:"updateNamespace",value:function(u){this.namespace=Object.assign(this.namespace,u)}},{key:"requestAccounts",value:function(){return this.getAccounts()}},{key:"getDefaultChain",value:function(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;var u=this.namespace.chains[0];if(!u)throw new Error("ChainId not found");return u.split(":")[1]}},{key:"request",value:function(u){return this.namespace.methods.includes(u.request.method)?this.client.request(u):this.getHttpProvider().request(u.request)}},{key:"setDefaultChain",value:function(u,i){if(this.chainId=u,!this.httpProviders[u]){var p=i||H("".concat(this.name,":").concat(u),this.namespace,this.client.core.projectId);if(!p)throw new Error("No RPC url provided for chainId: ".concat(u));this.setHttpProvider(u,p)}this.events.emit(R,"".concat(this.name,":").concat(this.chainId))}},{key:"getAccounts",value:function(){var e=this,u=this.namespace.accounts;return u?Object(f.a)(new Set(u.filter((function(i){return i.split(":")[1]===e.chainId.toString()})).map((function(i){return i.split(":")[2]})))):[]}},{key:"createHttpProviders",value:function(){var e=this,u={};return this.namespace.chains.forEach((function(i){var p;u[i]=e.createHttpProvider(i,null==(p=e.namespace.rpcMap)?void 0:p[i])})),u}},{key:"getHttpProvider",value:function(){var u="".concat(this.name,":").concat(this.chainId),i=this.httpProviders[u];if(Object(d.a)(i)>"u")throw new Error("JSON-RPC provider for ".concat(u," not found"));return i}},{key:"setHttpProvider",value:function(u,i){var p=this.createHttpProvider(u,i);p&&(this.httpProviders[u]=p)}},{key:"createHttpProvider",value:function(u,i){var p=i||H(u,this.namespace,this.client.core.projectId);return Object(d.a)(p)>"u"?void 0:new _.a(new y.b(p,G("disableProviderPing")))}}]),e}(),ee=function(){function e(u){Object(o.a)(this,e),this.name="cip34",this.namespace=u.namespace,this.events=G("events"),this.client=G("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}return Object(c.a)(e,[{key:"updateNamespace",value:function(u){this.namespace=Object.assign(this.namespace,u)}},{key:"requestAccounts",value:function(){return this.getAccounts()}},{key:"getDefaultChain",value:function(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;var u=this.namespace.chains[0];if(!u)throw new Error("ChainId not found");return u.split(":")[1]}},{key:"request",value:function(u){return this.namespace.methods.includes(u.request.method)?this.client.request(u):this.getHttpProvider().request(u.request)}},{key:"setDefaultChain",value:function(u,i){if(this.chainId=u,!this.httpProviders[u]){var p=i||this.getCardanoRPCUrl(u);if(!p)throw new Error("No RPC url provided for chainId: ".concat(u));this.setHttpProvider(u,p)}this.events.emit(R,"".concat(this.name,":").concat(this.chainId))}},{key:"getAccounts",value:function(){var e=this,u=this.namespace.accounts;return u?Object(f.a)(new Set(u.filter((function(i){return i.split(":")[1]===e.chainId.toString()})).map((function(i){return i.split(":")[2]})))):[]}},{key:"createHttpProviders",value:function(){var e=this,u={};return this.namespace.chains.forEach((function(i){var p=e.getCardanoRPCUrl(i);u[i]=e.createHttpProvider(i,p)})),u}},{key:"getHttpProvider",value:function(){var u="".concat(this.name,":").concat(this.chainId),i=this.httpProviders[u];if(Object(d.a)(i)>"u")throw new Error("JSON-RPC provider for ".concat(u," not found"));return i}},{key:"getCardanoRPCUrl",value:function(u){var i=this.namespace.rpcMap;if(i)return i[u]}},{key:"setHttpProvider",value:function(u,i){var p=this.createHttpProvider(u,i);p&&(this.httpProviders[u]=p)}},{key:"createHttpProvider",value:function(u,i){var p=i||this.getCardanoRPCUrl(u);return Object(d.a)(p)>"u"?void 0:new _.a(new y.b(p,G("disableProviderPing")))}}]),e}(),te=function(){function e(u){Object(o.a)(this,e),this.name="elrond",this.namespace=u.namespace,this.events=G("events"),this.client=G("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}return Object(c.a)(e,[{key:"updateNamespace",value:function(u){this.namespace=Object.assign(this.namespace,u)}},{key:"requestAccounts",value:function(){return this.getAccounts()}},{key:"request",value:function(u){return this.namespace.methods.includes(u.request.method)?this.client.request(u):this.getHttpProvider().request(u.request)}},{key:"setDefaultChain",value:function(u,i){if(!this.httpProviders[u]){var p=i||H("".concat(this.name,":").concat(u),this.namespace,this.client.core.projectId);if(!p)throw new Error("No RPC url provided for chainId: ".concat(u));this.setHttpProvider(u,p)}this.chainId=u,this.events.emit(R,"".concat(this.name,":").concat(this.chainId))}},{key:"getDefaultChain",value:function(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;var u=this.namespace.chains[0];if(!u)throw new Error("ChainId not found");return u.split(":")[1]}},{key:"getAccounts",value:function(){var e=this,u=this.namespace.accounts;return u?Object(f.a)(new Set(u.filter((function(i){return i.split(":")[1]===e.chainId.toString()})).map((function(i){return i.split(":")[2]})))):[]}},{key:"createHttpProviders",value:function(){var e=this,u={};return this.namespace.chains.forEach((function(i){var p;u[i]=e.createHttpProvider(i,null==(p=e.namespace.rpcMap)?void 0:p[i])})),u}},{key:"getHttpProvider",value:function(){var u="".concat(this.name,":").concat(this.chainId),i=this.httpProviders[u];if(Object(d.a)(i)>"u")throw new Error("JSON-RPC provider for ".concat(u," not found"));return i}},{key:"setHttpProvider",value:function(u,i){var p=this.createHttpProvider(u,i);p&&(this.httpProviders[u]=p)}},{key:"createHttpProvider",value:function(u,i){var p=i||H(u,this.namespace,this.client.core.projectId);return Object(d.a)(p)>"u"?void 0:new _.a(new y.b(p,G("disableProviderPing")))}}]),e}(),ne=function(){function e(u){Object(o.a)(this,e),this.name="multiversx",this.namespace=u.namespace,this.events=G("events"),this.client=G("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}return Object(c.a)(e,[{key:"updateNamespace",value:function(u){this.namespace=Object.assign(this.namespace,u)}},{key:"requestAccounts",value:function(){return this.getAccounts()}},{key:"request",value:function(u){return this.namespace.methods.includes(u.request.method)?this.client.request(u):this.getHttpProvider().request(u.request)}},{key:"setDefaultChain",value:function(u,i){if(!this.httpProviders[u]){var p=i||H("".concat(this.name,":").concat(u),this.namespace,this.client.core.projectId);if(!p)throw new Error("No RPC url provided for chainId: ".concat(u));this.setHttpProvider(u,p)}this.chainId=u,this.events.emit(R,"".concat(this.name,":").concat(this.chainId))}},{key:"getDefaultChain",value:function(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;var u=this.namespace.chains[0];if(!u)throw new Error("ChainId not found");return u.split(":")[1]}},{key:"getAccounts",value:function(){var e=this,u=this.namespace.accounts;return u?Object(f.a)(new Set(u.filter((function(i){return i.split(":")[1]===e.chainId.toString()})).map((function(i){return i.split(":")[2]})))):[]}},{key:"createHttpProviders",value:function(){var e=this,u={};return this.namespace.chains.forEach((function(i){var p;u[i]=e.createHttpProvider(i,null==(p=e.namespace.rpcMap)?void 0:p[i])})),u}},{key:"getHttpProvider",value:function(){var u="".concat(this.name,":").concat(this.chainId),i=this.httpProviders[u];if(Object(d.a)(i)>"u")throw new Error("JSON-RPC provider for ".concat(u," not found"));return i}},{key:"setHttpProvider",value:function(u,i){var p=this.createHttpProvider(u,i);p&&(this.httpProviders[u]=p)}},{key:"createHttpProvider",value:function(u,i){var p=i||H(u,this.namespace,this.client.core.projectId);return Object(d.a)(p)>"u"?void 0:new _.a(new y.b(p,G("disableProviderPing")))}}]),e}(),re=Object.defineProperty,ie=Object.defineProperties,oe=Object.getOwnPropertyDescriptors,ae=Object.getOwnPropertySymbols,se=Object.prototype.hasOwnProperty,ce=Object.prototype.propertyIsEnumerable,ue=function(e,u,i){return u in e?re(e,u,{enumerable:!0,configurable:!0,writable:!0,value:i}):e[u]=i},le=function(e,u){for(var i in u||(u={}))se.call(u,i)&&ue(e,i,u[i]);if(ae){var t,n=x(ae(u));try{for(n.s();!(t=n.n()).done;){i=t.value;ce.call(u,i)&&ue(e,i,u[i])}}catch(e){n.e(e)}finally{n.f()}}return e},fe=function(e,u){return ie(e,oe(u))},hr=function(){function hr(u){Object(o.a)(this,hr),this.events=new O.a,this.rpcProviders={},this.shouldAbortPairingAttempt=!1,this.maxPairingAttempts=10,this.disableProviderPing=!1,this.providerOpts=u,this.logger=Object(d.a)(null==u?void 0:u.logger)<"u"&&"string"!=typeof(null==u?void 0:u.logger)?u.logger:Object(m.pino)(Object(m.getDefaultLoggerOptions)({level:(null==u?void 0:u.logger)||k})),this.disableProviderPing=(null==u?void 0:u.disableProviderPing)||!1}var e,t,n,y,_,w,E,j,C,P,A,T,N;return Object(c.a)(hr,[{key:"request",value:(N=Object(r.a)(regeneratorRuntime.mark((function e(u,i){var t,n,p,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.validateChain(i),n=Object(l.a)(t,2),p=n[0],r=n[1],this.session){e.next=3;break}throw new Error("Please call connect() before request()");case 3:return e.next=5,this.getProvider(p).request({request:le({},u),chainId:"".concat(p,":").concat(r),topic:this.session.topic});case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e,this)}))),function(e,t){return N.apply(this,arguments)})},{key:"sendAsync",value:function(u,i,p){this.request(u,p).then((function(e){return i(null,e)})).catch((function(e){return i(e,void 0)}))}},{key:"enable",value:(T=Object(r.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.client){e.next=2;break}throw new Error("Sign Client not initialized");case 2:if(e.t0=this.session,e.t0){e.next=6;break}return e.next=6,this.connect({namespaces:this.namespaces,optionalNamespaces:this.optionalNamespaces,sessionProperties:this.sessionProperties});case 6:return e.next=8,this.requestAccounts();case 8:return e.abrupt("return",e.sent);case 9:case"end":return e.stop()}}),e,this)}))),function(){return T.apply(this,arguments)})},{key:"disconnect",value:(A=Object(r.a)(regeneratorRuntime.mark((function e(){var u;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.session){e.next=2;break}throw new Error("Please call connect() before enable()");case 2:return e.next=4,this.client.disconnect({topic:null==(u=this.session)?void 0:u.topic,reason:Object(v.a)("USER_DISCONNECTED")});case 4:return e.next=6,this.cleanup();case 6:case"end":return e.stop()}}),e,this)}))),function(){return A.apply(this,arguments)})},{key:"connect",value:(P=Object(r.a)(regeneratorRuntime.mark((function e(u){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.client){e.next=2;break}throw new Error("Sign Client not initialized");case 2:return this.setNamespaces(u),e.next=5,this.cleanupPendingPairings();case 5:if(u.skipPairing){e.next=9;break}return e.next=8,this.pair(u.pairingTopic);case 8:return e.abrupt("return",e.sent);case 9:case"end":return e.stop()}}),e,this)}))),function(e){return P.apply(this,arguments)})},{key:"on",value:function(u,i){this.events.on(u,i)}},{key:"once",value:function(u,i){this.events.once(u,i)}},{key:"removeListener",value:function(u,i){this.events.removeListener(u,i)}},{key:"off",value:function(u,i){this.events.off(u,i)}},{key:"isWalletConnect",get:function(){return!0}},{key:"pair",value:(C=Object(r.a)(regeneratorRuntime.mark((function e(u){var i,t,p,n,r=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.shouldAbortPairingAttempt=!1,i=0;case 2:if(!this.shouldAbortPairingAttempt){e.next=4;break}throw new Error("Pairing aborted");case 4:if(!(i>=this.maxPairingAttempts)){e.next=6;break}throw new Error("Max auto pairing attempts reached");case 6:return e.next=8,this.client.connect({pairingTopic:u,requiredNamespaces:this.namespaces,optionalNamespaces:this.optionalNamespaces,sessionProperties:this.sessionProperties});case 8:return t=e.sent,p=t.uri,n=t.approval,p&&(this.uri=p,this.events.emit("display_uri",p)),e.next=14,n().then((function(e){r.session=e,r.namespaces||(r.namespaces=z(e.namespaces),r.persist("namespaces",r.namespaces))})).catch((function(e){if(e.message!==h.a)throw e;i++}));case 14:if(!this.session){e.next=2;break}case 15:return e.abrupt("return",(this.onConnect(),this.session));case 16:case"end":return e.stop()}}),e,this)}))),function(e){return C.apply(this,arguments)})},{key:"setDefaultChain",value:function(u,i){try{if(!this.session)return;var e=this.validateChain(u),t=Object(l.a)(e,2),p=t[0],n=t[1];this.getProvider(p).setDefaultChain(n,i)}catch(p){if(!/Please call connect/.test(p.message))throw p}}},{key:"cleanupPendingPairings",value:(j=Object(r.a)(regeneratorRuntime.mark((function e(){var u,i,t,n,p,r=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(u=r.length>0&&void 0!==r[0]?r[0]:{},this.logger.info("Cleaning up inactive pairings..."),i=this.client.pairing.getAll(),!Object(v.c)(i)){e.next=26;break}t=x(i),e.prev=5,t.s();case 7:if((n=t.n()).done){e.next=17;break}if(p=n.value,!u.deletePairings){e.next=13;break}this.client.core.expirer.set(p.topic,0),e.next=15;break;case 13:return e.next=15,this.client.core.relayer.subscriber.unsubscribe(p.topic);case 15:e.next=7;break;case 17:e.next=22;break;case 19:e.prev=19,e.t0=e.catch(5),t.e(e.t0);case 22:return e.prev=22,t.f(),e.finish(22);case 25:this.logger.info("Inactive pairings cleared: ".concat(i.length));case 26:case"end":return e.stop()}}),e,this,[[5,19,22,25]])}))),function(){return j.apply(this,arguments)})},{key:"abortPairingAttempt",value:function(){this.shouldAbortPairingAttempt=!0}},{key:"checkStorage",value:(E=Object(r.a)(regeneratorRuntime.mark((function e(){var u;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getFromStore("namespaces");case 2:return this.namespaces=e.sent,e.next=5,this.getFromStore("optionalNamespaces");case 5:if(e.t0=e.sent,e.t0){e.next=8;break}e.t0={};case 8:if(this.optionalNamespaces=e.t0,!this.client.session.length){e.next=12;break}u=this.client.session.keys.length-1,this.session=this.client.session.get(this.client.session.keys[u]),this.createProviders();case 12:case"end":return e.stop()}}),e,this)}))),function(){return E.apply(this,arguments)})},{key:"initialize",value:(w=Object(r.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.logger.trace("Initialized"),e.next=3,this.createClient();case 3:return e.next=5,this.checkStorage();case 5:this.registerEventListeners();case 6:case"end":return e.stop()}}),e,this)}))),function(){return w.apply(this,arguments)})},{key:"createClient",value:(_=Object(r.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.providerOpts.client,e.t0){e.next=5;break}return e.next=4,h.b.init({logger:this.providerOpts.logger||k,relayUrl:this.providerOpts.relayUrl||"wss://relay.walletconnect.com",projectId:this.providerOpts.projectId,metadata:this.providerOpts.metadata,storageOptions:this.providerOpts.storageOptions,storage:this.providerOpts.storage,name:this.providerOpts.name});case 4:e.t0=e.sent;case 5:this.client=e.t0,this.logger.trace("SignClient Initialized");case 7:case"end":return e.stop()}}),e,this)}))),function(){return _.apply(this,arguments)})},{key:"createProviders",value:function(){var e=this;if(!this.client)throw new Error("Sign Client not initialized");if(!this.session)throw new Error("Session not initialized. Please call connect() before enable()");var u=Object(f.a)(new Set(Object.keys(this.session.namespaces).map((function(i){return Object(v.f)(i)}))));J("client",this.client),J("events",this.events),J("disableProviderPing",this.disableProviderPing),u.forEach((function(i){if(e.session){var p=function(e,u){var i=Object.keys(u.namespaces).filter((function(t){return t.includes(e)}));if(!i.length)return[];var p=[];return i.forEach((function(e){var t=u.namespaces[e].accounts;p.push.apply(p,Object(f.a)(t))})),p}(i,e.session),t=F(p),n=function(){var u=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=V(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}),p=V(u);return I.exports.merge(i,p)}(e.namespaces,e.optionalNamespaces),r=fe(le({},n[i]),{accounts:p,chains:t});switch(i){case"eip155":e.rpcProviders[i]=new X({namespace:r});break;case"solana":e.rpcProviders[i]=new Q({namespace:r});break;case"cosmos":e.rpcProviders[i]=new Z({namespace:r});break;case"polkadot":e.rpcProviders[i]=new Y({namespace:r});break;case"cip34":e.rpcProviders[i]=new ee({namespace:r});break;case"elrond":e.rpcProviders[i]=new te({namespace:r});break;case"multiversx":e.rpcProviders[i]=new ne({namespace:r})}}}))}},{key:"registerEventListeners",value:function(){var e=this;if(Object(d.a)(this.client)>"u")throw new Error("Sign Client is not initialized");this.client.on("session_ping",(function(u){e.events.emit("session_ping",u)})),this.client.on("session_event",(function(u){var i=u.params,p=i.event;if("accountsChanged"===p.name){var t=p.data;t&&Object(v.c)(t)&&e.events.emit("accountsChanged",t.map(W))}else"chainChanged"===p.name?e.onChainChanged(i.chainId):e.events.emit(p.name,p.data);e.events.emit("session_event",u)})),this.client.on("session_update",(function(t){var p,u=t.topic,i=t.params,n=i.namespaces,r=null==(p=e.client)?void 0:p.session.get(u);e.session=fe(le({},r),{namespaces:n}),e.onSessionUpdate(),e.events.emit("session_update",{topic:u,params:i})})),this.client.on("session_delete",function(){var t=Object(r.a)(regeneratorRuntime.mark((function t(u){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.cleanup();case 2:e.events.emit("session_delete",u),e.events.emit("disconnect",fe(le({},Object(v.a)("USER_DISCONNECTED")),{data:u.topic}));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),this.on(R,(function(u){e.onChainChanged(u,!0)}))}},{key:"getProvider",value:function(u){if(!this.rpcProviders[u])throw new Error("Provider not found: ".concat(u));return this.rpcProviders[u]}},{key:"onSessionUpdate",value:function(){var e=this;Object.keys(this.rpcProviders).forEach((function(u){var i;e.getProvider(u).updateNamespace(null==(i=e.session)?void 0:i.namespaces[u])}))}},{key:"setNamespaces",value:function(u){var i=u.namespaces,p=u.optionalNamespaces,e=u.sessionProperties;i&&Object.keys(i).length&&(this.namespaces=i),p&&Object.keys(p).length&&(this.optionalNamespaces=p),this.sessionProperties=e,this.persist("namespaces",i),this.persist("optionalNamespaces",p)}},{key:"validateChain",value:function(u){var e=(null==u?void 0:u.split(":"))||["",""],t=Object(l.a)(e,2),i=t[0],p=t[1];if(!this.namespaces||!Object.keys(this.namespaces).length)return[i,p];if(i&&!Object.keys(this.namespaces||{}).map((function(e){return Object(v.f)(e)})).includes(i))throw new Error("Namespace '".concat(i,"' is not configured. Please call connect() first with namespace config."));if(i&&p)return[i,p];var n=Object(v.f)(Object.keys(this.namespaces)[0]);return[n,this.rpcProviders[n].getDefaultChain()]}},{key:"requestAccounts",value:(y=Object(r.a)(regeneratorRuntime.mark((function e(){var t,n,u;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.validateChain(),n=Object(l.a)(t,1),u=n[0],e.next=3,this.getProvider(u).requestAccounts();case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e,this)}))),function(){return y.apply(this,arguments)})},{key:"onChainChanged",value:function(u){var p,i=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(this.namespaces){var e=this.validateChain(u),t=Object(l.a)(e,2),n=t[0],r=t[1];i||this.getProvider(n).setDefaultChain(r),(null!=(p=this.namespaces[n])?p:this.namespaces["".concat(n,":").concat(r)]).defaultChain=r,this.persist("namespaces",this.namespaces),this.events.emit("chainChanged",r)}}},{key:"onConnect",value:function(){this.createProviders(),this.events.emit("connect",{session:this.session})}},{key:"cleanup",value:(n=Object(r.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.session=void 0,this.namespaces=void 0,this.optionalNamespaces=void 0,this.sessionProperties=void 0,this.persist("namespaces",void 0),this.persist("optionalNamespaces",void 0),this.persist("sessionProperties",void 0),e.next=9,this.cleanupPendingPairings({deletePairings:!0});case 9:case"end":return e.stop()}}),e,this)}))),function(){return n.apply(this,arguments)})},{key:"persist",value:function(u,i){this.client.core.storage.setItem("".concat(S,"/").concat(u),i)}},{key:"getFromStore",value:(t=Object(r.a)(regeneratorRuntime.mark((function e(u){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.client.core.storage.getItem("".concat(S,"/").concat(u));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)}))),function(e){return t.apply(this,arguments)})}],[{key:"init",value:(e=Object(r.a)(regeneratorRuntime.mark((function e(u){var i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=new hr(u),e.next=3,i.initialize();case 3:return e.abrupt("return",i);case 4:case"end":return e.stop()}}),e)}))),function(t){return e.apply(this,arguments)})}]),hr}(),pe=hr}).call(this,n(45))},1284:function(e,t,n){"use strict";var r=n(2),o=n(413).charAt,c=n(82),l=n(88),f=n(46);r({target:"String",proto:!0,forced:!0},{at:function(e){var t=f(c(this)),n=t.length,r=l(e),d=r>=0?r:n+r;return d<0||d>=n?void 0:o(t,d)}})},1285:function(e,t,n){"use strict";var r=n(2),o=n(983),c=n(64),l=n(58),f=n(59),d=n(345);r({target:"Array",proto:!0},{flatMap:function(e){var t,n=l(this),r=f(n);return c(e),(t=d(n,0)).length=o(t,n,n,r,0,1,e,arguments.length>1?arguments[1]:void 0),t}})},1286:function(e,t,n){"use strict";n(208)("flatMap")},1287:function(e,t,n){"use strict";var r=n(2),o=n(846).end;r({target:"String",proto:!0,forced:n(847)},{padEnd:function(e){return o(this,e,arguments.length>1?arguments[1]:void 0)}})},1288:function(e,t,n){"use strict";n(1289);var r=n(2),o=n(1045);r({target:"String",proto:!0,name:"trimEnd",forced:"".trimEnd!==o},{trimEnd:o})},1289:function(e,t,n){"use strict";var r=n(2),o=n(1045);r({target:"String",proto:!0,name:"trimEnd",forced:"".trimRight!==o},{trimRight:o})},1290:function(e,t,n){"use strict";n(1291);var r=n(2),o=n(1046);r({target:"String",proto:!0,name:"trimStart",forced:"".trimStart!==o},{trimStart:o})},1291:function(e,t,n){"use strict";var r=n(2),o=n(1046);r({target:"String",proto:!0,name:"trimStart",forced:"".trimLeft!==o},{trimLeft:o})},1292:function(e,t,n){"use strict";n.r(t),n.d(t,"__extends",(function(){return c})),n.d(t,"__assign",(function(){return l})),n.d(t,"__rest",(function(){return f})),n.d(t,"__decorate",(function(){return d})),n.d(t,"__param",(function(){return h})),n.d(t,"__metadata",(function(){return v})),n.d(t,"__awaiter",(function(){return m})),n.d(t,"__generator",(function(){return y})),n.d(t,"__createBinding",(function(){return _})),n.d(t,"__exportStar",(function(){return w})),n.d(t,"__values",(function(){return O})),n.d(t,"__read",(function(){return x})),n.d(t,"__spread",(function(){return E})),n.d(t,"__spreadArrays",(function(){return j})),n.d(t,"__await",(function(){return k})),n.d(t,"__asyncGenerator",(function(){return S})),n.d(t,"__asyncDelegator",(function(){return R})),n.d(t,"__asyncValues",(function(){return C})),n.d(t,"__makeTemplateObject",(function(){return I})),n.d(t,"__importStar",(function(){return P})),n.d(t,"__importDefault",(function(){return A})),n.d(t,"__classPrivateFieldGet",(function(){return T})),n.d(t,"__classPrivateFieldSet",(function(){return N}));var r=n(12),o=(n(873),n(32),n(48),n(1),n(874),n(61),n(69),n(42),n(41),n(21),n(875),function(e,b){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,b){e.__proto__=b}||function(e,b){for(var p in b)b.hasOwnProperty(p)&&(e[p]=b[p])},o(e,b)});function c(e,b){function t(){this.constructor=e}o(e,b),e.prototype=null===b?Object.create(b):(t.prototype=b.prototype,new t)}var l=function(){return l=Object.assign||function(e){for(var s,i=1,t=arguments.length;i<t;i++)for(var p in s=arguments[i])Object.prototype.hasOwnProperty.call(s,p)&&(e[p]=s[p]);return e},l.apply(this,arguments)};function f(s,e){var t={};for(var p in s)Object.prototype.hasOwnProperty.call(s,p)&&e.indexOf(p)<0&&(t[p]=s[p]);if(null!=s&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(p=Object.getOwnPropertySymbols(s);i<p.length;i++)e.indexOf(p[i])<0&&Object.prototype.propertyIsEnumerable.call(s,p[i])&&(t[p[i]]=s[p[i]])}return t}function d(e,t,n,desc){var o,c=arguments.length,l=c<3?t:null===desc?desc=Object.getOwnPropertyDescriptor(t,n):desc;if("object"===("undefined"==typeof Reflect?"undefined":Object(r.a)(Reflect))&&"function"==typeof Reflect.decorate)l=Reflect.decorate(e,t,n,desc);else for(var i=e.length-1;i>=0;i--)(o=e[i])&&(l=(c<3?o(l):c>3?o(t,n,l):o(t,n))||l);return c>3&&l&&Object.defineProperty(t,n,l),l}function h(e,t){return function(n,r){t(n,r,e)}}function v(e,t){if("object"===("undefined"==typeof Reflect?"undefined":Object(r.a)(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}function m(e,t,n,r){return new(n||(n=Promise))((function(o,c){function l(e){try{d(r.next(e))}catch(e){c(e)}}function f(e){try{d(r.throw(e))}catch(e){c(e)}}function d(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(l,f)}d((r=r.apply(e,t||[])).next())}))}function y(e,body){var t,n,r,g,o={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return g={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(g[Symbol.iterator]=function(){return this}),g;function c(c){return function(l){return function(c){if(t)throw new TypeError("Generator is already executing.");for(;o;)try{if(t=1,n&&(r=2&c[0]?n.return:c[0]?n.throw||((r=n.return)&&r.call(n),0):n.next)&&!(r=r.call(n,c[1])).done)return r;switch(n=0,r&&(c=[2&c[0],r.value]),c[0]){case 0:case 1:r=c;break;case 4:return o.label++,{value:c[1],done:!1};case 5:o.label++,n=c[1],c=[0];continue;case 7:c=o.ops.pop(),o.trys.pop();continue;default:if(!(r=o.trys,(r=r.length>0&&r[r.length-1])||6!==c[0]&&2!==c[0])){o=0;continue}if(3===c[0]&&(!r||c[1]>r[0]&&c[1]<r[3])){o.label=c[1];break}if(6===c[0]&&o.label<r[1]){o.label=r[1],r=c;break}if(r&&o.label<r[2]){o.label=r[2],o.ops.push(c);break}r[2]&&o.ops.pop(),o.trys.pop();continue}c=body.call(e,o)}catch(e){c=[6,e],n=0}finally{t=r=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,l])}}}function _(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}function w(e,t){for(var p in e)"default"===p||t.hasOwnProperty(p)||(t[p]=e[p])}function O(e){var s="function"==typeof Symbol&&Symbol.iterator,t=s&&e[s],i=0;if(t)return t.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&i>=e.length&&(e=void 0),{value:e&&e[i++],done:!e}}};throw new TypeError(s?"Object is not iterable.":"Symbol.iterator is not defined.")}function x(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),c=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)c.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return c}function E(){for(var e=[],i=0;i<arguments.length;i++)e=e.concat(x(arguments[i]));return e}function j(){for(var s=0,i=0,e=arguments.length;i<e;i++)s+=arguments[i].length;var t=Array(s),n=0;for(i=0;i<e;i++)for(var a=arguments[i],r=0,o=a.length;r<o;r++,n++)t[n]=a[r];return t}function k(e){return this instanceof k?(this.v=e,this):new k(e)}function S(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,g=n.apply(e,t||[]),q=[];return i={},r("next"),r("throw"),r("return"),i[Symbol.asyncIterator]=function(){return this},i;function r(e){g[e]&&(i[e]=function(t){return new Promise((function(a,b){q.push([e,t,a,b])>1||o(e,t)}))})}function o(e,t){try{(n=g[e](t)).value instanceof k?Promise.resolve(n.value.v).then(c,l):f(q[0][2],n)}catch(e){f(q[0][3],e)}var n}function c(e){o("next",e)}function l(e){o("throw",e)}function f(e,t){e(t),q.shift(),q.length&&o(q[0][0],q[0][1])}}function R(e){var i,p;return i={},t("next"),t("throw",(function(e){throw e})),t("return"),i[Symbol.iterator]=function(){return this},i;function t(t,n){i[t]=e[t]?function(r){return(p=!p)?{value:k(e[t](r)),done:"return"===t}:n?n(r):r}:n}}function C(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,t=e[Symbol.asyncIterator];return t?t.call(e):(e=O(e),i={},n("next"),n("throw"),n("return"),i[Symbol.asyncIterator]=function(){return this},i);function n(t){i[t]=e[t]&&function(n){return new Promise((function(r,o){(function(e,t,n,r){Promise.resolve(r).then((function(t){e({value:t,done:n})}),t)})(r,o,(n=e[t](n)).done,n.value)}))}}}function I(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}function P(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function A(e){return e&&e.__esModule?e:{default:e}}function T(e,t){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)}function N(e,t,n){if(!t.has(e))throw new TypeError("attempted to set private field on non-instance");return t.set(e,n),n}},1293:function(e,t,n){"use strict";n(192),n(539);var r=n(83),o=n(10),c=n(209),l=r("Map"),f=r("WeakMap"),d=o([].push),h=c("metadata"),v=h.store||(h.store=new f),m=function(e,t,n){var r=v.get(e);if(!r){if(!n)return;v.set(e,r=new l)}var o=r.get(t);if(!o){if(!n)return;r.set(t,o=new l)}return o};e.exports={store:v,getMap:m,has:function(e,t,n){var r=m(t,n,!1);return void 0!==r&&r.has(e)},get:function(e,t,n){var r=m(t,n,!1);return void 0===r?void 0:r.get(e)},set:function(e,t,n,r){m(n,r,!0).set(e,t)},keys:function(e,t){var n=m(e,t,!1),r=[];return n&&n.forEach((function(e,t){d(r,t)})),r},toKey:function(e){return void 0===e||"symbol"==typeof e?e:String(e)}}},1294:function(e,t,n){"use strict";const r=n(1295);e.exports=l;const o=function(){function e(e){return void 0!==e&&e}try{return"undefined"!=typeof globalThis||Object.defineProperty(Object.prototype,"globalThis",{get:function(){return delete Object.prototype.globalThis,this.globalThis=this},configurable:!0}),globalThis}catch(t){return e(self)||e(window)||e(this)||{}}}().console||{},c={mapHttpRequest:y,mapHttpResponse:y,wrapRequestSerializer:_,wrapResponseSerializer:_,wrapErrorSerializer:_,req:y,res:y,err:function(e){const t={type:e.constructor.name,msg:e.message,stack:e.stack};for(const n in e)void 0===t[n]&&(t[n]=e[n]);return t}};function l(e){(e=e||{}).browser=e.browser||{};const t=e.browser.transmit;if(t&&"function"!=typeof t.send)throw Error("pino: transmit option must have a send function");const n=e.browser.write||o;e.browser.write&&(e.browser.asObject=!0);const r=e.serializers||{},c=function(e,t){if(Array.isArray(e))return e.filter((function(e){return"!stdSerializers.err"!==e}));return!0===e&&Object.keys(t)}(e.browser.serialize,r);let y=e.browser.serialize;Array.isArray(e.browser.serialize)&&e.browser.serialize.indexOf("!stdSerializers.err")>-1&&(y=!1);"function"==typeof n&&(n.error=n.fatal=n.warn=n.info=n.debug=n.trace=n),!1===e.enabled&&(e.level="silent");const _=e.level||"info",O=Object.create(n);O.log||(O.log=w),Object.defineProperty(O,"levelVal",{get:function(){return"silent"===this.level?1/0:this.levels.values[this.level]}}),Object.defineProperty(O,"level",{get:function(){return this._level},set:function(e){if("silent"!==e&&!this.levels.values[e])throw Error("unknown level "+e);this._level=e,f(x,O,"error","log"),f(x,O,"fatal","error"),f(x,O,"warn","error"),f(x,O,"info","log"),f(x,O,"debug","log"),f(x,O,"trace","log")}});const x={transmit:t,serialize:c,asObject:e.browser.asObject,levels:["error","fatal","warn","info","debug","trace"],timestamp:m(e)};return O.levels=l.levels,O.level=_,O.setMaxListeners=O.getMaxListeners=O.emit=O.addListener=O.on=O.prependListener=O.once=O.prependOnceListener=O.removeListener=O.removeAllListeners=O.listeners=O.listenerCount=O.eventNames=O.write=O.flush=w,O.serializers=r,O._serialize=c,O._stdErrSerialize=y,O.child=function(n,o){if(!n)throw new Error("missing bindings for child Pino");o=o||{},c&&n.serializers&&(o.serializers=n.serializers);const l=o.serializers;if(c&&l){var f=Object.assign({},r,l),m=!0===e.browser.serialize?Object.keys(f):c;delete n.serializers,d([n],m,f,this._stdErrSerialize)}function y(e){this._childLevel=1+(0|e._childLevel),this.error=h(e,n,"error"),this.fatal=h(e,n,"fatal"),this.warn=h(e,n,"warn"),this.info=h(e,n,"info"),this.debug=h(e,n,"debug"),this.trace=h(e,n,"trace"),f&&(this.serializers=f,this._serialize=m),t&&(this._logEvent=v([].concat(e._logEvent.bindings,n)))}return y.prototype=this,new y(this)},t&&(O._logEvent=v()),O}function f(e,t,n,c){const f=Object.getPrototypeOf(t);t[n]=t.levelVal>t.levels.values[n]?w:f[n]?f[n]:o[n]||o[c]||w,function(e,t,n){if(!e.transmit&&t[n]===w)return;t[n]=(c=t[n],function(){const f=e.timestamp(),h=new Array(arguments.length),m=Object.getPrototypeOf&&Object.getPrototypeOf(this)===o?o:this;for(var i=0;i<h.length;i++)h[i]=arguments[i];if(e.serialize&&!e.asObject&&d(h,this._serialize,this.serializers,this._stdErrSerialize),e.asObject?c.call(m,function(e,t,n,o){e._serialize&&d(n,e._serialize,e.serializers,e._stdErrSerialize);const c=n.slice();let f=c[0];const h={};o&&(h.time=o),h.level=l.levels.values[t];let v=1+(0|e._childLevel);if(v<1&&(v=1),null!==f&&"object"==typeof f){for(;v--&&"object"==typeof c[0];)Object.assign(h,c.shift());f=c.length?r(c.shift(),c):void 0}else"string"==typeof f&&(f=r(c.shift(),c));return void 0!==f&&(h.msg=f),h}(this,n,h,f)):c.apply(m,h),e.transmit){const r=e.transmit.level||t.level,o=l.levels.values[r],c=l.levels.values[n];if(c<o)return;!function(e,t,n){const r=t.send,o=t.ts,c=t.methodLevel,l=t.methodValue,f=t.val,h=e._logEvent.bindings;d(n,e._serialize||Object.keys(e.serializers),e.serializers,void 0===e._stdErrSerialize||e._stdErrSerialize),e._logEvent.ts=o,e._logEvent.messages=n.filter((function(e){return-1===h.indexOf(e)})),e._logEvent.level.label=c,e._logEvent.level.value=l,r(c,e._logEvent,f),e._logEvent=v(h)}(this,{ts:f,methodLevel:n,methodValue:c,transmitLevel:r,transmitValue:l.levels.values[e.transmit.level||t.level],send:e.transmit.send,val:t.levelVal},h)}});var c}(e,t,n)}function d(e,t,n,r){for(const i in e)if(r&&e[i]instanceof Error)e[i]=l.stdSerializers.err(e[i]);else if("object"==typeof e[i]&&!Array.isArray(e[i]))for(const r in e[i])t&&t.indexOf(r)>-1&&r in n&&(e[i][r]=n[r](e[i][r]))}function h(e,t,n){return function(){const r=new Array(1+arguments.length);r[0]=t;for(var i=1;i<r.length;i++)r[i]=arguments[i-1];return e[n].apply(this,r)}}function v(e){return{ts:0,messages:[],bindings:e||[],level:{label:"",value:0}}}function m(e){return"function"==typeof e.timestamp?e.timestamp:!1===e.timestamp?O:x}function y(){return{}}function _(a){return a}function w(){}function O(){return!1}function x(){return Date.now()}l.levels={values:{fatal:60,error:50,warn:40,info:30,debug:20,trace:10},labels:{10:"trace",20:"debug",30:"info",40:"warn",50:"error",60:"fatal"}},l.stdSerializers=c,l.stdTimeFunctions=Object.assign({},{nullTime:O,epochTime:x,unixTime:function(){return Math.round(Date.now()/1e3)},isoTime:function(){return new Date(Date.now()).toISOString()}})},1295:function(e,t,n){"use strict";function r(e){try{return JSON.stringify(e)}catch(e){return'"[Circular]"'}}e.exports=function(e,t,n){var o=n&&n.stringify||r;if("object"==typeof e&&null!==e){var c=t.length+1;if(1===c)return e;var l=new Array(c);l[0]=o(e);for(var f=1;f<c;f++)l[f]=o(t[f]);return l.join(" ")}if("string"!=typeof e)return e;var d=t.length;if(0===d)return e;for(var h="",a=0,v=-1,m=e&&e.length||0,i=0;i<m;){if(37===e.charCodeAt(i)&&i+1<m){switch(v=v>-1?v:0,e.charCodeAt(i+1)){case 100:case 102:if(a>=d)break;if(null==t[a])break;v<i&&(h+=e.slice(v,i)),h+=Number(t[a]),v=i+2,i++;break;case 105:if(a>=d)break;if(null==t[a])break;v<i&&(h+=e.slice(v,i)),h+=Math.floor(Number(t[a])),v=i+2,i++;break;case 79:case 111:case 106:if(a>=d)break;if(void 0===t[a])break;v<i&&(h+=e.slice(v,i));var y=typeof t[a];if("string"===y){h+="'"+t[a]+"'",v=i+2,i++;break}if("function"===y){h+=t[a].name||"<anonymous>",v=i+2,i++;break}h+=o(t[a]),v=i+2,i++;break;case 115:if(a>=d)break;v<i&&(h+=e.slice(v,i)),h+=String(t[a]),v=i+2,i++;break;case 37:v<i&&(h+=e.slice(v,i)),h+="%",v=i+2,i++,a--}++a}++i}if(-1===v)return e;v<m&&(h+=e.slice(v));return h}},1296:function(e,t,n){"use strict";n(266),n(21),Object.defineProperty(t,"__esModule",{value:!0}),t.generateChildLogger=t.formatChildLoggerContext=t.getLoggerContext=t.setBrowserLoggerContext=t.getBrowserLoggerContext=t.getDefaultLoggerOptions=void 0;var r=n(1047);function o(e){return e[arguments.length>1&&void 0!==arguments[1]?arguments[1]:r.PINO_CUSTOM_CONTEXT_KEY]||""}function c(e,t){return e[arguments.length>2&&void 0!==arguments[2]?arguments[2]:r.PINO_CUSTOM_CONTEXT_KEY]=t,e}function l(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:r.PINO_CUSTOM_CONTEXT_KEY;return void 0===e.bindings?o(e,t):e.bindings().context||""}function f(e,t){var n=l(e,arguments.length>2&&void 0!==arguments[2]?arguments[2]:r.PINO_CUSTOM_CONTEXT_KEY);return n.trim()?"".concat(n,"/").concat(t):t}t.getDefaultLoggerOptions=function(e){return Object.assign(Object.assign({},e),{level:(null==e?void 0:e.level)||r.PINO_LOGGER_DEFAULTS.level})},t.getBrowserLoggerContext=o,t.setBrowserLoggerContext=c,t.getLoggerContext=l,t.formatChildLoggerContext=f,t.generateChildLogger=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:r.PINO_CUSTOM_CONTEXT_KEY,o=f(e,t,n);return c(e.child({context:o}),o,n)}},1297:function(e,t){var n="undefined"!=typeof self?self:this,r=function(){function e(){this.fetch=!1,this.DOMException=n.DOMException}return e.prototype=n,new e}();!function(e){!function(t){var n="URLSearchParams"in e,r="Symbol"in e&&"iterator"in Symbol,o="FileReader"in e&&"Blob"in e&&function(){try{return new Blob,!0}catch(e){return!1}}(),c="FormData"in e,l="ArrayBuffer"in e;if(l)var f=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],d=ArrayBuffer.isView||function(e){return e&&f.indexOf(Object.prototype.toString.call(e))>-1};function h(e){if("string"!=typeof e&&(e=String(e)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(e))throw new TypeError("Invalid character in header field name");return e.toLowerCase()}function v(e){return"string"!=typeof e&&(e=String(e)),e}function m(e){var t={next:function(){var t=e.shift();return{done:void 0===t,value:t}}};return r&&(t[Symbol.iterator]=function(){return t}),t}function y(e){this.map={},e instanceof y?e.forEach((function(e,t){this.append(t,e)}),this):Array.isArray(e)?e.forEach((function(header){this.append(header[0],header[1])}),this):e&&Object.getOwnPropertyNames(e).forEach((function(t){this.append(t,e[t])}),this)}function _(body){if(body.bodyUsed)return Promise.reject(new TypeError("Already read"));body.bodyUsed=!0}function w(e){return new Promise((function(t,n){e.onload=function(){t(e.result)},e.onerror=function(){n(e.error)}}))}function O(e){var t=new FileReader,n=w(t);return t.readAsArrayBuffer(e),n}function x(e){if(e.slice)return e.slice(0);var view=new Uint8Array(e.byteLength);return view.set(new Uint8Array(e)),view.buffer}function E(){return this.bodyUsed=!1,this._initBody=function(body){var e;this._bodyInit=body,body?"string"==typeof body?this._bodyText=body:o&&Blob.prototype.isPrototypeOf(body)?this._bodyBlob=body:c&&FormData.prototype.isPrototypeOf(body)?this._bodyFormData=body:n&&URLSearchParams.prototype.isPrototypeOf(body)?this._bodyText=body.toString():l&&o&&((e=body)&&DataView.prototype.isPrototypeOf(e))?(this._bodyArrayBuffer=x(body.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):l&&(ArrayBuffer.prototype.isPrototypeOf(body)||d(body))?this._bodyArrayBuffer=x(body):this._bodyText=body=Object.prototype.toString.call(body):this._bodyText="",this.headers.get("content-type")||("string"==typeof body?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):n&&URLSearchParams.prototype.isPrototypeOf(body)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},o&&(this.blob=function(){var e=_(this);if(e)return e;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?_(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(O)}),this.text=function(){var e,t,n,r=_(this);if(r)return r;if(this._bodyBlob)return e=this._bodyBlob,t=new FileReader,n=w(t),t.readAsText(e),n;if(this._bodyArrayBuffer)return Promise.resolve(function(e){for(var view=new Uint8Array(e),t=new Array(view.length),i=0;i<view.length;i++)t[i]=String.fromCharCode(view[i]);return t.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},c&&(this.formData=function(){return this.text().then(S)}),this.json=function(){return this.text().then(JSON.parse)},this}y.prototype.append=function(e,t){e=h(e),t=v(t);var n=this.map[e];this.map[e]=n?n+", "+t:t},y.prototype.delete=function(e){delete this.map[h(e)]},y.prototype.get=function(e){return e=h(e),this.has(e)?this.map[e]:null},y.prototype.has=function(e){return this.map.hasOwnProperty(h(e))},y.prototype.set=function(e,t){this.map[h(e)]=v(t)},y.prototype.forEach=function(e,t){for(var n in this.map)this.map.hasOwnProperty(n)&&e.call(t,this.map[n],n,this)},y.prototype.keys=function(){var e=[];return this.forEach((function(t,n){e.push(n)})),m(e)},y.prototype.values=function(){var e=[];return this.forEach((function(t){e.push(t)})),m(e)},y.prototype.entries=function(){var e=[];return this.forEach((function(t,n){e.push([n,t])})),m(e)},r&&(y.prototype[Symbol.iterator]=y.prototype.entries);var j=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function k(input,e){var t,n,body=(e=e||{}).body;if(input instanceof k){if(input.bodyUsed)throw new TypeError("Already read");this.url=input.url,this.credentials=input.credentials,e.headers||(this.headers=new y(input.headers)),this.method=input.method,this.mode=input.mode,this.signal=input.signal,body||null==input._bodyInit||(body=input._bodyInit,input.bodyUsed=!0)}else this.url=String(input);if(this.credentials=e.credentials||this.credentials||"same-origin",!e.headers&&this.headers||(this.headers=new y(e.headers)),this.method=(t=e.method||this.method||"GET",n=t.toUpperCase(),j.indexOf(n)>-1?n:t),this.mode=e.mode||this.mode||null,this.signal=e.signal||this.signal,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&body)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(body)}function S(body){var form=new FormData;return body.trim().split("&").forEach((function(e){if(e){var t=e.split("="),n=t.shift().replace(/\+/g," "),r=t.join("=").replace(/\+/g," ");form.append(decodeURIComponent(n),decodeURIComponent(r))}})),form}function R(e,t){t||(t={}),this.type="default",this.status=void 0===t.status?200:t.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in t?t.statusText:"OK",this.headers=new y(t.headers),this.url=t.url||"",this._initBody(e)}k.prototype.clone=function(){return new k(this,{body:this._bodyInit})},E.call(k.prototype),E.call(R.prototype),R.prototype.clone=function(){return new R(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new y(this.headers),url:this.url})},R.error=function(){var e=new R(null,{status:0,statusText:""});return e.type="error",e};var C=[301,302,303,307,308];R.redirect=function(e,t){if(-1===C.indexOf(t))throw new RangeError("Invalid status code");return new R(null,{status:t,headers:{location:e}})},t.DOMException=e.DOMException;try{new t.DOMException}catch(e){t.DOMException=function(e,t){this.message=e,this.name=t;var n=Error(e);this.stack=n.stack},t.DOMException.prototype=Object.create(Error.prototype),t.DOMException.prototype.constructor=t.DOMException}function I(input,e){return new Promise((function(n,r){var c=new k(input,e);if(c.signal&&c.signal.aborted)return r(new t.DOMException("Aborted","AbortError"));var l=new XMLHttpRequest;function f(){l.abort()}l.onload=function(){var e,t,r={status:l.status,statusText:l.statusText,headers:(e=l.getAllResponseHeaders()||"",t=new y,e.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach((function(line){var e=line.split(":"),n=e.shift().trim();if(n){var r=e.join(":").trim();t.append(n,r)}})),t)};r.url="responseURL"in l?l.responseURL:r.headers.get("X-Request-URL");var body="response"in l?l.response:l.responseText;n(new R(body,r))},l.onerror=function(){r(new TypeError("Network request failed"))},l.ontimeout=function(){r(new TypeError("Network request failed"))},l.onabort=function(){r(new t.DOMException("Aborted","AbortError"))},l.open(c.method,c.url,!0),"include"===c.credentials?l.withCredentials=!0:"omit"===c.credentials&&(l.withCredentials=!1),"responseType"in l&&o&&(l.responseType="blob"),c.headers.forEach((function(e,t){l.setRequestHeader(t,e)})),c.signal&&(c.signal.addEventListener("abort",f),l.onreadystatechange=function(){4===l.readyState&&c.signal.removeEventListener("abort",f)}),l.send(void 0===c._bodyInit?null:c._bodyInit)}))}I.polyfill=!0,e.fetch||(e.fetch=I,e.Headers=y,e.Request=k,e.Response=R),t.Headers=y,t.Request=k,t.Response=R,t.fetch=I,Object.defineProperty(t,"__esModule",{value:!0})}({})}(r),r.fetch.ponyfill=!0,delete r.fetch.polyfill;var o=r;(t=o.fetch).default=o.fetch,t.fetch=o.fetch,t.Headers=o.Headers,t.Request=o.Request,t.Response=o.Response,e.exports=t},1298:function(e,t,n){"use strict";n.r(t),n.d(t,"__extends",(function(){return c})),n.d(t,"__assign",(function(){return l})),n.d(t,"__rest",(function(){return f})),n.d(t,"__decorate",(function(){return d})),n.d(t,"__param",(function(){return h})),n.d(t,"__metadata",(function(){return v})),n.d(t,"__awaiter",(function(){return m})),n.d(t,"__generator",(function(){return y})),n.d(t,"__createBinding",(function(){return _})),n.d(t,"__exportStar",(function(){return w})),n.d(t,"__values",(function(){return O})),n.d(t,"__read",(function(){return x})),n.d(t,"__spread",(function(){return E})),n.d(t,"__spreadArrays",(function(){return j})),n.d(t,"__await",(function(){return k})),n.d(t,"__asyncGenerator",(function(){return S})),n.d(t,"__asyncDelegator",(function(){return R})),n.d(t,"__asyncValues",(function(){return C})),n.d(t,"__makeTemplateObject",(function(){return I})),n.d(t,"__importStar",(function(){return P})),n.d(t,"__importDefault",(function(){return A})),n.d(t,"__classPrivateFieldGet",(function(){return T})),n.d(t,"__classPrivateFieldSet",(function(){return N}));var r=n(12),o=(n(873),n(32),n(48),n(1),n(874),n(61),n(69),n(42),n(41),n(21),n(875),function(e,b){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,b){e.__proto__=b}||function(e,b){for(var p in b)b.hasOwnProperty(p)&&(e[p]=b[p])},o(e,b)});function c(e,b){function t(){this.constructor=e}o(e,b),e.prototype=null===b?Object.create(b):(t.prototype=b.prototype,new t)}var l=function(){return l=Object.assign||function(e){for(var s,i=1,t=arguments.length;i<t;i++)for(var p in s=arguments[i])Object.prototype.hasOwnProperty.call(s,p)&&(e[p]=s[p]);return e},l.apply(this,arguments)};function f(s,e){var t={};for(var p in s)Object.prototype.hasOwnProperty.call(s,p)&&e.indexOf(p)<0&&(t[p]=s[p]);if(null!=s&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(p=Object.getOwnPropertySymbols(s);i<p.length;i++)e.indexOf(p[i])<0&&Object.prototype.propertyIsEnumerable.call(s,p[i])&&(t[p[i]]=s[p[i]])}return t}function d(e,t,n,desc){var o,c=arguments.length,l=c<3?t:null===desc?desc=Object.getOwnPropertyDescriptor(t,n):desc;if("object"===("undefined"==typeof Reflect?"undefined":Object(r.a)(Reflect))&&"function"==typeof Reflect.decorate)l=Reflect.decorate(e,t,n,desc);else for(var i=e.length-1;i>=0;i--)(o=e[i])&&(l=(c<3?o(l):c>3?o(t,n,l):o(t,n))||l);return c>3&&l&&Object.defineProperty(t,n,l),l}function h(e,t){return function(n,r){t(n,r,e)}}function v(e,t){if("object"===("undefined"==typeof Reflect?"undefined":Object(r.a)(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}function m(e,t,n,r){return new(n||(n=Promise))((function(o,c){function l(e){try{d(r.next(e))}catch(e){c(e)}}function f(e){try{d(r.throw(e))}catch(e){c(e)}}function d(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(l,f)}d((r=r.apply(e,t||[])).next())}))}function y(e,body){var t,n,r,g,o={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return g={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(g[Symbol.iterator]=function(){return this}),g;function c(c){return function(l){return function(c){if(t)throw new TypeError("Generator is already executing.");for(;o;)try{if(t=1,n&&(r=2&c[0]?n.return:c[0]?n.throw||((r=n.return)&&r.call(n),0):n.next)&&!(r=r.call(n,c[1])).done)return r;switch(n=0,r&&(c=[2&c[0],r.value]),c[0]){case 0:case 1:r=c;break;case 4:return o.label++,{value:c[1],done:!1};case 5:o.label++,n=c[1],c=[0];continue;case 7:c=o.ops.pop(),o.trys.pop();continue;default:if(!(r=o.trys,(r=r.length>0&&r[r.length-1])||6!==c[0]&&2!==c[0])){o=0;continue}if(3===c[0]&&(!r||c[1]>r[0]&&c[1]<r[3])){o.label=c[1];break}if(6===c[0]&&o.label<r[1]){o.label=r[1],r=c;break}if(r&&o.label<r[2]){o.label=r[2],o.ops.push(c);break}r[2]&&o.ops.pop(),o.trys.pop();continue}c=body.call(e,o)}catch(e){c=[6,e],n=0}finally{t=r=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,l])}}}function _(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}function w(e,t){for(var p in e)"default"===p||t.hasOwnProperty(p)||(t[p]=e[p])}function O(e){var s="function"==typeof Symbol&&Symbol.iterator,t=s&&e[s],i=0;if(t)return t.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&i>=e.length&&(e=void 0),{value:e&&e[i++],done:!e}}};throw new TypeError(s?"Object is not iterable.":"Symbol.iterator is not defined.")}function x(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),c=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)c.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return c}function E(){for(var e=[],i=0;i<arguments.length;i++)e=e.concat(x(arguments[i]));return e}function j(){for(var s=0,i=0,e=arguments.length;i<e;i++)s+=arguments[i].length;var t=Array(s),n=0;for(i=0;i<e;i++)for(var a=arguments[i],r=0,o=a.length;r<o;r++,n++)t[n]=a[r];return t}function k(e){return this instanceof k?(this.v=e,this):new k(e)}function S(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,g=n.apply(e,t||[]),q=[];return i={},r("next"),r("throw"),r("return"),i[Symbol.asyncIterator]=function(){return this},i;function r(e){g[e]&&(i[e]=function(t){return new Promise((function(a,b){q.push([e,t,a,b])>1||o(e,t)}))})}function o(e,t){try{(n=g[e](t)).value instanceof k?Promise.resolve(n.value.v).then(c,l):f(q[0][2],n)}catch(e){f(q[0][3],e)}var n}function c(e){o("next",e)}function l(e){o("throw",e)}function f(e,t){e(t),q.shift(),q.length&&o(q[0][0],q[0][1])}}function R(e){var i,p;return i={},t("next"),t("throw",(function(e){throw e})),t("return"),i[Symbol.iterator]=function(){return this},i;function t(t,n){i[t]=e[t]?function(r){return(p=!p)?{value:k(e[t](r)),done:"return"===t}:n?n(r):r}:n}}function C(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,t=e[Symbol.asyncIterator];return t?t.call(e):(e=O(e),i={},n("next"),n("throw"),n("return"),i[Symbol.asyncIterator]=function(){return this},i);function n(t){i[t]=e[t]&&function(n){return new Promise((function(r,o){(function(e,t,n,r){Promise.resolve(r).then((function(t){e({value:t,done:n})}),t)})(r,o,(n=e[t](n)).done,n.value)}))}}}function I(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}function P(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function A(e){return e&&e.__esModule?e:{default:e}}function T(e,t){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)}function N(e,t,n){if(!t.has(e))throw new TypeError("attempted to set private field on non-instance");return t.set(e,n),n}},1299:function(e,t,n){"use strict";(function(e){function n(){return(null==e?void 0:e.crypto)||(null==e?void 0:e.msCrypto)||{}}function r(){var e=n();return e.subtle||e.webkitSubtle}Object.defineProperty(t,"__esModule",{value:!0}),t.isBrowserCryptoAvailable=t.getSubtleCrypto=t.getBrowerCrypto=void 0,t.getBrowerCrypto=n,t.getSubtleCrypto=r,t.isBrowserCryptoAvailable=function(){return!!n()&&!!r()}}).call(this,n(45))},1300:function(e,t,n){"use strict";(function(e){function n(){return"undefined"==typeof document&&"undefined"!=typeof navigator&&"ReactNative"===navigator.product}function r(){return void 0!==e&&void 0!==e.versions&&void 0!==e.versions.node}Object.defineProperty(t,"__esModule",{value:!0}),t.isBrowser=t.isNode=t.isReactNative=void 0,t.isReactNative=n,t.isNode=r,t.isBrowser=function(){return!n()&&!r()}}).call(this,n(51))},1301:function(e,t,n){"use strict";(function(e,r){n.d(t,"a",(function(){return v})),n.d(t,"b",(function(){return f})),n.d(t,"c",(function(){return m})),n.d(t,"d",(function(){return y})),n.d(t,"e",(function(){return l})),n.d(t,"f",(function(){return d}));n(77),n(61),n(69),n(13);var o=n(12),c=n(191);n(16),n(74),n(8),n(232),n(68),n(1),n(30),n(87),n(31),n(93),n(36),n(35),n(49),n(14),n(32),n(22),n(39),n(76),n(167),n(41),n(192),n(42),n(193),n(194),n(195),n(196),n(197),n(198),n(199),n(200),n(201),n(202),n(203),n(204),n(205),n(114),n(266),n(57),n(285),n(960),n(21),n(268),n(269),n(270),n(271),n(272),n(273),n(274),n(275),n(276),n(277),n(278),n(279),n(280),n(281),n(282),n(283),n(284),n(52),n(190),n(862),n(863),n(840),n(835),n(407),n(7),n(411),n(961),n(963),n(849),n(964),n(965),n(895),n(1340),n(833),n(1061),n(1338),n(1339),n(972);Object.defineProperty,Object.getOwnPropertySymbols,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable;function l(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return Object(c.a)(new Set([].concat(Object(c.a)(e),Object(c.a)(t))))}Object.defineProperty,Object.getOwnPropertySymbols,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable;Object.defineProperty,Object.defineProperties,Object.getOwnPropertyDescriptors,Object.getOwnPropertySymbols,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable;function f(e){return e.includes(":")}function d(e){return f(e)?e.split(":")[0]:e}var h={INVALID_METHOD:{message:"Invalid method.",code:1001},INVALID_EVENT:{message:"Invalid event.",code:1002},INVALID_UPDATE_REQUEST:{message:"Invalid update request.",code:1003},INVALID_EXTEND_REQUEST:{message:"Invalid extend request.",code:1004},INVALID_SESSION_SETTLE_REQUEST:{message:"Invalid session settle request.",code:1005},UNAUTHORIZED_METHOD:{message:"Unauthorized method.",code:3001},UNAUTHORIZED_EVENT:{message:"Unauthorized event.",code:3002},UNAUTHORIZED_UPDATE_REQUEST:{message:"Unauthorized update request.",code:3003},UNAUTHORIZED_EXTEND_REQUEST:{message:"Unauthorized extend request.",code:3004},USER_REJECTED:{message:"User rejected.",code:5e3},USER_REJECTED_CHAINS:{message:"User rejected chains.",code:5001},USER_REJECTED_METHODS:{message:"User rejected methods.",code:5002},USER_REJECTED_EVENTS:{message:"User rejected events.",code:5003},UNSUPPORTED_CHAINS:{message:"Unsupported chains.",code:5100},UNSUPPORTED_METHODS:{message:"Unsupported methods.",code:5101},UNSUPPORTED_EVENTS:{message:"Unsupported events.",code:5102},UNSUPPORTED_ACCOUNTS:{message:"Unsupported accounts.",code:5103},UNSUPPORTED_NAMESPACE_KEY:{message:"Unsupported namespace key.",code:5104},USER_DISCONNECTED:{message:"User disconnected.",code:6e3},SESSION_SETTLEMENT_FAILED:{message:"Session settlement failed.",code:7e3},WC_METHOD_UNSUPPORTED:{message:"Unsupported wc_ method.",code:10001}};function v(e,t){var n=h[e],r=n.message,o=n.code;return{message:t?"".concat(r," ").concat(t):r,code:o}}function m(e,t){return!!Array.isArray(e)&&(!(Object(o.a)(t)<"u"&&e.length)||e.every(t))}function y(e){return Object.getPrototypeOf(e)===Object.prototype&&Object.keys(e).length}}).call(this,n(51),n(45))},1302:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(877),o=n(821),c=20;function l(e,input,t){for(var n=1634760805,o=857760878,l=2036477234,f=1797285236,d=t[3]<<24|t[2]<<16|t[1]<<8|t[0],h=t[7]<<24|t[6]<<16|t[5]<<8|t[4],v=t[11]<<24|t[10]<<16|t[9]<<8|t[8],m=t[15]<<24|t[14]<<16|t[13]<<8|t[12],y=t[19]<<24|t[18]<<16|t[17]<<8|t[16],_=t[23]<<24|t[22]<<16|t[21]<<8|t[20],w=t[27]<<24|t[26]<<16|t[25]<<8|t[24],O=t[31]<<24|t[30]<<16|t[29]<<8|t[28],x=input[3]<<24|input[2]<<16|input[1]<<8|input[0],E=input[7]<<24|input[6]<<16|input[5]<<8|input[4],j=input[11]<<24|input[10]<<16|input[9]<<8|input[8],k=input[15]<<24|input[14]<<16|input[13]<<8|input[12],S=n,R=o,C=l,I=f,P=d,A=h,T=v,N=m,U=y,M=_,L=w,D=O,$=x,H=E,B=j,F=k,i=0;i<c;i+=2)P=(P^=U=U+($=($^=S=S+P|0)>>>16|$<<16)|0)>>>20|P<<12,A=(A^=M=M+(H=(H^=R=R+A|0)>>>16|H<<16)|0)>>>20|A<<12,T=(T^=L=L+(B=(B^=C=C+T|0)>>>16|B<<16)|0)>>>20|T<<12,N=(N^=D=D+(F=(F^=I=I+N|0)>>>16|F<<16)|0)>>>20|N<<12,T=(T^=L=L+(B=(B^=C=C+T|0)>>>24|B<<8)|0)>>>25|T<<7,N=(N^=D=D+(F=(F^=I=I+N|0)>>>24|F<<8)|0)>>>25|N<<7,A=(A^=M=M+(H=(H^=R=R+A|0)>>>24|H<<8)|0)>>>25|A<<7,P=(P^=U=U+($=($^=S=S+P|0)>>>24|$<<8)|0)>>>25|P<<7,A=(A^=L=L+(F=(F^=S=S+A|0)>>>16|F<<16)|0)>>>20|A<<12,T=(T^=D=D+($=($^=R=R+T|0)>>>16|$<<16)|0)>>>20|T<<12,N=(N^=U=U+(H=(H^=C=C+N|0)>>>16|H<<16)|0)>>>20|N<<12,P=(P^=M=M+(B=(B^=I=I+P|0)>>>16|B<<16)|0)>>>20|P<<12,N=(N^=U=U+(H=(H^=C=C+N|0)>>>24|H<<8)|0)>>>25|N<<7,P=(P^=M=M+(B=(B^=I=I+P|0)>>>24|B<<8)|0)>>>25|P<<7,T=(T^=D=D+($=($^=R=R+T|0)>>>24|$<<8)|0)>>>25|T<<7,A=(A^=L=L+(F=(F^=S=S+A|0)>>>24|F<<8)|0)>>>25|A<<7;r.writeUint32LE(S+n|0,e,0),r.writeUint32LE(R+o|0,e,4),r.writeUint32LE(C+l|0,e,8),r.writeUint32LE(I+f|0,e,12),r.writeUint32LE(P+d|0,e,16),r.writeUint32LE(A+h|0,e,20),r.writeUint32LE(T+v|0,e,24),r.writeUint32LE(N+m|0,e,28),r.writeUint32LE(U+y|0,e,32),r.writeUint32LE(M+_|0,e,36),r.writeUint32LE(L+w|0,e,40),r.writeUint32LE(D+O|0,e,44),r.writeUint32LE($+x|0,e,48),r.writeUint32LE(H+E|0,e,52),r.writeUint32LE(B+j|0,e,56),r.writeUint32LE(F+k|0,e,60)}function f(e,t,n,r,c){if(void 0===c&&(c=0),32!==e.length)throw new Error("ChaCha: key size must be 32 bytes");if(r.length<n.length)throw new Error("ChaCha: destination is shorter than source");var f,h;if(0===c){if(8!==t.length&&12!==t.length)throw new Error("ChaCha nonce must be 8 or 12 bytes");h=(f=new Uint8Array(16)).length-t.length,f.set(t,h)}else{if(16!==t.length)throw new Error("ChaCha nonce with counter must be 16 bytes");f=t,h=c}for(var v=new Uint8Array(64),i=0;i<n.length;i+=64){l(v,f,e);for(var m=i;m<i+64&&m<n.length;m++)r[m]=n[m]^v[m-i];d(f,0,h)}return o.wipe(v),0===c&&o.wipe(f),r}function d(e,t,n){for(var r=1;n--;)r=r+(255&e[t])|0,e[t]=255&r,r>>>=8,t++;if(r>0)throw new Error("ChaCha: counter overflow")}t.streamXOR=f,t.stream=function(e,t,n,r){return void 0===r&&(r=0),o.wipe(n),f(e,t,n,n,r)}},1303:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.mul=Math.imul||function(a,b){var e=65535&a,t=65535&b;return e*t+((a>>>16&65535)*t+e*(b>>>16&65535)<<16>>>0)|0},t.add=function(a,b){return a+b|0},t.sub=function(a,b){return a-b|0},t.rotl=function(e,t){return e<<t|e>>>32-t},t.rotr=function(e,t){return e<<32-t|e>>>t},t.isInteger=Number.isInteger||function(e){return"number"==typeof e&&isFinite(e)&&Math.floor(e)===e},t.MAX_SAFE_INTEGER=9007199254740991,t.isSafeInteger=function(e){return t.isInteger(e)&&e>=-t.MAX_SAFE_INTEGER&&e<=t.MAX_SAFE_INTEGER}},1304:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(962),o=n(821);t.DIGEST_LENGTH=16;var c=function(){function e(e){this.digestLength=t.DIGEST_LENGTH,this._buffer=new Uint8Array(16),this._r=new Uint16Array(10),this._h=new Uint16Array(10),this._pad=new Uint16Array(8),this._leftover=0,this._fin=0,this._finished=!1;var n=e[0]|e[1]<<8;this._r[0]=8191&n;var r=e[2]|e[3]<<8;this._r[1]=8191&(n>>>13|r<<3);var o=e[4]|e[5]<<8;this._r[2]=7939&(r>>>10|o<<6);var c=e[6]|e[7]<<8;this._r[3]=8191&(o>>>7|c<<9);var l=e[8]|e[9]<<8;this._r[4]=255&(c>>>4|l<<12),this._r[5]=l>>>1&8190;var f=e[10]|e[11]<<8;this._r[6]=8191&(l>>>14|f<<2);var d=e[12]|e[13]<<8;this._r[7]=8065&(f>>>11|d<<5);var h=e[14]|e[15]<<8;this._r[8]=8191&(d>>>8|h<<8),this._r[9]=h>>>5&127,this._pad[0]=e[16]|e[17]<<8,this._pad[1]=e[18]|e[19]<<8,this._pad[2]=e[20]|e[21]<<8,this._pad[3]=e[22]|e[23]<<8,this._pad[4]=e[24]|e[25]<<8,this._pad[5]=e[26]|e[27]<<8,this._pad[6]=e[28]|e[29]<<8,this._pad[7]=e[30]|e[31]<<8}return e.prototype._blocks=function(e,t,n){for(var r=this._fin?0:2048,o=this._h[0],h1=this._h[1],h2=this._h[2],h3=this._h[3],h4=this._h[4],h5=this._h[5],h6=this._h[6],c=this._h[7],l=this._h[8],f=this._h[9],d=this._r[0],h=this._r[1],v=this._r[2],m=this._r[3],y=this._r[4],_=this._r[5],w=this._r[6],O=this._r[7],x=this._r[8],E=this._r[9];n>=16;){var j=e[t+0]|e[t+1]<<8;o+=8191&j;var k=e[t+2]|e[t+3]<<8;h1+=8191&(j>>>13|k<<3);var S=e[t+4]|e[t+5]<<8;h2+=8191&(k>>>10|S<<6);var R=e[t+6]|e[t+7]<<8;h3+=8191&(S>>>7|R<<9);var C=e[t+8]|e[t+9]<<8;h4+=8191&(R>>>4|C<<12),h5+=C>>>1&8191;var I=e[t+10]|e[t+11]<<8;h6+=8191&(C>>>14|I<<2);var P=e[t+12]|e[t+13]<<8;c+=8191&(I>>>11|P<<5);var A=e[t+14]|e[t+15]<<8,T=0,N=T;N+=o*d,N+=h1*(5*E),N+=h2*(5*x),N+=h3*(5*O),T=(N+=h4*(5*w))>>>13,N&=8191,N+=h5*(5*_),N+=h6*(5*y),N+=c*(5*m),N+=(l+=8191&(P>>>8|A<<8))*(5*v);var U=T+=(N+=(f+=A>>>5|r)*(5*h))>>>13;U+=o*h,U+=h1*d,U+=h2*(5*E),U+=h3*(5*x),T=(U+=h4*(5*O))>>>13,U&=8191,U+=h5*(5*w),U+=h6*(5*_),U+=c*(5*y),U+=l*(5*m),T+=(U+=f*(5*v))>>>13,U&=8191;var M=T;M+=o*v,M+=h1*h,M+=h2*d,M+=h3*(5*E),T=(M+=h4*(5*x))>>>13,M&=8191,M+=h5*(5*O),M+=h6*(5*w),M+=c*(5*_),M+=l*(5*y);var L=T+=(M+=f*(5*m))>>>13;L+=o*m,L+=h1*v,L+=h2*h,L+=h3*d,T=(L+=h4*(5*E))>>>13,L&=8191,L+=h5*(5*x),L+=h6*(5*O),L+=c*(5*w),L+=l*(5*_);var D=T+=(L+=f*(5*y))>>>13;D+=o*y,D+=h1*m,D+=h2*v,D+=h3*h,T=(D+=h4*d)>>>13,D&=8191,D+=h5*(5*E),D+=h6*(5*x),D+=c*(5*O),D+=l*(5*w);var $=T+=(D+=f*(5*_))>>>13;$+=o*_,$+=h1*y,$+=h2*m,$+=h3*v,T=($+=h4*h)>>>13,$&=8191,$+=h5*d,$+=h6*(5*E),$+=c*(5*x),$+=l*(5*O);var H=T+=($+=f*(5*w))>>>13;H+=o*w,H+=h1*_,H+=h2*y,H+=h3*m,T=(H+=h4*v)>>>13,H&=8191,H+=h5*h,H+=h6*d,H+=c*(5*E),H+=l*(5*x);var B=T+=(H+=f*(5*O))>>>13;B+=o*O,B+=h1*w,B+=h2*_,B+=h3*y,T=(B+=h4*m)>>>13,B&=8191,B+=h5*v,B+=h6*h,B+=c*d,B+=l*(5*E);var F=T+=(B+=f*(5*x))>>>13;F+=o*x,F+=h1*O,F+=h2*w,F+=h3*_,T=(F+=h4*y)>>>13,F&=8191,F+=h5*m,F+=h6*v,F+=c*h,F+=l*d;var V=T+=(F+=f*(5*E))>>>13;V+=o*E,V+=h1*x,V+=h2*O,V+=h3*w,T=(V+=h4*_)>>>13,V&=8191,V+=h5*y,V+=h6*m,V+=c*v,V+=l*h,o=N=8191&(T=(T=((T+=(V+=f*d)>>>13)<<2)+T|0)+(N&=8191)|0),h1=U+=T>>>=13,h2=M&=8191,h3=L&=8191,h4=D&=8191,h5=$&=8191,h6=H&=8191,c=B&=8191,l=F&=8191,f=V&=8191,t+=16,n-=16}this._h[0]=o,this._h[1]=h1,this._h[2]=h2,this._h[3]=h3,this._h[4]=h4,this._h[5]=h5,this._h[6]=h6,this._h[7]=c,this._h[8]=l,this._h[9]=f},e.prototype.finish=function(e,t){void 0===t&&(t=0);var n,mask,r,i,g=new Uint16Array(10);if(this._leftover){for(i=this._leftover,this._buffer[i++]=1;i<16;i++)this._buffer[i]=0;this._fin=1,this._blocks(this._buffer,0,16)}for(n=this._h[1]>>>13,this._h[1]&=8191,i=2;i<10;i++)this._h[i]+=n,n=this._h[i]>>>13,this._h[i]&=8191;for(this._h[0]+=5*n,n=this._h[0]>>>13,this._h[0]&=8191,this._h[1]+=n,n=this._h[1]>>>13,this._h[1]&=8191,this._h[2]+=n,g[0]=this._h[0]+5,n=g[0]>>>13,g[0]&=8191,i=1;i<10;i++)g[i]=this._h[i]+n,n=g[i]>>>13,g[i]&=8191;for(g[9]-=8192,mask=(1^n)-1,i=0;i<10;i++)g[i]&=mask;for(mask=~mask,i=0;i<10;i++)this._h[i]=this._h[i]&mask|g[i];for(this._h[0]=65535&(this._h[0]|this._h[1]<<13),this._h[1]=65535&(this._h[1]>>>3|this._h[2]<<10),this._h[2]=65535&(this._h[2]>>>6|this._h[3]<<7),this._h[3]=65535&(this._h[3]>>>9|this._h[4]<<4),this._h[4]=65535&(this._h[4]>>>12|this._h[5]<<1|this._h[6]<<14),this._h[5]=65535&(this._h[6]>>>2|this._h[7]<<11),this._h[6]=65535&(this._h[7]>>>5|this._h[8]<<8),this._h[7]=65535&(this._h[8]>>>8|this._h[9]<<5),r=this._h[0]+this._pad[0],this._h[0]=65535&r,i=1;i<8;i++)r=(this._h[i]+this._pad[i]|0)+(r>>>16)|0,this._h[i]=65535&r;return e[t+0]=this._h[0]>>>0,e[t+1]=this._h[0]>>>8,e[t+2]=this._h[1]>>>0,e[t+3]=this._h[1]>>>8,e[t+4]=this._h[2]>>>0,e[t+5]=this._h[2]>>>8,e[t+6]=this._h[3]>>>0,e[t+7]=this._h[3]>>>8,e[t+8]=this._h[4]>>>0,e[t+9]=this._h[4]>>>8,e[t+10]=this._h[5]>>>0,e[t+11]=this._h[5]>>>8,e[t+12]=this._h[6]>>>0,e[t+13]=this._h[6]>>>8,e[t+14]=this._h[7]>>>0,e[t+15]=this._h[7]>>>8,this._finished=!0,this},e.prototype.update=function(e){var t,n=0,r=e.length;if(this._leftover){(t=16-this._leftover)>r&&(t=r);for(var i=0;i<t;i++)this._buffer[this._leftover+i]=e[n+i];if(r-=t,n+=t,this._leftover+=t,this._leftover<16)return this;this._blocks(this._buffer,0,16),this._leftover=0}if(r>=16&&(t=r-r%16,this._blocks(e,n,t),n+=t,r-=t),r){for(i=0;i<r;i++)this._buffer[this._leftover+i]=e[n+i];this._leftover+=r}return this},e.prototype.digest=function(){if(this._finished)throw new Error("Poly1305 was finished");var e=new Uint8Array(16);return this.finish(e),e},e.prototype.clean=function(){return o.wipe(this._buffer),o.wipe(this._r),o.wipe(this._h),o.wipe(this._pad),this._leftover=0,this._fin=0,this._finished=!0,this},e}();t.Poly1305=c,t.oneTimeAuth=function(e,data){var t=new c(e);t.update(data);var n=t.digest();return t.clean(),n},t.equal=function(a,b){return a.length===t.DIGEST_LENGTH&&b.length===t.DIGEST_LENGTH&&r.equal(a,b)}},1305:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1306),o=n(962),c=n(821),l=function(){function e(e,t){this._finished=!1,this._inner=new e,this._outer=new e,this.blockSize=this._outer.blockSize,this.digestLength=this._outer.digestLength;var n=new Uint8Array(this.blockSize);t.length>this.blockSize?this._inner.update(t).finish(n).clean():n.set(t);for(var i=0;i<n.length;i++)n[i]^=54;this._inner.update(n);for(i=0;i<n.length;i++)n[i]^=106;this._outer.update(n),r.isSerializableHash(this._inner)&&r.isSerializableHash(this._outer)&&(this._innerKeyedState=this._inner.saveState(),this._outerKeyedState=this._outer.saveState()),c.wipe(n)}return e.prototype.reset=function(){if(!r.isSerializableHash(this._inner)||!r.isSerializableHash(this._outer))throw new Error("hmac: can't reset() because hash doesn't implement restoreState()");return this._inner.restoreState(this._innerKeyedState),this._outer.restoreState(this._outerKeyedState),this._finished=!1,this},e.prototype.clean=function(){r.isSerializableHash(this._inner)&&this._inner.cleanSavedState(this._innerKeyedState),r.isSerializableHash(this._outer)&&this._outer.cleanSavedState(this._outerKeyedState),this._inner.clean(),this._outer.clean()},e.prototype.update=function(data){return this._inner.update(data),this},e.prototype.finish=function(e){return this._finished?(this._outer.finish(e),this):(this._inner.finish(e),this._outer.update(e.subarray(0,this.digestLength)).finish(e),this._finished=!0,this)},e.prototype.digest=function(){var e=new Uint8Array(this.digestLength);return this.finish(e),e},e.prototype.saveState=function(){if(!r.isSerializableHash(this._inner))throw new Error("hmac: can't saveState() because hash doesn't implement it");return this._inner.saveState()},e.prototype.restoreState=function(e){if(!r.isSerializableHash(this._inner)||!r.isSerializableHash(this._outer))throw new Error("hmac: can't restoreState() because hash doesn't implement it");return this._inner.restoreState(e),this._outer.restoreState(this._outerKeyedState),this._finished=!1,this},e.prototype.cleanSavedState=function(e){if(!r.isSerializableHash(this._inner))throw new Error("hmac: can't cleanSavedState() because hash doesn't implement it");this._inner.cleanSavedState(e)},e}();t.HMAC=l,t.hmac=function(e,t,data){var n=new l(e,t);n.update(data);var r=n.digest();return n.clean(),r},t.equal=o.equal},1306:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isSerializableHash=function(e){return void 0!==e.saveState&&void 0!==e.restoreState&&void 0!==e.cleanSavedState}},1307:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SystemRandomSource=void 0;const r=n(1308),o=n(1309);t.SystemRandomSource=class{constructor(){return this.isAvailable=!1,this.name="",this._source=new r.BrowserRandomSource,this._source.isAvailable?(this.isAvailable=!0,void(this.name="Browser")):(this._source=new o.NodeRandomSource,this._source.isAvailable?(this.isAvailable=!0,void(this.name="Node")):void 0)}randomBytes(e){if(!this.isAvailable)throw new Error("System random byte generator is not available.");return this._source.randomBytes(e)}}},1308:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BrowserRandomSource=void 0;t.BrowserRandomSource=class{constructor(){this.isAvailable=!1,this.isInstantiated=!1;const e="undefined"!=typeof self?self.crypto||self.msCrypto:null;e&&void 0!==e.getRandomValues&&(this._crypto=e,this.isAvailable=!0,this.isInstantiated=!0)}randomBytes(e){if(!this.isAvailable||!this._crypto)throw new Error("Browser random byte generator is not available.");const t=new Uint8Array(e);for(let i=0;i<t.length;i+=65536)this._crypto.getRandomValues(t.subarray(i,i+Math.min(t.length-i,65536)));return t}}},1309:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.NodeRandomSource=void 0;const r=n(821);t.NodeRandomSource=class{constructor(){this.isAvailable=!1,this.isInstantiated=!1;{const e=n(1310);e&&e.randomBytes&&(this._crypto=e,this.isAvailable=!0,this.isInstantiated=!0)}}randomBytes(e){if(!this.isAvailable||!this._crypto)throw new Error("Node.js random byte generator is not available.");let t=this._crypto.randomBytes(e);if(t.length!==e)throw new Error("NodeRandomSource: got fewer bytes than requested");const n=new Uint8Array(e);for(let i=0;i<n.length;i++)n[i]=t[i];return(0,r.wipe)(t),n}}},1310:function(e,t){},1311:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.compare=function(a,b){for(let i=0;i<a.byteLength;i++){if(a[i]<b[i])return-1;if(a[i]>b[i])return 1}return a.byteLength>b.byteLength?1:a.byteLength<b.byteLength?-1:0}},1312:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.equals=function(a,b){if(a===b)return!0;if(a.byteLength!==b.byteLength)return!1;for(let i=0;i<a.byteLength;i++)if(a[i]!==b[i])return!1;return!0}},1313:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1314),o=n(1316),c=n(1317),l=n(1318),f=n(1319),d=n(1056),h=n(1320),v=n(1057),m=n(1321),y=n(1322),_=n(1323),w=n(1325),O=n(1326),x=n(1327);n(1328);var E=n(1058),j=n(967),k=n(878),S=n(897),R=n(832);const C={...r,...o,...c,...l,...f,...d,...h,...v,...m,...y},I={..._,...w},P={raw:O,json:x};t.CID=E.CID,t.hasher=j,t.digest=k,t.varint=S,t.bytes=R,t.bases=C,t.codecs=P,t.hashes=I},1314:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var base=n(825),r=n(832);const o=base.from({prefix:"\0",name:"identity",encode:e=>r.toString(e),decode:e=>r.fromString(e)});t.identity=o},1315:function(e,t,n){"use strict";var r=function(e,t){if(e.length>=255)throw new TypeError("Alphabet too long");for(var n=new Uint8Array(256),r=0;r<n.length;r++)n[r]=255;for(var i=0;i<e.length;i++){var o=e.charAt(i),c=o.charCodeAt(0);if(255!==n[c])throw new TypeError(o+" is ambiguous");n[c]=i}var l=e.length,f=e.charAt(0),d=Math.log(l)/Math.log(256),h=Math.log(256)/Math.log(l);function v(source){if("string"!=typeof source)throw new TypeError("Expected String");if(0===source.length)return new Uint8Array;var e=0;if(" "!==source[e]){for(var t=0,r=0;source[e]===f;)t++,e++;for(var o=(source.length-e)*d+1>>>0,c=new Uint8Array(o);source[e];){var h=n[source.charCodeAt(e)];if(255===h)return;for(var i=0,v=o-1;(0!==h||i<r)&&-1!==v;v--,i++)h+=l*c[v]>>>0,c[v]=h%256>>>0,h=h/256>>>0;if(0!==h)throw new Error("Non-zero carry");r=i,e++}if(" "!==source[e]){for(var m=o-r;m!==o&&0===c[m];)m++;for(var y=new Uint8Array(t+(o-m)),_=t;m!==o;)y[_++]=c[m++];return y}}}return{encode:function(source){if(source instanceof Uint8Array||(ArrayBuffer.isView(source)?source=new Uint8Array(source.buffer,source.byteOffset,source.byteLength):Array.isArray(source)&&(source=Uint8Array.from(source))),!(source instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(0===source.length)return"";for(var t=0,n=0,r=0,o=source.length;r!==o&&0===source[r];)r++,t++;for(var c=(o-r)*h+1>>>0,d=new Uint8Array(c);r!==o;){for(var v=source[r],i=0,m=c-1;(0!==v||i<n)&&-1!==m;m--,i++)v+=256*d[m]>>>0,d[m]=v%l>>>0,v=v/l>>>0;if(0!==v)throw new Error("Non-zero carry");n=i,r++}for(var y=c-n;y!==c&&0===d[y];)y++;for(var _=f.repeat(t);y<c;++y)_+=e.charAt(d[y]);return _},decodeUnsafe:v,decode:function(e){var n=v(e);if(n)return n;throw new Error(`Non-${t} character`)}}};e.exports=r},1316:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(825).rfc4648({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1});t.base2=r},1317:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(825).rfc4648({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3});t.base8=r},1318:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(825).baseX({prefix:"9",name:"base10",alphabet:"0123456789"});t.base10=r},1319:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var base=n(825);const r=base.rfc4648({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),o=base.rfc4648({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4});t.base16=r,t.base16upper=o},1320:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var base=n(825);const r=base.baseX({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),o=base.baseX({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"});t.base36=r,t.base36upper=o},1321:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var base=n(825);const r=base.rfc4648({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),o=base.rfc4648({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),c=base.rfc4648({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),l=base.rfc4648({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6});t.base64=r,t.base64pad=o,t.base64url=c,t.base64urlpad=l},1322:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var base=n(825);const r=Array.from("🚀🪐☄🛰🌌🌑🌒🌓🌔🌕🌖🌗🌘🌍🌏🌎🐉☀💻🖥💾💿😂❤😍🤣😊🙏💕😭😘👍😅👏😁🔥🥰💔💖💙😢🤔😆🙄💪😉☺👌🤗💜😔😎😇🌹🤦🎉💞✌✨🤷😱😌🌸🙌😋💗💚😏💛🙂💓🤩😄😀🖤😃💯🙈👇🎶😒🤭❣😜💋👀😪😑💥🙋😞😩😡🤪👊🥳😥🤤👉💃😳✋😚😝😴🌟😬🙃🍀🌷😻😓⭐✅🥺🌈😈🤘💦✔😣🏃💐☹🎊💘😠☝😕🌺🎂🌻😐🖕💝🙊😹🗣💫💀👑🎵🤞😛🔴😤🌼😫⚽🤙☕🏆🤫👈😮🙆🍻🍃🐶💁😲🌿🧡🎁⚡🌞🎈❌✊👋😰🤨😶🤝🚶💰🍓💢🤟🙁🚨💨🤬✈🎀🍺🤓😙💟🌱😖👶🥴▶➡❓💎💸⬇😨🌚🦋😷🕺⚠🙅😟😵👎🤲🤠🤧📌🔵💅🧐🐾🍒😗🤑🌊🤯🐷☎💧😯💆👆🎤🙇🍑❄🌴💣🐸💌📍🥀🤢👅💡💩👐📸👻🤐🤮🎼🥵🚩🍎🍊👼💍📣🥂"),o=r.reduce(((p,e,i)=>(p[i]=e,p)),[]),c=r.reduce(((p,e,i)=>(p[e.codePointAt(0)]=i,p)),[]);const l=base.from({prefix:"🚀",name:"base256emoji",encode:function(data){return data.reduce(((p,e)=>p+=o[e]),"")},decode:function(e){const t=[];for(const n of e){const e=c[n.codePointAt(0)];if(void 0===e)throw new Error(`Non-base256emoji character: ${n}`);t.push(e)}return new Uint8Array(t)}});t.base256emoji=l},1323:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(967);const o=e=>async data=>new Uint8Array(await crypto.subtle.digest(e,data)),c=r.from({name:"sha2-256",code:18,encode:o("SHA-256")}),l=r.from({name:"sha2-512",code:19,encode:o("SHA-512")});t.sha256=c,t.sha512=l},1324:function(e,t,n){"use strict";var r=function e(t,n,r){n=n||[];var f=r=r||0;for(;t>=l;)n[r++]=255&t|o,t/=128;for(;t&c;)n[r++]=255&t|o,t>>>=7;return n[r]=0|t,e.bytes=r-f+1,n},o=128,c=-128,l=Math.pow(2,31);var f=function e(t,n){var b,r=0,o=0,c=n=n||0,l=t.length;do{if(c>=l)throw e.bytes=0,new RangeError("Could not decode varint");b=t[c++],r+=o<28?(b&h)<<o:(b&h)*Math.pow(2,o),o+=7}while(b>=d);return e.bytes=c-n,r},d=128,h=127;var v=Math.pow(2,7),m=Math.pow(2,14),y=Math.pow(2,21),_=Math.pow(2,28),w=Math.pow(2,35),O=Math.pow(2,42),x=Math.pow(2,49),E=Math.pow(2,56),j=Math.pow(2,63),k={encode:r,decode:f,encodingLength:function(e){return e<v?1:e<m?2:e<y?3:e<_?4:e<w?5:e<O?6:e<x?7:e<E?8:e<j?9:10}};e.exports=k},1325:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(832),o=n(878);const c=r.coerce,l={code:0,name:"identity",encode:c,digest:input=>o.create(0,c(input))};t.identity=l},1326:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(832);t.code=85,t.decode=data=>r.coerce(data),t.encode=e=>r.coerce(e),t.name="raw"},1327:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=new TextEncoder,o=new TextDecoder;t.code=512,t.decode=data=>JSON.parse(o.decode(data)),t.encode=e=>r.encode(JSON.stringify(e)),t.name="json"},1328:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1058),o=n(897),c=n(832),l=n(967),f=n(878);t.CID=r.CID,t.varint=o,t.bytes=c,t.hasher=l,t.digest=f},1329:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(966),o=n(896);t.xor=function(a,b){if(a.length!==b.length)throw new Error("Inputs should have the same length");const e=r.allocUnsafe(a.length);for(let i=0;i<a.length;i++)e[i]=a[i]^b[i];return o.asUint8Array(e)}},1330:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(898);r.__exportStar(n(1331),t),r.__exportStar(n(1332),t)},1331:function(e,t,n){"use strict";n(1),n(57),Object.defineProperty(t,"__esModule",{value:!0}),t.delay=void 0,t.delay=function(e){return new Promise((function(t){setTimeout((function(){t(!0)}),e)}))}},1332:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.fromMiliseconds=t.toMiliseconds=void 0;var r=n(1060);t.toMiliseconds=function(e){return e*r.ONE_THOUSAND},t.fromMiliseconds=function(e){return Math.floor(e/r.ONE_THOUSAND)}},1333:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ONE_THOUSAND=t.ONE_HUNDRED=void 0,t.ONE_HUNDRED=100,t.ONE_THOUSAND=1e3},1334:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ONE_YEAR=t.FOUR_WEEKS=t.THREE_WEEKS=t.TWO_WEEKS=t.ONE_WEEK=t.THIRTY_DAYS=t.SEVEN_DAYS=t.FIVE_DAYS=t.THREE_DAYS=t.ONE_DAY=t.TWENTY_FOUR_HOURS=t.TWELVE_HOURS=t.SIX_HOURS=t.THREE_HOURS=t.ONE_HOUR=t.SIXTY_MINUTES=t.THIRTY_MINUTES=t.TEN_MINUTES=t.FIVE_MINUTES=t.ONE_MINUTE=t.SIXTY_SECONDS=t.THIRTY_SECONDS=t.TEN_SECONDS=t.FIVE_SECONDS=t.ONE_SECOND=void 0,t.ONE_SECOND=1,t.FIVE_SECONDS=5,t.TEN_SECONDS=10,t.THIRTY_SECONDS=30,t.SIXTY_SECONDS=60,t.ONE_MINUTE=t.SIXTY_SECONDS,t.FIVE_MINUTES=5*t.ONE_MINUTE,t.TEN_MINUTES=10*t.ONE_MINUTE,t.THIRTY_MINUTES=30*t.ONE_MINUTE,t.SIXTY_MINUTES=60*t.ONE_MINUTE,t.ONE_HOUR=t.SIXTY_MINUTES,t.THREE_HOURS=3*t.ONE_HOUR,t.SIX_HOURS=6*t.ONE_HOUR,t.TWELVE_HOURS=12*t.ONE_HOUR,t.TWENTY_FOUR_HOURS=24*t.ONE_HOUR,t.ONE_DAY=t.TWENTY_FOUR_HOURS,t.THREE_DAYS=3*t.ONE_DAY,t.FIVE_DAYS=5*t.ONE_DAY,t.SEVEN_DAYS=7*t.ONE_DAY,t.THIRTY_DAYS=30*t.ONE_DAY,t.ONE_WEEK=t.SEVEN_DAYS,t.TWO_WEEKS=2*t.ONE_WEEK,t.THREE_WEEKS=3*t.ONE_WEEK,t.FOUR_WEEKS=4*t.ONE_WEEK,t.ONE_YEAR=365*t.ONE_DAY},1335:function(e,t,n){"use strict";var r=n(235),o=n(236);n(192),n(1),n(42),n(193),n(194),n(195),n(196),n(197),n(198),n(199),n(200),n(201),n(202),n(203),n(204),n(205),n(41),Object.defineProperty(t,"__esModule",{value:!0}),t.Watch=void 0;var c=function(){function e(){r(this,e),this.timestamps=new Map}return o(e,[{key:"start",value:function(label){if(this.timestamps.has(label))throw new Error("Watch already started for label: ".concat(label));this.timestamps.set(label,{started:Date.now()})}},{key:"stop",value:function(label){var e=this.get(label);if(void 0!==e.elapsed)throw new Error("Watch already stopped for label: ".concat(label));var t=Date.now()-e.started;this.timestamps.set(label,{started:e.started,elapsed:t})}},{key:"get",value:function(label){var e=this.timestamps.get(label);if(void 0===e)throw new Error("No timestamp found for label: ".concat(label));return e}},{key:"elapsed",value:function(label){var e=this.get(label),t=e.elapsed||Date.now()-e.started;return t}}]),e}();t.Watch=c,t.default=c},1336:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n(898).__exportStar(n(1337),t)},1337:function(e,t,n){"use strict";var r=n(236),o=n(235);Object.defineProperty(t,"__esModule",{value:!0}),t.IWatch=void 0;var c=r((function e(){o(this,e)}));t.IWatch=c},1338:function(e,t,n){"use strict";var r=n(113);n(68),n(35),n(1),n(36),n(87),n(93),Object.defineProperty(t,"__esModule",{value:!0}),t.getWindowMetadata=void 0;var o=n(1061);t.getWindowMetadata=function(){var e,t;try{e=o.getDocumentOrThrow(),t=o.getLocationOrThrow()}catch(e){return null}function n(){for(var t=arguments.length,n=new Array(t),o=0;o<t;o++)n[o]=arguments[o];for(var c=e.getElementsByTagName("meta"),l=function(){var e=c[i],t=["itemprop","property","name"].map((function(t){return e.getAttribute(t)})).filter((function(e){return!!e&&n.includes(e)}));if(t.length&&t){var content=e.getAttribute("content");if(content)return{v:content}}},i=0;i<c.length;i++){var f=l();if("object"===r(f))return f.v}return""}var c=function(){var t=n("name","og:site_name","og:title","twitter:title");return t||(t=e.title),t}();return{description:n("description","og:description","twitter:description","keywords"),url:t.origin,icons:function(){for(var n=e.getElementsByTagName("link"),r=[],i=0;i<n.length;i++){var link=n[i],o=link.getAttribute("rel");if(o&&o.toLowerCase().indexOf("icon")>-1){var c=link.getAttribute("href");if(c)if(-1===c.toLowerCase().indexOf("https:")&&-1===c.toLowerCase().indexOf("http:")&&0!==c.indexOf("//")){var l=t.protocol+"//"+t.host;if(0===c.indexOf("/"))l+=c;else{var path=t.pathname.split("/");path.pop(),l+=path.join("/")+"/"+c}r.push(l)}else if(0===c.indexOf("//")){var f=t.protocol+c;r.push(f)}else r.push(c)}}return r}(),name:c}}},1339:function(e,t,n){"use strict";n(7),n(39),n(77),n(42),n(69),n(41);var r=n(287),o=n(234),c=n(113),l=n(865);function f(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return d(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return d(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var i=0,r=function(){};return{s:r,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,c=!0,l=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return c=e.done,e},e:function(e){l=!0,o=e},f:function(){try{c||null==n.return||n.return()}finally{if(l)throw o}}}}function d(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,n=new Array(t);i<t;i++)n[i]=e[i];return n}n(32),n(61),n(1),n(21),n(68),n(8),n(22),n(87),n(93),n(36),n(232),n(189),n(31),n(49),n(14),n(540),n(266),n(35);var h=n(968),v=n(969),m=n(970),y=n(971),_=Symbol("encodeFragmentIdentifier");function w(e){if("string"!=typeof e||1!==e.length)throw new TypeError("arrayFormatSeparator must be single character string")}function O(e,t){return t.encode?t.strict?h(e):encodeURIComponent(e):e}function x(e,t){return t.decode?v(e):e}function E(input){return Array.isArray(input)?input.sort():"object"===c(input)?E(Object.keys(input)).sort((function(a,b){return Number(a)-Number(b)})).map((function(e){return input[e]})):input}function j(input){var e=input.indexOf("#");return-1!==e&&(input=input.slice(0,e)),input}function k(input){var e=(input=j(input)).indexOf("?");return-1===e?"":input.slice(e+1)}function S(e,t){return t.parseNumbers&&!Number.isNaN(Number(e))&&"string"==typeof e&&""!==e.trim()?e=Number(e):!t.parseBooleans||null===e||"true"!==e.toLowerCase()&&"false"!==e.toLowerCase()||(e="true"===e.toLowerCase()),e}function R(e,t){w((t=Object.assign({decode:!0,sort:!0,arrayFormat:"none",arrayFormatSeparator:",",parseNumbers:!1,parseBooleans:!1},t)).arrayFormatSeparator);var n=function(e){var t;switch(e.arrayFormat){case"index":return function(e,n,r){t=/\[(\d*)\]$/.exec(e),e=e.replace(/\[\d*\]$/,""),t?(void 0===r[e]&&(r[e]={}),r[e][t[1]]=n):r[e]=n};case"bracket":return function(e,n,r){t=/(\[\])$/.exec(e),e=e.replace(/\[\]$/,""),t?void 0!==r[e]?r[e]=[].concat(r[e],n):r[e]=[n]:r[e]=n};case"colon-list-separator":return function(e,n,r){t=/(:list)$/.exec(e),e=e.replace(/:list$/,""),t?void 0!==r[e]?r[e]=[].concat(r[e],n):r[e]=[n]:r[e]=n};case"comma":case"separator":return function(t,n,r){var o="string"==typeof n&&n.includes(e.arrayFormatSeparator),c="string"==typeof n&&!o&&x(n,e).includes(e.arrayFormatSeparator);n=c?x(n,e):n;var l=o||c?n.split(e.arrayFormatSeparator).map((function(t){return x(t,e)})):null===n?n:x(n,e);r[t]=l};case"bracket-separator":return function(t,n,r){var o=/(\[\])$/.test(t);if(t=t.replace(/\[\]$/,""),o){var c=null===n?[]:n.split(e.arrayFormatSeparator).map((function(t){return x(t,e)}));void 0!==r[t]?r[t]=[].concat(r[t],c):r[t]=c}else r[t]=n?x(n,e):n};default:return function(e,t,n){void 0!==n[e]?n[e]=[].concat(n[e],t):n[e]=t}}}(t),r=Object.create(null);if("string"!=typeof e)return r;if(!(e=e.trim().replace(/^[?#&]/,"")))return r;var l,d=f(e.split("&"));try{for(d.s();!(l=d.n()).done;){var param=l.value;if(""!==param){var h=m(t.decode?param.replace(/\+/g," "):param,"="),v=o(h,2),y=v[0],_=v[1];_=void 0===_?null:["comma","separator","bracket-separator"].includes(t.arrayFormat)?_:x(_,t),n(x(y,t),_,r)}}}catch(e){d.e(e)}finally{d.f()}for(var O=0,j=Object.keys(r);O<j.length;O++){var k=j[O],R=r[k];if("object"===c(R)&&null!==R)for(var C=0,I=Object.keys(R);C<I.length;C++){var P=I[C];R[P]=S(R[P],t)}else r[k]=S(R,t)}return!1===t.sort?r:(!0===t.sort?Object.keys(r).sort():Object.keys(r).sort(t.sort)).reduce((function(e,t){var n=r[t];return Boolean(n)&&"object"===c(n)&&!Array.isArray(n)?e[t]=E(n):e[t]=n,e}),Object.create(null))}t.extract=k,t.parse=R,t.stringify=function(object,e){if(!object)return"";w((e=Object.assign({encode:!0,strict:!0,arrayFormat:"none",arrayFormatSeparator:","},e)).arrayFormatSeparator);for(var t=function(t){return e.skipNull&&null==object[t]||e.skipEmptyString&&""===object[t]},n=function(e){switch(e.arrayFormat){case"index":return function(t){return function(n,r){var o=n.length;return void 0===r||e.skipNull&&null===r||e.skipEmptyString&&""===r?n:[].concat(l(n),null===r?[[O(t,e),"[",o,"]"].join("")]:[[O(t,e),"[",O(o,e),"]=",O(r,e)].join("")])}};case"bracket":return function(t){return function(n,r){return void 0===r||e.skipNull&&null===r||e.skipEmptyString&&""===r?n:[].concat(l(n),null===r?[[O(t,e),"[]"].join("")]:[[O(t,e),"[]=",O(r,e)].join("")])}};case"colon-list-separator":return function(t){return function(n,r){return void 0===r||e.skipNull&&null===r||e.skipEmptyString&&""===r?n:[].concat(l(n),null===r?[[O(t,e),":list="].join("")]:[[O(t,e),":list=",O(r,e)].join("")])}};case"comma":case"separator":case"bracket-separator":var t="bracket-separator"===e.arrayFormat?"[]=":"=";return function(n){return function(r,o){return void 0===o||e.skipNull&&null===o||e.skipEmptyString&&""===o?r:(o=null===o?"":o,0===r.length?[[O(n,e),t,O(o,e)].join("")]:[[r,O(o,e)].join(e.arrayFormatSeparator)])}};default:return function(t){return function(n,r){return void 0===r||e.skipNull&&null===r||e.skipEmptyString&&""===r?n:[].concat(l(n),null===r?[O(t,e)]:[[O(t,e),"=",O(r,e)].join("")])}}}}(e),r={},o=0,c=Object.keys(object);o<c.length;o++){var f=c[o];t(f)||(r[f]=object[f])}var d=Object.keys(r);return!1!==e.sort&&d.sort(e.sort),d.map((function(t){var r=object[t];return void 0===r?"":null===r?O(t,e):Array.isArray(r)?0===r.length&&"bracket-separator"===e.arrayFormat?O(t,e)+"[]":r.reduce(n(t),[]).join("&"):O(t,e)+"="+O(r,e)})).filter((function(e){return e.length>0})).join("&")},t.parseUrl=function(e,t){t=Object.assign({decode:!0},t);var n=m(e,"#"),r=o(n,2),c=r[0],l=r[1];return Object.assign({url:c.split("?")[0]||"",query:R(k(e),t)},t&&t.parseFragmentIdentifier&&l?{fragmentIdentifier:x(l,t)}:{})},t.stringifyUrl=function(object,e){e=Object.assign(r({encode:!0,strict:!0},_,!0),e);var n=j(object.url).split("?")[0]||"",o=t.extract(object.url),c=t.parse(o,{sort:!1}),l=Object.assign(c,object.query),f=t.stringify(l,e);f&&(f="?".concat(f));var d=function(e){var t="",n=e.indexOf("#");return-1!==n&&(t=e.slice(n)),t}(object.url);return object.fragmentIdentifier&&(d="#".concat(e[_]?O(object.fragmentIdentifier,e):object.fragmentIdentifier)),"".concat(n).concat(f).concat(d)},t.pick=function(input,filter,e){e=Object.assign(r({parseFragmentIdentifier:!0},_,!1),e);var n=t.parseUrl(input,e),o=n.url,c=n.query,l=n.fragmentIdentifier;return t.stringifyUrl({url:o,query:y(c,filter),fragmentIdentifier:l},e)},t.exclude=function(input,filter,e){var n=Array.isArray(filter)?function(e){return!filter.includes(e)}:function(e,t){return!filter(e,t)};return t.pick(input,n,e)}},1340:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return _}));n(14),n(21),n(39),n(1),n(8),n(68);var r=function(e,t,n){if(n||2===arguments.length)for(var r,i=0,o=t.length;i<o;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))},o=function(e,t,n){this.name=e,this.version=t,this.os=n,this.type="browser"},c=function(t){this.version=t,this.type="node",this.name="node",this.os=e.platform},l=function(e,t,n,r){this.name=e,this.version=t,this.os=n,this.bot=r,this.type="bot-device"},f=function(){this.type="bot",this.bot=!0,this.name="bot",this.version=null,this.os=null},d=function(){this.type="react-native",this.name="react-native",this.version=null,this.os=null},h=/(nuhk|curl|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask\ Jeeves\/Teoma|ia_archiver)/,v=3,m=[["aol",/AOLShield\/([0-9\._]+)/],["edge",/Edge\/([0-9\._]+)/],["edge-ios",/EdgiOS\/([0-9\._]+)/],["yandexbrowser",/YaBrowser\/([0-9\._]+)/],["kakaotalk",/KAKAOTALK\s([0-9\.]+)/],["samsung",/SamsungBrowser\/([0-9\.]+)/],["silk",/\bSilk\/([0-9._-]+)\b/],["miui",/MiuiBrowser\/([0-9\.]+)$/],["beaker",/BeakerBrowser\/([0-9\.]+)/],["edge-chromium",/EdgA?\/([0-9\.]+)/],["chromium-webview",/(?!Chrom.*OPR)wv\).*Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["chrome",/(?!Chrom.*OPR)Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["phantomjs",/PhantomJS\/([0-9\.]+)(:?\s|$)/],["crios",/CriOS\/([0-9\.]+)(:?\s|$)/],["firefox",/Firefox\/([0-9\.]+)(?:\s|$)/],["fxios",/FxiOS\/([0-9\.]+)/],["opera-mini",/Opera Mini.*Version\/([0-9\.]+)/],["opera",/Opera\/([0-9\.]+)(?:\s|$)/],["opera",/OPR\/([0-9\.]+)(:?\s|$)/],["pie",/^Microsoft Pocket Internet Explorer\/(\d+\.\d+)$/],["pie",/^Mozilla\/\d\.\d+\s\(compatible;\s(?:MSP?IE|MSInternet Explorer) (\d+\.\d+);.*Windows CE.*\)$/],["netfront",/^Mozilla\/\d\.\d+.*NetFront\/(\d.\d)/],["ie",/Trident\/7\.0.*rv\:([0-9\.]+).*\).*Gecko$/],["ie",/MSIE\s([0-9\.]+);.*Trident\/[4-7].0/],["ie",/MSIE\s(7\.0)/],["bb10",/BB10;\sTouch.*Version\/([0-9\.]+)/],["android",/Android\s([0-9\.]+)/],["ios",/Version\/([0-9\._]+).*Mobile.*Safari.*/],["safari",/Version\/([0-9\._]+).*Safari/],["facebook",/FB[AS]V\/([0-9\.]+)/],["instagram",/Instagram\s([0-9\.]+)/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Mobile/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Gecko\)$/],["curl",/^curl\/([0-9\.]+)$/],["searchbot",/alexa|bot|crawl(er|ing)|facebookexternalhit|feedburner|google web preview|nagios|postrank|pingdom|slurp|spider|yahoo!|yandex/]],y=[["iOS",/iP(hone|od|ad)/],["Android OS",/Android/],["BlackBerry OS",/BlackBerry|BB10/],["Windows Mobile",/IEMobile/],["Amazon OS",/Kindle/],["Windows 3.11",/Win16/],["Windows 95",/(Windows 95)|(Win95)|(Windows_95)/],["Windows 98",/(Windows 98)|(Win98)/],["Windows 2000",/(Windows NT 5.0)|(Windows 2000)/],["Windows XP",/(Windows NT 5.1)|(Windows XP)/],["Windows Server 2003",/(Windows NT 5.2)/],["Windows Vista",/(Windows NT 6.0)/],["Windows 7",/(Windows NT 6.1)/],["Windows 8",/(Windows NT 6.2)/],["Windows 8.1",/(Windows NT 6.3)/],["Windows 10",/(Windows NT 10.0)/],["Windows ME",/Windows ME/],["Windows CE",/Windows CE|WinCE|Microsoft Pocket Internet Explorer/],["Open BSD",/OpenBSD/],["Sun OS",/SunOS/],["Chrome OS",/CrOS/],["Linux",/(Linux)|(X11)/],["Mac OS",/(Mac_PowerPC)|(Macintosh)/],["QNX",/QNX/],["BeOS",/BeOS/],["OS/2",/OS\/2/]];function _(t){return t?O(t):"undefined"==typeof document&&"undefined"!=typeof navigator&&"ReactNative"===navigator.product?new d:"undefined"!=typeof navigator?O(navigator.userAgent):void 0!==e&&e.version?new c(e.version.slice(1)):null}function w(e){return""!==e&&m.reduce((function(t,n){var r=n[0],o=n[1];if(t)return t;var c=o.exec(e);return!!c&&[r,c]}),!1)}function O(e){var t=w(e);if(!t)return null;var n=t[0],c=t[1];if("searchbot"===n)return new f;var d=c[1]&&c[1].split(".").join("_").split("_").slice(0,3);d?d.length<v&&(d=r(r([],d,!0),function(e){for(var output=[],t=0;t<e;t++)output.push("0");return output}(v-d.length),!0)):d=[];var m=d.join("."),_=function(e){for(var t=0,n=y.length;t<n;t++){var r=y[t],o=r[0];if(r[1].exec(e))return o}return null}(e),O=h.exec(e);return O&&O[1]?new l(n,m,_,O[1]):new o(n,m,_)}}).call(this,n(51))},1341:function(e,t,n){"use strict";n.d(t,"a",(function(){return U})),n.d(t,"b",(function(){return ne}));n(14),n(77),n(8),n(61),n(69),n(188);var r=n(12),o=n(400),c=n(191),l=n(13),f=n(55),d=n(56),h=n(124),v=n(125),m=n(75),y=(n(74),n(21),n(52),n(32),n(39),n(31),n(57),n(1),n(87),n(93),n(41),n(7),n(42),n(140),n(35),n(36),n(30),n(190),n(1345)),_=n(957),w=n(1074),O=n(1066),x=n(94),E=n.n(x),j=n(833),k=n(876);function S(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Object(m.a)(e);if(t){var o=Object(m.a)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Object(v.a)(this,n)}}function R(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return C(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return C(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var i=0,r=function(){};return{s:r,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,c=!0,l=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return c=e.done,e},e:function(e){l=!0,o=e},f:function(){try{c||null==n.return||n.return()}finally{if(l)throw o}}}}function C(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,n=new Array(t);i<t;i++)n[i]=e[i];return n}var I="client",P="".concat("wc","@").concat(2,":").concat(I,":"),A=I,T="error",N="WALLETCONNECT_DEEPLINK_CHOICE",U=(j.THIRTY_DAYS,"Proposal expired"),M=j.SEVEN_DAYS,L={wc_sessionPropose:{req:{ttl:j.FIVE_MINUTES,prompt:!0,tag:1100},res:{ttl:j.FIVE_MINUTES,prompt:!1,tag:1101}},wc_sessionSettle:{req:{ttl:j.FIVE_MINUTES,prompt:!1,tag:1102},res:{ttl:j.FIVE_MINUTES,prompt:!1,tag:1103}},wc_sessionUpdate:{req:{ttl:j.ONE_DAY,prompt:!1,tag:1104},res:{ttl:j.ONE_DAY,prompt:!1,tag:1105}},wc_sessionExtend:{req:{ttl:j.ONE_DAY,prompt:!1,tag:1106},res:{ttl:j.ONE_DAY,prompt:!1,tag:1107}},wc_sessionRequest:{req:{ttl:j.FIVE_MINUTES,prompt:!0,tag:1108},res:{ttl:j.FIVE_MINUTES,prompt:!1,tag:1109}},wc_sessionEvent:{req:{ttl:j.FIVE_MINUTES,prompt:!0,tag:1110},res:{ttl:j.FIVE_MINUTES,prompt:!1,tag:1111}},wc_sessionDelete:{req:{ttl:j.ONE_DAY,prompt:!1,tag:1112},res:{ttl:j.ONE_DAY,prompt:!1,tag:1113}},wc_sessionPing:{req:{ttl:j.THIRTY_SECONDS,prompt:!1,tag:1114},res:{ttl:j.THIRTY_SECONDS,prompt:!1,tag:1115}}},D={min:j.FIVE_MINUTES,max:j.SEVEN_DAYS},$="idle",H="active",B=["wc_sessionPropose","wc_sessionRequest","wc_authRequest"],F=Object.defineProperty,V=Object.defineProperties,W=Object.getOwnPropertyDescriptors,z=Object.getOwnPropertySymbols,K=Object.prototype.hasOwnProperty,G=Object.prototype.propertyIsEnumerable,J=function(e,t,n){return t in e?F(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n},Y=function(e,t){for(var n in t||(t={}))K.call(t,n)&&J(e,n,t[n]);if(z){var r,o=R(z(t));try{for(o.s();!(r=o.n()).done;){n=r.value;G.call(t,n)&&J(e,n,t[n])}}catch(e){o.e(e)}finally{o.f()}}return e},X=function(e,t){return V(e,W(t))},Q=function(e){Object(h.a)(v,e);var t,n,r,o=S(v);function v(e){var t;return Object(f.a)(this,v),(t=o.call(this,e)).name="engine",t.events=new E.a,t.initialized=!1,t.ignoredPayloadTypes=[O.b],t.requestQueue={state:$,requests:[]},t.requestQueueDelay=j.ONE_SECOND,t.init=Object(l.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.initialized,e.t0){e.next=9;break}return e.next=4,t.cleanup();case 4:t.registerRelayerEvents(),t.registerExpirerEvents(),t.client.core.pairing.register({methods:Object.keys(L)}),t.initialized=!0,setTimeout((function(){t.requestQueue.requests=t.getPendingSessionRequests(),t.processRequestQueue()}),Object(j.toMiliseconds)(t.requestQueueDelay));case 9:case"end":return e.stop()}}),e)}))),t.connect=function(){var e=Object(l.a)(regeneratorRuntime.mark((function e(n){var s,r,i,o,c,a,f,d,h,v,m,_,g,w,x,u,E,k,S,R,C,I;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.isInitialized(),s=X(Y({},n),{requiredNamespaces:n.requiredNamespaces||{},optionalNamespaces:n.optionalNamespaces||{}}),e.next=4,t.isValidConnect(s);case 4:if(r=s.pairingTopic,i=s.requiredNamespaces,o=s.optionalNamespaces,c=s.sessionProperties,a=s.relays,h=!1,(f=r)&&(h=t.client.core.pairing.pairings.get(f).active),f&&h){e.next=13;break}return e.next=9,t.client.core.pairing.create();case 9:v=e.sent,m=v.topic,_=v.uri,f=m,d=_;case 13:return e.next=15,t.client.core.crypto.generateKeyPair();case 15:if(g=e.sent,w=Y({requiredNamespaces:i,optionalNamespaces:o,relays:null!=a?a:[{protocol:y.c}],proposer:{publicKey:g,metadata:t.client.metadata}},c&&{sessionProperties:c}),x=Object(O.d)(j.FIVE_MINUTES,U),u=x.reject,E=x.resolve,k=x.done,t.events.once(Object(O.k)("session_connect"),function(){var e=Object(l.a)(regeneratorRuntime.mark((function e(n){var r,o,c;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n.error,o=n.session,!r){e.next=5;break}u(r),e.next=17;break;case 5:if(!o){e.next=17;break}return o.self.publicKey=g,c=X(Y({},o),{requiredNamespaces:o.requiredNamespaces,optionalNamespaces:o.optionalNamespaces}),e.next=10,t.client.session.set(o.topic,c);case 10:return e.next=12,t.setExpiry(o.topic,o.expiry);case 12:if(e.t0=f,!e.t0){e.next=16;break}return e.next=16,t.client.core.pairing.updateMetadata({topic:f,metadata:o.peer.metadata});case 16:E(c);case 17:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),f){e.next=24;break}throw S=Object(O.s)("NO_MATCHING_KEY","connect() pairing topic: ".concat(f)),R=S.message,new Error(R);case 24:return e.next=26,t.sendRequest(f,"wc_sessionPropose",w);case 26:return C=e.sent,I=Object(O.c)(j.FIVE_MINUTES),e.next=30,t.setProposal(C,Y({id:C,expiry:I},w));case 30:return e.abrupt("return",{uri:d,approval:k});case 31:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),t.pair=function(){var e=Object(l.a)(regeneratorRuntime.mark((function e(n){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.isInitialized(),e.next=3,t.client.core.pairing.pair(n);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),t.approve=function(){var e=Object(l.a)(regeneratorRuntime.mark((function e(n){var s,r,i,o,c,a,l,f,d,g,h,u,v,m;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.isInitialized(),e.next=3,t.isValidApprove(n);case 3:return s=n.id,r=n.relayProtocol,i=n.namespaces,o=n.sessionProperties,c=t.client.proposal.get(s),a=c.pairingTopic,l=c.proposer,f=c.requiredNamespaces,d=c.optionalNamespaces,a=a||"",Object(O.T)(f)||(f=Object(O.v)(i,"approve()")),e.next=8,t.client.core.crypto.generateKeyPair();case 8:return g=e.sent,h=l.publicKey,e.next=12,t.client.core.crypto.generateSharedKey(g,h);case 12:if(u=e.sent,e.t0=a&&s,!e.t0){e.next=23;break}return e.next=17,t.client.core.pairing.updateMetadata({topic:a,metadata:l.metadata});case 17:return e.next=19,t.sendResult(s,a,{relay:{protocol:null!=r?r:"irn"},responderPublicKey:g});case 19:return e.next=21,t.client.proposal.delete(s,Object(O.w)("USER_DISCONNECTED"));case 21:return e.next=23,t.client.core.pairing.activate({topic:a});case 23:return v=Y({relay:{protocol:null!=r?r:"irn"},namespaces:i,requiredNamespaces:f,optionalNamespaces:d,pairingTopic:a,controller:{publicKey:g,metadata:t.client.metadata},expiry:Object(O.c)(M)},o&&{sessionProperties:o}),e.next=26,t.client.core.relayer.subscribe(u);case 26:return e.next=28,t.sendRequest(u,"wc_sessionSettle",v);case 28:return m=X(Y({},v),{topic:u,pairingTopic:a,acknowledged:!1,self:v.controller,peer:{publicKey:l.publicKey,metadata:l.metadata},controller:g}),e.next=31,t.client.session.set(u,m);case 31:return e.next=33,t.setExpiry(u,Object(O.c)(M));case 33:return e.abrupt("return",{topic:u,acknowledged:function(){return new Promise((function(e){return setTimeout((function(){return e(t.client.session.get(u))}),500)}))}});case 34:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),t.reject=function(){var e=Object(l.a)(regeneratorRuntime.mark((function e(n){var s,r,o,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.isInitialized(),e.next=3,t.isValidReject(n);case 3:if(s=n.id,r=n.reason,o=t.client.proposal.get(s),i=o.pairingTopic,e.t0=i,!e.t0){e.next=10;break}return e.next=8,t.sendError(s,i,r);case 8:return e.next=10,t.client.proposal.delete(s,Object(O.w)("USER_DISCONNECTED"));case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),t.update=function(){var e=Object(l.a)(regeneratorRuntime.mark((function e(n){var s,r,i,o,c,l,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.isInitialized(),e.next=3,t.isValidUpdate(n);case 3:return s=n.topic,r=n.namespaces,e.next=7,t.sendRequest(s,"wc_sessionUpdate",{namespaces:r});case 7:return i=e.sent,o=Object(O.d)(),c=o.done,l=o.resolve,a=o.reject,t.events.once(Object(O.k)("session_update",i),(function(e){var t=e.error;t?a(t):l()})),e.next=15,t.client.session.update(s,{namespaces:r});case 15:return e.abrupt("return",{acknowledged:c});case 16:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),t.extend=function(){var e=Object(l.a)(regeneratorRuntime.mark((function e(n){var s,r,o,i,c,l;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.isInitialized(),e.next=3,t.isValidExtend(n);case 3:return s=n.topic,e.next=6,t.sendRequest(s,"wc_sessionExtend",{});case 6:return r=e.sent,o=Object(O.d)(),i=o.done,c=o.resolve,l=o.reject,t.events.once(Object(O.k)("session_extend",r),(function(e){var a=e.error;a?l(a):c()})),e.next=14,t.setExpiry(s,Object(O.c)(M));case 14:return e.abrupt("return",{acknowledged:i});case 15:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),t.request=function(){var e=Object(l.a)(regeneratorRuntime.mark((function e(n){var s,r,i,o,c,l,a,f,d,h;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.isInitialized(),e.next=3,t.isValidRequest(n);case 3:return s=n.chainId,r=n.request,i=n.topic,o=n.expiry,e.next=9,t.sendRequest(i,"wc_sessionRequest",{request:r,chainId:s},o);case 9:return c=e.sent,l=Object(O.d)(o),a=l.done,f=l.resolve,d=l.reject,t.events.once(Object(O.k)("session_request",c),(function(e){var g=e.error,t=e.result;g?d(g):f(t)})),t.client.events.emit("session_request_sent",{topic:i,request:r,chainId:s,id:c}),e.next=17,t.client.core.storage.getItem(N);case 17:return h=e.sent,Object(O.x)({id:c,topic:i,wcDeepLink:h}),e.next=21,a();case 21:return e.abrupt("return",e.sent);case 22:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),t.respond=function(){var e=Object(l.a)(regeneratorRuntime.mark((function e(n){var s,r,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.isInitialized(),e.next=3,t.isValidRespond(n);case 3:if(s=n.topic,r=n.response,i=r.id,!Object(k.isJsonRpcResult)(r)){e.next=9;break}return e.next=7,t.sendResult(i,s,r.result);case 7:e.next=13;break;case 9:if(e.t0=Object(k.isJsonRpcError)(r),!e.t0){e.next=13;break}return e.next=13,t.sendError(i,s,r.error);case 13:t.cleanupAfterResponse(n);case 14:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),t.ping=function(){var e=Object(l.a)(regeneratorRuntime.mark((function e(n){var s,r,o,i,c,l;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.isInitialized(),e.next=3,t.isValidPing(n);case 3:if(s=n.topic,!t.client.session.keys.includes(s)){e.next=17;break}return e.next=7,t.sendRequest(s,"wc_sessionPing",{});case 7:return r=e.sent,o=Object(O.d)(),i=o.done,c=o.resolve,l=o.reject,t.events.once(Object(O.k)("session_ping",r),(function(e){var a=e.error;a?l(a):c()})),e.next=15,i();case 15:e.next=21;break;case 17:if(e.t0=t.client.core.pairing.pairings.keys.includes(s),!e.t0){e.next=21;break}return e.next=21,t.client.core.pairing.ping({topic:s});case 21:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),t.emit=function(){var e=Object(l.a)(regeneratorRuntime.mark((function e(n){var s,r,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.isInitialized(),e.next=3,t.isValidEmit(n);case 3:return s=n.topic,r=n.event,i=n.chainId,e.next=6,t.sendRequest(s,"wc_sessionEvent",{event:r,chainId:i});case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),t.disconnect=function(){var e=Object(l.a)(regeneratorRuntime.mark((function e(n){var s,r,i,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.isInitialized(),e.next=3,t.isValidDisconnect(n);case 3:if(s=n.topic,!t.client.session.keys.includes(s)){e.next=13;break}return r=Object(k.getBigIntRpcId)().toString(),o=function e(n){(null==n?void 0:n.id.toString())===r&&(t.client.core.relayer.events.removeListener(y.d.message_ack,e),i())},e.next=9,Promise.all([new Promise((function(e){i=e,t.client.core.relayer.on(y.d.message_ack,o)})),t.sendRequest(s,"wc_sessionDelete",Object(O.w)("USER_DISCONNECTED"),void 0,r)]);case 9:return e.next=11,t.deleteSession(s);case 11:e.next=15;break;case 13:return e.next=15,t.client.core.pairing.disconnect({topic:s});case 15:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),t.find=function(e){return t.isInitialized(),t.client.session.getAll().filter((function(s){return Object(O.G)(s,e)}))},t.getPendingSessionRequests=function(){return t.isInitialized(),t.client.pendingRequest.getAll()},t.cleanupDuplicatePairings=function(){var e=Object(l.a)(regeneratorRuntime.mark((function e(n){var s,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n.pairingTopic){e.next=14;break}if(e.prev=1,s=t.client.core.pairing.pairings.get(n.pairingTopic),0!==(r=t.client.core.pairing.pairings.getAll().filter((function(i){var e,t;return(null==(e=i.peerMetadata)?void 0:e.url)&&(null==(t=i.peerMetadata)?void 0:t.url)===n.peer.metadata.url&&i.topic&&i.topic!==s.topic}))).length){e.next=5;break}return e.abrupt("return");case 5:return t.client.logger.info("Cleaning up ".concat(r.length," duplicate pairing(s)")),e.next=8,Promise.all(r.map((function(i){return t.client.core.pairing.disconnect({topic:i.topic})})));case 8:t.client.logger.info("Duplicate pairings clean up finished"),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),t.client.logger.error(e.t0);case 14:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(t){return e.apply(this,arguments)}}(),t.deleteSession=function(){var e=Object(l.a)(regeneratorRuntime.mark((function e(n,s){var r,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.client.session.get(n),o=r.self,e.next=3,t.client.core.relayer.unsubscribe(n);case 3:if(t.client.session.delete(n,Object(O.w)("USER_DISCONNECTED")),e.t0=t.client.core.crypto.keychain.has(o.publicKey),!e.t0){e.next=8;break}return e.next=8,t.client.core.crypto.deleteKeyPair(o.publicKey);case 8:if(e.t1=t.client.core.crypto.keychain.has(n),!e.t1){e.next=12;break}return e.next=12,t.client.core.crypto.deleteSymKey(n);case 12:s||t.client.core.expirer.del(n),t.client.core.storage.removeItem(N).catch((function(i){return t.client.logger.warn(i)}));case 14:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),t.deleteProposal=function(){var e=Object(l.a)(regeneratorRuntime.mark((function e(n,s){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([t.client.proposal.delete(n,Object(O.w)("USER_DISCONNECTED")),s?Promise.resolve():t.client.core.expirer.del(n)]);case 2:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),t.deletePendingSessionRequest=function(){var e=Object(l.a)(regeneratorRuntime.mark((function e(n,s){var r,o=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=o.length>2&&void 0!==o[2]&&o[2],e.next=3,Promise.all([t.client.pendingRequest.delete(n,s),r?Promise.resolve():t.client.core.expirer.del(n)]);case 3:t.requestQueue.requests=t.requestQueue.requests.filter((function(i){return i.id!==n})),r&&(t.requestQueue.state=$);case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),t.setExpiry=function(){var e=Object(l.a)(regeneratorRuntime.mark((function e(n,s){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.client.session.keys.includes(n),!e.t0){e.next=4;break}return e.next=4,t.client.session.update(n,{expiry:s});case 4:t.client.core.expirer.set(n,s);case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),t.setProposal=function(){var e=Object(l.a)(regeneratorRuntime.mark((function e(n,s){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.client.proposal.set(n,s);case 2:t.client.core.expirer.set(n,s.expiry);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),t.setPendingSessionRequest=function(){var e=Object(l.a)(regeneratorRuntime.mark((function e(n){var s,r,i,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=L.wc_sessionRequest.req.ttl,r=n.id,i=n.topic,o=n.params,e.next=3,t.client.pendingRequest.set(r,{id:r,topic:i,params:o});case 3:s&&t.client.core.expirer.set(r,Object(O.c)(s));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),t.sendRequest=function(){var e=Object(l.a)(regeneratorRuntime.mark((function e(n,s,r,i,o){var c,l,a,f;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(c=Object(k.formatJsonRpcRequest)(s,r),!Object(O.A)()||!B.includes(s)){e.next=5;break}return l=Object(O.z)(JSON.stringify(c)),e.next=5,t.client.core.verify.register({attestationId:l});case 5:return e.next=7,t.client.core.crypto.encode(n,c);case 7:return a=e.sent,f=L[s].req,e.abrupt("return",(i&&(f.ttl=i),o&&(f.id=o),t.client.core.history.set(n,c),t.client.core.relayer.publish(n,a,f),c.id));case 10:case"end":return e.stop()}}),e)})));return function(t,n,r,o,c){return e.apply(this,arguments)}}(),t.sendResult=function(){var e=Object(l.a)(regeneratorRuntime.mark((function e(n,s,r){var i,o,c,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Object(k.formatJsonRpcResult)(n,r),e.next=3,t.client.core.crypto.encode(s,i);case 3:return o=e.sent,e.next=6,t.client.core.history.get(s,n);case 6:return c=e.sent,a=L[c.request.method].res,t.client.core.relayer.publish(s,o,a),e.next=11,t.client.core.history.resolve(i);case 11:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),t.sendError=function(){var e=Object(l.a)(regeneratorRuntime.mark((function e(n,s,r){var i,o,c,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Object(k.formatJsonRpcError)(n,r),e.next=3,t.client.core.crypto.encode(s,i);case 3:return o=e.sent,e.next=6,t.client.core.history.get(s,n);case 6:return c=e.sent,a=L[c.request.method].res,t.client.core.relayer.publish(s,o,a),e.next=11,t.client.core.history.resolve(i);case 11:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),t.cleanup=Object(l.a)(regeneratorRuntime.mark((function e(){var n,s;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=[],s=[],t.client.session.getAll().forEach((function(e){Object(O.C)(e.expiry)&&n.push(e.topic)})),t.client.proposal.getAll().forEach((function(e){Object(O.C)(e.expiry)&&s.push(e.id)})),e.next=5,Promise.all([].concat(Object(c.a)(n.map((function(e){return t.deleteSession(e)}))),Object(c.a)(s.map((function(e){return t.deleteProposal(e)})))));case 5:case"end":return e.stop()}}),e)}))),t.onRelayEventRequest=function(e){var s=e.topic,n=e.payload,i=n.method;switch(i){case"wc_sessionPropose":return t.onSessionProposeRequest(s,n);case"wc_sessionSettle":return t.onSessionSettleRequest(s,n);case"wc_sessionUpdate":return t.onSessionUpdateRequest(s,n);case"wc_sessionExtend":return t.onSessionExtendRequest(s,n);case"wc_sessionPing":return t.onSessionPingRequest(s,n);case"wc_sessionDelete":return t.onSessionDeleteRequest(s,n);case"wc_sessionRequest":return t.onSessionRequest(s,n);case"wc_sessionEvent":return t.onSessionEventRequest(s,n);default:return t.client.logger.info("Unsupported request method ".concat(i))}},t.onRelayEventResponse=function(){var e=Object(l.a)(regeneratorRuntime.mark((function e(n){var s,r,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=n.topic,r=n.payload,e.next=4,t.client.core.history.get(s,r.id);case 4:i=e.sent.request.method,e.t0=i,e.next="wc_sessionPropose"===e.t0?8:"wc_sessionSettle"===e.t0?9:"wc_sessionUpdate"===e.t0?10:"wc_sessionExtend"===e.t0?11:"wc_sessionPing"===e.t0?12:"wc_sessionRequest"===e.t0?13:14;break;case 8:return e.abrupt("return",t.onSessionProposeResponse(s,r));case 9:return e.abrupt("return",t.onSessionSettleResponse(s,r));case 10:return e.abrupt("return",t.onSessionUpdateResponse(s,r));case 11:return e.abrupt("return",t.onSessionExtendResponse(s,r));case 12:return e.abrupt("return",t.onSessionPingResponse(s,r));case 13:return e.abrupt("return",t.onSessionRequestResponse(s,r));case 14:return e.abrupt("return",t.client.logger.info("Unsupported response method ".concat(i)));case 15:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),t.onRelayEventUnknownPayload=function(e){var s=e.topic,t=Object(O.s)("MISSING_OR_INVALID","Decoded payload on topic ".concat(s," is not identifiable as a JSON-RPC request or a response.")).message;throw new Error(t)},t.onSessionProposeRequest=function(){var e=Object(l.a)(regeneratorRuntime.mark((function e(n,s){var r,i,o,c,a,l;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=s.params,i=s.id,e.prev=1,t.isValidConnect(Y({},s.params)),o=Object(O.c)(j.FIVE_MINUTES),c=Y({id:i,pairingTopic:n,expiry:o},r),e.next=6,t.setProposal(i,c);case 6:return a=Object(O.z)(JSON.stringify(s)),e.next=9,t.getVerifyContext(a,c.proposer.metadata);case 9:l=e.sent,t.client.events.emit("session_proposal",{id:i,params:c,verifyContext:l}),e.next=18;break;case 13:return e.prev=13,e.t0=e.catch(1),e.next=17,t.sendError(i,n,e.t0);case 17:t.client.logger.error(e.t0);case 18:case"end":return e.stop()}}),e,null,[[1,13]])})));return function(t,n){return e.apply(this,arguments)}}(),t.onSessionProposeResponse=function(){var e=Object(l.a)(regeneratorRuntime.mark((function e(n,s){var r,o,c,l,a,f,d;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=s.id,!Object(k.isJsonRpcResult)(s)){e.next=22;break}return o=s.result,t.client.logger.trace({type:"method",method:"onSessionProposeResponse",result:o}),c=t.client.proposal.get(r),t.client.logger.trace({type:"method",method:"onSessionProposeResponse",proposal:c}),l=c.proposer.publicKey,t.client.logger.trace({type:"method",method:"onSessionProposeResponse",selfPublicKey:l}),a=o.responderPublicKey,t.client.logger.trace({type:"method",method:"onSessionProposeResponse",peerPublicKey:a}),e.next=12,t.client.core.crypto.generateSharedKey(l,a);case 12:return f=e.sent,t.client.logger.trace({type:"method",method:"onSessionProposeResponse",sessionTopic:f}),e.next=16,t.client.core.relayer.subscribe(f);case 16:return d=e.sent,t.client.logger.trace({type:"method",method:"onSessionProposeResponse",subscriptionId:d}),e.next=20,t.client.core.pairing.activate({topic:n});case 20:e.next=27;break;case 22:if(e.t0=Object(k.isJsonRpcError)(s),!e.t0){e.next=27;break}return e.next=26,t.client.proposal.delete(r,Object(O.w)("USER_DISCONNECTED"));case 26:t.events.emit(Object(O.k)("session_connect"),{error:s.error});case 27:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),t.onSessionSettleRequest=function(){var e=Object(l.a)(regeneratorRuntime.mark((function e(n,s){var r,i,o,c,l,a,f,d,h,g,v,u;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=s.id,i=s.params,e.prev=1,t.isValidSessionSettleRequest(i),o=s.params,c=o.relay,l=o.controller,a=o.expiry,f=o.namespaces,d=o.requiredNamespaces,h=o.optionalNamespaces,g=o.sessionProperties,v=o.pairingTopic,u=Y({topic:n,relay:c,expiry:a,namespaces:f,acknowledged:!0,pairingTopic:v,requiredNamespaces:d,optionalNamespaces:h,controller:l.publicKey,self:{publicKey:"",metadata:t.client.metadata},peer:{publicKey:l.publicKey,metadata:l.metadata}},g&&{sessionProperties:g}),e.next=6,t.sendResult(s.id,n,!0);case 6:t.events.emit(Object(O.k)("session_connect"),{session:u}),t.cleanupDuplicatePairings(u),e.next=15;break;case 10:return e.prev=10,e.t0=e.catch(1),e.next=14,t.sendError(r,n,e.t0);case 14:t.client.logger.error(e.t0);case 15:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(t,n){return e.apply(this,arguments)}}(),t.onSessionSettleResponse=function(){var e=Object(l.a)(regeneratorRuntime.mark((function e(n,s){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=s.id,!Object(k.isJsonRpcResult)(s)){e.next=7;break}return e.next=4,t.client.session.update(n,{acknowledged:!0});case 4:t.events.emit(Object(O.k)("session_approve",r),{}),e.next=12;break;case 7:if(e.t0=Object(k.isJsonRpcError)(s),!e.t0){e.next=12;break}return e.next=11,t.client.session.delete(n,Object(O.w)("USER_DISCONNECTED"));case 11:t.events.emit(Object(O.k)("session_approve",r),{error:s.error});case 12:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),t.onSessionUpdateRequest=function(){var e=Object(l.a)(regeneratorRuntime.mark((function e(n,s){var r,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=s.params,i=s.id,e.prev=1,t.isValidUpdate(Y({topic:n},r)),e.next=5,t.client.session.update(n,{namespaces:r.namespaces});case 5:return e.next=7,t.sendResult(i,n,!0);case 7:t.client.events.emit("session_update",{id:i,topic:n,params:r}),e.next=15;break;case 10:return e.prev=10,e.t0=e.catch(1),e.next=14,t.sendError(i,n,e.t0);case 14:t.client.logger.error(e.t0);case 15:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(t,n){return e.apply(this,arguments)}}(),t.onSessionUpdateResponse=function(e,s){var n=s.id;Object(k.isJsonRpcResult)(s)?t.events.emit(Object(O.k)("session_update",n),{}):Object(k.isJsonRpcError)(s)&&t.events.emit(Object(O.k)("session_update",n),{error:s.error})},t.onSessionExtendRequest=function(){var e=Object(l.a)(regeneratorRuntime.mark((function e(n,s){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=s.id,e.prev=1,t.isValidExtend({topic:n}),e.next=5,t.setExpiry(n,Object(O.c)(M));case 5:return e.next=7,t.sendResult(r,n,!0);case 7:t.client.events.emit("session_extend",{id:r,topic:n}),e.next=15;break;case 10:return e.prev=10,e.t0=e.catch(1),e.next=14,t.sendError(r,n,e.t0);case 14:t.client.logger.error(e.t0);case 15:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(t,n){return e.apply(this,arguments)}}(),t.onSessionExtendResponse=function(e,s){var n=s.id;Object(k.isJsonRpcResult)(s)?t.events.emit(Object(O.k)("session_extend",n),{}):Object(k.isJsonRpcError)(s)&&t.events.emit(Object(O.k)("session_extend",n),{error:s.error})},t.onSessionPingRequest=function(){var e=Object(l.a)(regeneratorRuntime.mark((function e(n,s){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=s.id,e.prev=1,t.isValidPing({topic:n}),e.next=5,t.sendResult(r,n,!0);case 5:t.client.events.emit("session_ping",{id:r,topic:n}),e.next=13;break;case 8:return e.prev=8,e.t0=e.catch(1),e.next=12,t.sendError(r,n,e.t0);case 12:t.client.logger.error(e.t0);case 13:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t,n){return e.apply(this,arguments)}}(),t.onSessionPingResponse=function(e,s){var n=s.id;setTimeout((function(){Object(k.isJsonRpcResult)(s)?t.events.emit(Object(O.k)("session_ping",n),{}):Object(k.isJsonRpcError)(s)&&t.events.emit(Object(O.k)("session_ping",n),{error:s.error})}),500)},t.onSessionDeleteRequest=function(){var e=Object(l.a)(regeneratorRuntime.mark((function e(n,s){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=s.id,e.prev=1,t.isValidDisconnect({topic:n,reason:s.params}),e.next=5,Promise.all([new Promise((function(i){t.client.core.relayer.once(y.d.publish,Object(l.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=i,e.next=3,t.deleteSession(n);case 3:e.t1=e.sent,(0,e.t0)(e.t1);case 5:case"end":return e.stop()}}),e)}))))})),t.sendResult(r,n,!0)]);case 5:t.client.events.emit("session_delete",{id:r,topic:n}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),t.client.logger.error(e.t0);case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t,n){return e.apply(this,arguments)}}(),t.onSessionRequest=function(){var e=Object(l.a)(regeneratorRuntime.mark((function e(n,s){var r,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=s.id,i=s.params,e.prev=1,t.isValidRequest(Y({topic:n},i)),e.next=5,t.setPendingSessionRequest({id:r,topic:n,params:i});case 5:return t.addRequestToQueue({id:r,topic:n,params:i}),e.next=8,t.processRequestQueue();case 8:e.next=15;break;case 10:return e.prev=10,e.t0=e.catch(1),e.next=14,t.sendError(r,n,e.t0);case 14:t.client.logger.error(e.t0);case 15:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(t,n){return e.apply(this,arguments)}}(),t.onSessionRequestResponse=function(e,s){var n=s.id;Object(k.isJsonRpcResult)(s)?t.events.emit(Object(O.k)("session_request",n),{result:s.result}):Object(k.isJsonRpcError)(s)&&t.events.emit(Object(O.k)("session_request",n),{error:s.error})},t.onSessionEventRequest=function(){var e=Object(l.a)(regeneratorRuntime.mark((function e(n,s){var r,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=s.id,i=s.params,e.prev=1,t.isValidEmit(Y({topic:n},i)),t.client.events.emit("session_event",{id:r,topic:n,params:i}),e.next=10;break;case 5:return e.prev=5,e.t0=e.catch(1),e.next=9,t.sendError(r,n,e.t0);case 9:t.client.logger.error(e.t0);case 10:case"end":return e.stop()}}),e,null,[[1,5]])})));return function(t,n){return e.apply(this,arguments)}}(),t.addRequestToQueue=function(e){t.requestQueue.requests.push(e)},t.cleanupAfterResponse=function(e){t.deletePendingSessionRequest(e.response.id,{message:"fulfilled",code:0}),setTimeout((function(){t.requestQueue.state=$,t.processRequestQueue()}),Object(j.toMiliseconds)(t.requestQueueDelay))},t.processRequestQueue=Object(l.a)(regeneratorRuntime.mark((function e(){var n,s,r,o,c,l,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.requestQueue.state!==H){e.next=3;break}return t.client.logger.info("session request queue is already active."),e.abrupt("return");case 3:if(n=t.requestQueue.requests[0]){e.next=7;break}return t.client.logger.info("session request queue is empty."),e.abrupt("return");case 7:return e.prev=7,s=n.id,r=n.topic,o=n.params,c=Object(O.z)(JSON.stringify({id:s,params:o})),l=t.client.session.get(r),e.next=15,t.getVerifyContext(c,l.peer.metadata);case 15:a=e.sent,t.requestQueue.state=H,t.client.events.emit("session_request",{id:s,topic:r,params:o,verifyContext:a}),e.next=22;break;case 19:e.prev=19,e.t0=e.catch(7),t.client.logger.error(e.t0);case 22:case"end":return e.stop()}}),e,null,[[7,19]])}))),t.isValidConnect=function(){var e=Object(l.a)(regeneratorRuntime.mark((function e(n){var r,a,s,o,i,c,l,f,d;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Object(O.U)(n)){e.next=3;break}throw r=Object(O.s)("MISSING_OR_INVALID","connect() params: ".concat(JSON.stringify(n))),a=r.message,new Error(a);case 3:if(s=n.pairingTopic,o=n.requiredNamespaces,i=n.optionalNamespaces,c=n.sessionProperties,l=n.relays,e.t0=Object(O.J)(s),e.t0){e.next=8;break}return e.next=8,t.isValidPairingTopic(s);case 8:if(Object(O.W)(l,!0)){e.next=11;break}throw f=Object(O.s)("MISSING_OR_INVALID","connect() relays: ".concat(l)),d=f.message,new Error(d);case 11:!Object(O.J)(o)&&0!==Object(O.T)(o)&&t.validateNamespaces(o,"requiredNamespaces"),!Object(O.J)(i)&&0!==Object(O.T)(i)&&t.validateNamespaces(i,"optionalNamespaces"),Object(O.J)(c)||t.validateSessionProps(c,"sessionProperties");case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),t.validateNamespaces=function(e,s){var t=Object(O.Z)(e,"connect()",s);if(t)throw new Error(t.message)},t.isValidApprove=function(){var e=Object(l.a)(regeneratorRuntime.mark((function e(n){var s,r,i,o,c,a,l,f,d;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Object(O.U)(n)){e.next=2;break}throw new Error(Object(O.s)("MISSING_OR_INVALID","approve() params: ".concat(n)).message);case 2:return s=n.id,r=n.namespaces,i=n.relayProtocol,o=n.sessionProperties,e.next=5,t.isValidProposalId(s);case 5:if(c=t.client.proposal.get(s),!(a=Object(O.P)(r,"approve()"))){e.next=8;break}throw new Error(a.message);case 8:if(!(l=Object(O.B)(c.requiredNamespaces,r,"approve()"))){e.next=11;break}throw new Error(l.message);case 11:if(Object(O.bb)(i,!0)){e.next=14;break}throw f=Object(O.s)("MISSING_OR_INVALID","approve() relayProtocol: ".concat(i)),d=f.message,new Error(d);case 14:Object(O.J)(o)||t.validateSessionProps(o,"sessionProperties");case 15:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),t.isValidReject=function(){var e=Object(l.a)(regeneratorRuntime.mark((function e(n){var r,o,s,c,l,f;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Object(O.U)(n)){e.next=3;break}throw r=Object(O.s)("MISSING_OR_INVALID","reject() params: ".concat(n)),o=r.message,new Error(o);case 3:return s=n.id,c=n.reason,e.next=6,t.isValidProposalId(s);case 6:if(Object(O.M)(c)){e.next=9;break}throw l=Object(O.s)("MISSING_OR_INVALID","reject() reason: ".concat(JSON.stringify(c))),f=l.message,new Error(f);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),t.isValidSessionSettleRequest=function(e){if(!Object(O.U)(e)){var t=Object(O.s)("MISSING_OR_INVALID","onSessionSettleRequest() params: ".concat(e)).message;throw new Error(t)}var s=e.relay,n=e.controller,i=e.namespaces,r=e.expiry;if(!Object(O.V)(s)){var o=Object(O.s)("MISSING_OR_INVALID","onSessionSettleRequest() relay protocol should be a string").message;throw new Error(o)}var c=Object(O.L)(n,"onSessionSettleRequest()");if(c)throw new Error(c.message);var a=Object(O.P)(i,"onSessionSettleRequest()");if(a)throw new Error(a.message);if(Object(O.C)(r)){var l=Object(O.s)("EXPIRED","onSessionSettleRequest()").message;throw new Error(l)}},t.isValidUpdate=function(){var e=Object(l.a)(regeneratorRuntime.mark((function e(n){var r,a,s,o,i,c,l;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Object(O.U)(n)){e.next=3;break}throw r=Object(O.s)("MISSING_OR_INVALID","update() params: ".concat(n)),a=r.message,new Error(a);case 3:return s=n.topic,o=n.namespaces,e.next=6,t.isValidSessionTopic(s);case 6:if(i=t.client.session.get(s),!(c=Object(O.P)(o,"update()"))){e.next=9;break}throw new Error(c.message);case 9:if(!(l=Object(O.B)(i.requiredNamespaces,o,"update()"))){e.next=12;break}throw new Error(l.message);case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),t.isValidExtend=function(){var e=Object(l.a)(regeneratorRuntime.mark((function e(n){var r,o,s;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Object(O.U)(n)){e.next=3;break}throw r=Object(O.s)("MISSING_OR_INVALID","extend() params: ".concat(n)),o=r.message,new Error(o);case 3:return s=n.topic,e.next=6,t.isValidSessionTopic(s);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),t.isValidRequest=function(){var e=Object(l.a)(regeneratorRuntime.mark((function e(n){var r,a,s,o,i,c,l,f,d,h,v,m,y,_,w,x;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Object(O.U)(n)){e.next=3;break}throw r=Object(O.s)("MISSING_OR_INVALID","request() params: ".concat(n)),a=r.message,new Error(a);case 3:return s=n.topic,o=n.request,i=n.chainId,c=n.expiry,e.next=6,t.isValidSessionTopic(s);case 6:if(l=t.client.session.get(s),f=l.namespaces,Object(O.Q)(f,i)){e.next=10;break}throw d=Object(O.s)("MISSING_OR_INVALID","request() chainId: ".concat(i)),h=d.message,new Error(h);case 10:if(Object(O.X)(o)){e.next=13;break}throw v=Object(O.s)("MISSING_OR_INVALID","request() ".concat(JSON.stringify(o))),m=v.message,new Error(m);case 13:if(Object(O.S)(f,i,o.method)){e.next=16;break}throw y=Object(O.s)("MISSING_OR_INVALID","request() method: ".concat(o.method)),_=y.message,new Error(_);case 16:if(!c||Object(O.Y)(c,D)){e.next=19;break}throw w=Object(O.s)("MISSING_OR_INVALID","request() expiry: ".concat(c,". Expiry must be a number (in seconds) between ").concat(D.min," and ").concat(D.max)),x=w.message,new Error(x);case 19:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),t.isValidRespond=function(){var e=Object(l.a)(regeneratorRuntime.mark((function e(n){var r,o,s,c,l,f;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Object(O.U)(n)){e.next=3;break}throw r=Object(O.s)("MISSING_OR_INVALID","respond() params: ".concat(n)),o=r.message,new Error(o);case 3:return s=n.topic,c=n.response,e.next=6,t.isValidSessionTopic(s);case 6:if(Object(O.ab)(c)){e.next=9;break}throw l=Object(O.s)("MISSING_OR_INVALID","respond() response: ".concat(JSON.stringify(c))),f=l.message,new Error(f);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),t.isValidPing=function(){var e=Object(l.a)(regeneratorRuntime.mark((function e(n){var r,o,s;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Object(O.U)(n)){e.next=3;break}throw r=Object(O.s)("MISSING_OR_INVALID","ping() params: ".concat(n)),o=r.message,new Error(o);case 3:return s=n.topic,e.next=6,t.isValidSessionOrPairingTopic(s);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),t.isValidEmit=function(){var e=Object(l.a)(regeneratorRuntime.mark((function e(n){var r,o,s,c,i,l,f,d,h,v,m,y,_;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Object(O.U)(n)){e.next=3;break}throw r=Object(O.s)("MISSING_OR_INVALID","emit() params: ".concat(n)),o=r.message,new Error(o);case 3:return s=n.topic,c=n.event,i=n.chainId,e.next=6,t.isValidSessionTopic(s);case 6:if(l=t.client.session.get(s),f=l.namespaces,Object(O.Q)(f,i)){e.next=10;break}throw d=Object(O.s)("MISSING_OR_INVALID","emit() chainId: ".concat(i)),h=d.message,new Error(h);case 10:if(Object(O.N)(c)){e.next=13;break}throw v=Object(O.s)("MISSING_OR_INVALID","emit() event: ".concat(JSON.stringify(c))),m=v.message,new Error(m);case 13:if(Object(O.R)(f,i,c.name)){e.next=16;break}throw y=Object(O.s)("MISSING_OR_INVALID","emit() event: ".concat(JSON.stringify(c))),_=y.message,new Error(_);case 16:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),t.isValidDisconnect=function(){var e=Object(l.a)(regeneratorRuntime.mark((function e(n){var r,o,s;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Object(O.U)(n)){e.next=3;break}throw r=Object(O.s)("MISSING_OR_INVALID","disconnect() params: ".concat(n)),o=r.message,new Error(o);case 3:return s=n.topic,e.next=6,t.isValidSessionOrPairingTopic(s);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),t.getVerifyContext=function(){var e=Object(l.a)(regeneratorRuntime.mark((function e(n,s){var r,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r={verified:{verifyUrl:s.verifyUrl||"",validation:"UNKNOWN",origin:s.url||""}},e.prev=1,e.next=4,t.client.core.verify.resolve({attestationId:n,verifyUrl:s.verifyUrl});case 4:(o=e.sent)&&(r.verified.origin=o,r.verified.validation=o===s.url?"VALID":"INVALID"),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),t.client.logger.error(e.t0);case 11:return e.abrupt("return",(t.client.logger.info("Verify context: ".concat(JSON.stringify(r))),r));case 12:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t,n){return e.apply(this,arguments)}}(),t.validateSessionProps=function(e,s){Object.values(e).forEach((function(e){if(!Object(O.bb)(e,!1)){var t=Object(O.s)("MISSING_OR_INVALID","".concat(s," must be in Record<string, string> format. Received: ").concat(JSON.stringify(e))).message;throw new Error(t)}}))},t}return Object(d.a)(v,[{key:"isInitialized",value:function(){if(!this.initialized){var e=Object(O.s)("NOT_INITIALIZED",this.name).message;throw new Error(e)}}},{key:"registerRelayerEvents",value:function(){var e=this;this.client.core.relayer.on(y.d.message,function(){var t=Object(l.a)(regeneratorRuntime.mark((function t(n){var r,s,o;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=n.topic,s=n.message,!e.ignoredPayloadTypes.includes(e.client.core.crypto.getPayloadType(s))){t.next=3;break}return t.abrupt("return");case 3:return t.next=5,e.client.core.crypto.decode(r,s);case 5:if(o=t.sent,t.prev=6,!Object(k.isJsonRpcRequest)(o)){t.next=11;break}e.client.core.history.set(r,o),e.onRelayEventRequest({topic:r,payload:o}),t.next=20;break;case 11:if(!Object(k.isJsonRpcResponse)(o)){t.next=19;break}return t.next=14,e.client.core.history.resolve(o);case 14:return t.next=16,e.onRelayEventResponse({topic:r,payload:o});case 16:e.client.core.history.delete(r,o.id),t.next=20;break;case 19:e.onRelayEventUnknownPayload({topic:r,payload:o});case 20:t.next=25;break;case 22:t.prev=22,t.t0=t.catch(6),e.client.logger.error(t.t0);case 25:case"end":return t.stop()}}),t,null,[[6,22]])})));return function(e){return t.apply(this,arguments)}}())}},{key:"registerExpirerEvents",value:function(){var e=this;this.client.core.expirer.on(y.b.expired,function(){var t=Object(l.a)(regeneratorRuntime.mark((function t(n){var r,o,s;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=Object(O.fb)(n.target),o=r.topic,!(s=r.id)||!e.client.pendingRequest.keys.includes(s)){t.next=5;break}return t.next=4,e.deletePendingSessionRequest(s,Object(O.s)("EXPIRED"),!0);case 4:return t.abrupt("return",t.sent);case 5:if(!o){t.next=13;break}if(t.t0=e.client.session.keys.includes(o),!t.t0){t.next=11;break}return t.next=10,e.deleteSession(o,!0);case 10:e.client.events.emit("session_expire",{topic:o});case 11:t.next=18;break;case 13:if(t.t1=s,!t.t1){t.next=18;break}return t.next=17,e.deleteProposal(s,!0);case 17:e.client.events.emit("proposal_expire",{id:s});case 18:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}},{key:"isValidPairingTopic",value:function(e){if(!Object(O.bb)(e,!1)){var t=Object(O.s)("MISSING_OR_INVALID","pairing topic should be a string: ".concat(e)).message;throw new Error(t)}if(!this.client.core.pairing.pairings.keys.includes(e)){var n=Object(O.s)("NO_MATCHING_KEY","pairing topic doesn't exist: ".concat(e)).message;throw new Error(n)}if(Object(O.C)(this.client.core.pairing.pairings.get(e).expiry)){var r=Object(O.s)("EXPIRED","pairing topic: ".concat(e)).message;throw new Error(r)}}},{key:"isValidSessionTopic",value:(r=Object(l.a)(regeneratorRuntime.mark((function e(t){var n,r,o,c,l,f;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Object(O.bb)(t,!1)){e.next=3;break}throw n=Object(O.s)("MISSING_OR_INVALID","session topic should be a string: ".concat(t)),r=n.message,new Error(r);case 3:if(this.client.session.keys.includes(t)){e.next=6;break}throw o=Object(O.s)("NO_MATCHING_KEY","session topic doesn't exist: ".concat(t)),c=o.message,new Error(c);case 6:if(!Object(O.C)(this.client.session.get(t).expiry)){e.next=11;break}return e.next=9,this.deleteSession(t);case 9:throw l=Object(O.s)("EXPIRED","session topic: ".concat(t)),f=l.message,new Error(f);case 11:case"end":return e.stop()}}),e,this)}))),function(e){return r.apply(this,arguments)})},{key:"isValidSessionOrPairingTopic",value:(n=Object(l.a)(regeneratorRuntime.mark((function e(t){var n,r,o,c;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.client.session.keys.includes(t)){e.next=5;break}return e.next=3,this.isValidSessionTopic(t);case 3:e.next=16;break;case 5:if(!this.client.core.pairing.pairings.keys.includes(t)){e.next=9;break}this.isValidPairingTopic(t),e.next=16;break;case 9:if(!Object(O.bb)(t,!1)){e.next=14;break}throw n=Object(O.s)("NO_MATCHING_KEY","session or pairing topic doesn't exist: ".concat(t)),r=n.message,new Error(r);case 14:throw o=Object(O.s)("MISSING_OR_INVALID","session or pairing topic should be a string: ".concat(t)),c=o.message,new Error(c);case 16:case"end":return e.stop()}}),e,this)}))),function(e){return n.apply(this,arguments)})},{key:"isValidProposalId",value:(t=Object(l.a)(regeneratorRuntime.mark((function e(t){var n,r,o,c,l,f;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Object(O.O)(t)){e.next=3;break}throw n=Object(O.s)("MISSING_OR_INVALID","proposal id should be a number: ".concat(t)),r=n.message,new Error(r);case 3:if(this.client.proposal.keys.includes(t)){e.next=6;break}throw o=Object(O.s)("NO_MATCHING_KEY","proposal id doesn't exist: ".concat(t)),c=o.message,new Error(c);case 6:if(!Object(O.C)(this.client.proposal.get(t).expiry)){e.next=11;break}return e.next=9,this.deleteProposal(t);case 9:throw l=Object(O.s)("EXPIRED","proposal id: ".concat(t)),f=l.message,new Error(f);case 11:case"end":return e.stop()}}),e,this)}))),function(e){return t.apply(this,arguments)})}]),v}(w.b),Z=function(e){Object(h.a)(n,e);var t=S(n);function n(e,r){var o;return Object(f.a)(this,n),(o=t.call(this,e,r,"proposal",P)).core=e,o.logger=r,o}return Object(d.a)(n)}(y.e),ee=function(e){Object(h.a)(n,e);var t=S(n);function n(e,r){var o;return Object(f.a)(this,n),(o=t.call(this,e,r,"session",P)).core=e,o.logger=r,o}return Object(d.a)(n)}(y.e),te=function(e){Object(h.a)(n,e);var t=S(n);function n(e,r){var o;return Object(f.a)(this,n),(o=t.call(this,e,r,"request",P,(function(s){return s.id}))).core=e,o.logger=r,o}return Object(d.a)(n)}(y.e),ne=function(e){Object(h.a)(v,e);var t,n,c=S(v);function v(e){var t;Object(f.a)(this,v),(t=c.call(this,e)).protocol="wc",t.version=2,t.name=A,t.events=new x.EventEmitter,t.on=function(s,e){return t.events.on(s,e)},t.once=function(s,e){return t.events.once(s,e)},t.off=function(s,e){return t.events.off(s,e)},t.removeListener=function(s,e){return t.events.removeListener(s,e)},t.removeAllListeners=function(s){return t.events.removeAllListeners(s)},t.connect=function(){var e=Object(l.a)(regeneratorRuntime.mark((function e(s){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.engine.connect(s);case 3:return e.abrupt("return",e.sent);case 6:throw e.prev=6,e.t0=e.catch(0),t.logger.error(e.t0.message),e.t0;case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}(),t.pair=function(){var e=Object(l.a)(regeneratorRuntime.mark((function e(s){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.engine.pair(s);case 3:return e.abrupt("return",e.sent);case 6:throw e.prev=6,e.t0=e.catch(0),t.logger.error(e.t0.message),e.t0;case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}(),t.approve=function(){var e=Object(l.a)(regeneratorRuntime.mark((function e(s){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.engine.approve(s);case 3:return e.abrupt("return",e.sent);case 6:throw e.prev=6,e.t0=e.catch(0),t.logger.error(e.t0.message),e.t0;case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}(),t.reject=function(){var e=Object(l.a)(regeneratorRuntime.mark((function e(s){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.engine.reject(s);case 3:return e.abrupt("return",e.sent);case 6:throw e.prev=6,e.t0=e.catch(0),t.logger.error(e.t0.message),e.t0;case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}(),t.update=function(){var e=Object(l.a)(regeneratorRuntime.mark((function e(s){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.engine.update(s);case 3:return e.abrupt("return",e.sent);case 6:throw e.prev=6,e.t0=e.catch(0),t.logger.error(e.t0.message),e.t0;case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}(),t.extend=function(){var e=Object(l.a)(regeneratorRuntime.mark((function e(s){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.engine.extend(s);case 3:return e.abrupt("return",e.sent);case 6:throw e.prev=6,e.t0=e.catch(0),t.logger.error(e.t0.message),e.t0;case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}(),t.request=function(){var e=Object(l.a)(regeneratorRuntime.mark((function e(s){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.engine.request(s);case 3:return e.abrupt("return",e.sent);case 6:throw e.prev=6,e.t0=e.catch(0),t.logger.error(e.t0.message),e.t0;case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}(),t.respond=function(){var e=Object(l.a)(regeneratorRuntime.mark((function e(s){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.engine.respond(s);case 3:return e.abrupt("return",e.sent);case 6:throw e.prev=6,e.t0=e.catch(0),t.logger.error(e.t0.message),e.t0;case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}(),t.ping=function(){var e=Object(l.a)(regeneratorRuntime.mark((function e(s){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.engine.ping(s);case 3:return e.abrupt("return",e.sent);case 6:throw e.prev=6,e.t0=e.catch(0),t.logger.error(e.t0.message),e.t0;case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}(),t.emit=function(){var e=Object(l.a)(regeneratorRuntime.mark((function e(s){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.engine.emit(s);case 3:return e.abrupt("return",e.sent);case 6:throw e.prev=6,e.t0=e.catch(0),t.logger.error(e.t0.message),e.t0;case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}(),t.disconnect=function(){var e=Object(l.a)(regeneratorRuntime.mark((function e(s){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.engine.disconnect(s);case 3:return e.abrupt("return",e.sent);case 6:throw e.prev=6,e.t0=e.catch(0),t.logger.error(e.t0.message),e.t0;case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}(),t.find=function(s){try{return t.engine.find(s)}catch(e){throw t.logger.error(e.message),e}},t.getPendingSessionRequests=function(){try{return t.engine.getPendingSessionRequests()}catch(e){throw t.logger.error(e.message),e}},t.name=(null==e?void 0:e.name)||A,t.metadata=(null==e?void 0:e.metadata)||Object(O.r)();var n=Object(r.a)(null==e?void 0:e.logger)<"u"&&"string"!=typeof(null==e?void 0:e.logger)?e.logger:Object(_.pino)(Object(_.getDefaultLoggerOptions)({level:(null==e?void 0:e.logger)||T}));return t.core=(null==e?void 0:e.core)||new y.a(e),t.logger=Object(_.generateChildLogger)(n,t.name),t.session=new ee(t.core,t.logger),t.proposal=new Z(t.core,t.logger),t.pendingRequest=new te(t.core,t.logger),t.engine=new Q(Object(o.a)(t)),t}return Object(d.a)(v,[{key:"context",get:function(){return Object(_.getLoggerContext)(this.logger)}},{key:"pairing",get:function(){return this.core.pairing.pairings}},{key:"initialize",value:(n=Object(l.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.logger.trace("Initialized"),e.prev=1,e.next=4,this.core.start();case 4:return e.next=6,this.session.init();case 6:return e.next=8,this.proposal.init();case 8:return e.next=10,this.pendingRequest.init();case 10:return e.next=12,this.engine.init();case 12:this.core.verify.init({verifyUrl:this.metadata.verifyUrl}),this.logger.info("SignClient Initialization Success"),e.next=19;break;case 16:throw e.prev=16,e.t0=e.catch(1),this.logger.info("SignClient Initialization Failure"),this.logger.error(e.t0.message),e.t0;case 19:case"end":return e.stop()}}),e,this,[[1,16]])}))),function(){return n.apply(this,arguments)})}],[{key:"init",value:(t=Object(l.a)(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=new v(t),e.next=3,n.initialize();case 3:return e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)}))),function(e){return t.apply(this,arguments)})}]),v}(w.h)},1342:function(e,t,n){"use strict";var r=n(113);n(68),n(35),n(1),n(36),n(87),n(93),Object.defineProperty(t,"__esModule",{value:!0}),t.getWindowMetadata=void 0;var o=n(1067);t.getWindowMetadata=function(){var e,t;try{e=o.getDocumentOrThrow(),t=o.getLocationOrThrow()}catch(e){return null}function n(){for(var t=arguments.length,n=new Array(t),o=0;o<t;o++)n[o]=arguments[o];for(var c=e.getElementsByTagName("meta"),l=function(){var e=c[i],t=["itemprop","property","name"].map((function(t){return e.getAttribute(t)})).filter((function(e){return!!e&&n.includes(e)}));if(t.length&&t){var content=e.getAttribute("content");if(content)return{v:content}}},i=0;i<c.length;i++){var f=l();if("object"===r(f))return f.v}return""}var c=function(){var t=n("name","og:site_name","og:title","twitter:title");return t||(t=e.title),t}();return{description:n("description","og:description","twitter:description","keywords"),url:t.origin,icons:function(){for(var n=e.getElementsByTagName("link"),r=[],i=0;i<n.length;i++){var link=n[i],o=link.getAttribute("rel");if(o&&o.toLowerCase().indexOf("icon")>-1){var c=link.getAttribute("href");if(c)if(-1===c.toLowerCase().indexOf("https:")&&-1===c.toLowerCase().indexOf("http:")&&0!==c.indexOf("//")){var l=t.protocol+"//"+t.host;if(0===c.indexOf("/"))l+=c;else{var path=t.pathname.split("/");path.pop(),l+=path.join("/")+"/"+c}r.push(l)}else if(0===c.indexOf("//")){var f=t.protocol+c;r.push(f)}else r.push(c)}}return r}(),name:c}}},1343:function(e,t,n){"use strict";n(7),n(39),n(77),n(42),n(69),n(41);var r=n(287),o=n(234),c=n(113),l=n(865);function f(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return d(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return d(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var i=0,r=function(){};return{s:r,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,c=!0,l=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return c=e.done,e},e:function(e){l=!0,o=e},f:function(){try{c||null==n.return||n.return()}finally{if(l)throw o}}}}function d(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,n=new Array(t);i<t;i++)n[i]=e[i];return n}n(32),n(61),n(1),n(21),n(68),n(8),n(22),n(87),n(93),n(36),n(232),n(189),n(31),n(49),n(14),n(540),n(266),n(35);var h=n(968),v=n(969),m=n(970),y=n(971),_=Symbol("encodeFragmentIdentifier");function w(e){if("string"!=typeof e||1!==e.length)throw new TypeError("arrayFormatSeparator must be single character string")}function O(e,t){return t.encode?t.strict?h(e):encodeURIComponent(e):e}function x(e,t){return t.decode?v(e):e}function E(input){return Array.isArray(input)?input.sort():"object"===c(input)?E(Object.keys(input)).sort((function(a,b){return Number(a)-Number(b)})).map((function(e){return input[e]})):input}function j(input){var e=input.indexOf("#");return-1!==e&&(input=input.slice(0,e)),input}function k(input){var e=(input=j(input)).indexOf("?");return-1===e?"":input.slice(e+1)}function S(e,t){return t.parseNumbers&&!Number.isNaN(Number(e))&&"string"==typeof e&&""!==e.trim()?e=Number(e):!t.parseBooleans||null===e||"true"!==e.toLowerCase()&&"false"!==e.toLowerCase()||(e="true"===e.toLowerCase()),e}function R(e,t){w((t=Object.assign({decode:!0,sort:!0,arrayFormat:"none",arrayFormatSeparator:",",parseNumbers:!1,parseBooleans:!1},t)).arrayFormatSeparator);var n=function(e){var t;switch(e.arrayFormat){case"index":return function(e,n,r){t=/\[(\d*)\]$/.exec(e),e=e.replace(/\[\d*\]$/,""),t?(void 0===r[e]&&(r[e]={}),r[e][t[1]]=n):r[e]=n};case"bracket":return function(e,n,r){t=/(\[\])$/.exec(e),e=e.replace(/\[\]$/,""),t?void 0!==r[e]?r[e]=[].concat(r[e],n):r[e]=[n]:r[e]=n};case"colon-list-separator":return function(e,n,r){t=/(:list)$/.exec(e),e=e.replace(/:list$/,""),t?void 0!==r[e]?r[e]=[].concat(r[e],n):r[e]=[n]:r[e]=n};case"comma":case"separator":return function(t,n,r){var o="string"==typeof n&&n.includes(e.arrayFormatSeparator),c="string"==typeof n&&!o&&x(n,e).includes(e.arrayFormatSeparator);n=c?x(n,e):n;var l=o||c?n.split(e.arrayFormatSeparator).map((function(t){return x(t,e)})):null===n?n:x(n,e);r[t]=l};case"bracket-separator":return function(t,n,r){var o=/(\[\])$/.test(t);if(t=t.replace(/\[\]$/,""),o){var c=null===n?[]:n.split(e.arrayFormatSeparator).map((function(t){return x(t,e)}));void 0!==r[t]?r[t]=[].concat(r[t],c):r[t]=c}else r[t]=n?x(n,e):n};default:return function(e,t,n){void 0!==n[e]?n[e]=[].concat(n[e],t):n[e]=t}}}(t),r=Object.create(null);if("string"!=typeof e)return r;if(!(e=e.trim().replace(/^[?#&]/,"")))return r;var l,d=f(e.split("&"));try{for(d.s();!(l=d.n()).done;){var param=l.value;if(""!==param){var h=m(t.decode?param.replace(/\+/g," "):param,"="),v=o(h,2),y=v[0],_=v[1];_=void 0===_?null:["comma","separator","bracket-separator"].includes(t.arrayFormat)?_:x(_,t),n(x(y,t),_,r)}}}catch(e){d.e(e)}finally{d.f()}for(var O=0,j=Object.keys(r);O<j.length;O++){var k=j[O],R=r[k];if("object"===c(R)&&null!==R)for(var C=0,I=Object.keys(R);C<I.length;C++){var P=I[C];R[P]=S(R[P],t)}else r[k]=S(R,t)}return!1===t.sort?r:(!0===t.sort?Object.keys(r).sort():Object.keys(r).sort(t.sort)).reduce((function(e,t){var n=r[t];return Boolean(n)&&"object"===c(n)&&!Array.isArray(n)?e[t]=E(n):e[t]=n,e}),Object.create(null))}t.extract=k,t.parse=R,t.stringify=function(object,e){if(!object)return"";w((e=Object.assign({encode:!0,strict:!0,arrayFormat:"none",arrayFormatSeparator:","},e)).arrayFormatSeparator);for(var t=function(t){return e.skipNull&&null==object[t]||e.skipEmptyString&&""===object[t]},n=function(e){switch(e.arrayFormat){case"index":return function(t){return function(n,r){var o=n.length;return void 0===r||e.skipNull&&null===r||e.skipEmptyString&&""===r?n:[].concat(l(n),null===r?[[O(t,e),"[",o,"]"].join("")]:[[O(t,e),"[",O(o,e),"]=",O(r,e)].join("")])}};case"bracket":return function(t){return function(n,r){return void 0===r||e.skipNull&&null===r||e.skipEmptyString&&""===r?n:[].concat(l(n),null===r?[[O(t,e),"[]"].join("")]:[[O(t,e),"[]=",O(r,e)].join("")])}};case"colon-list-separator":return function(t){return function(n,r){return void 0===r||e.skipNull&&null===r||e.skipEmptyString&&""===r?n:[].concat(l(n),null===r?[[O(t,e),":list="].join("")]:[[O(t,e),":list=",O(r,e)].join("")])}};case"comma":case"separator":case"bracket-separator":var t="bracket-separator"===e.arrayFormat?"[]=":"=";return function(n){return function(r,o){return void 0===o||e.skipNull&&null===o||e.skipEmptyString&&""===o?r:(o=null===o?"":o,0===r.length?[[O(n,e),t,O(o,e)].join("")]:[[r,O(o,e)].join(e.arrayFormatSeparator)])}};default:return function(t){return function(n,r){return void 0===r||e.skipNull&&null===r||e.skipEmptyString&&""===r?n:[].concat(l(n),null===r?[O(t,e)]:[[O(t,e),"=",O(r,e)].join("")])}}}}(e),r={},o=0,c=Object.keys(object);o<c.length;o++){var f=c[o];t(f)||(r[f]=object[f])}var d=Object.keys(r);return!1!==e.sort&&d.sort(e.sort),d.map((function(t){var r=object[t];return void 0===r?"":null===r?O(t,e):Array.isArray(r)?0===r.length&&"bracket-separator"===e.arrayFormat?O(t,e)+"[]":r.reduce(n(t),[]).join("&"):O(t,e)+"="+O(r,e)})).filter((function(e){return e.length>0})).join("&")},t.parseUrl=function(e,t){t=Object.assign({decode:!0},t);var n=m(e,"#"),r=o(n,2),c=r[0],l=r[1];return Object.assign({url:c.split("?")[0]||"",query:R(k(e),t)},t&&t.parseFragmentIdentifier&&l?{fragmentIdentifier:x(l,t)}:{})},t.stringifyUrl=function(object,e){e=Object.assign(r({encode:!0,strict:!0},_,!0),e);var n=j(object.url).split("?")[0]||"",o=t.extract(object.url),c=t.parse(o,{sort:!1}),l=Object.assign(c,object.query),f=t.stringify(l,e);f&&(f="?".concat(f));var d=function(e){var t="",n=e.indexOf("#");return-1!==n&&(t=e.slice(n)),t}(object.url);return object.fragmentIdentifier&&(d="#".concat(e[_]?O(object.fragmentIdentifier,e):object.fragmentIdentifier)),"".concat(n).concat(f).concat(d)},t.pick=function(input,filter,e){e=Object.assign(r({parseFragmentIdentifier:!0},_,!1),e);var n=t.parseUrl(input,e),o=n.url,c=n.query,l=n.fragmentIdentifier;return t.stringifyUrl({url:o,query:y(c,filter),fragmentIdentifier:l},e)},t.exclude=function(input,filter,e){var n=Array.isArray(filter)?function(e){return!filter.includes(e)}:function(e,t){return!filter(e,t)};return t.pick(input,n,e)}},1344:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return _}));n(14),n(21),n(39),n(1),n(8),n(68);var r=function(e,t,n){if(n||2===arguments.length)for(var r,i=0,o=t.length;i<o;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))},o=function(e,t,n){this.name=e,this.version=t,this.os=n,this.type="browser"},c=function(t){this.version=t,this.type="node",this.name="node",this.os=e.platform},l=function(e,t,n,r){this.name=e,this.version=t,this.os=n,this.bot=r,this.type="bot-device"},f=function(){this.type="bot",this.bot=!0,this.name="bot",this.version=null,this.os=null},d=function(){this.type="react-native",this.name="react-native",this.version=null,this.os=null},h=/(nuhk|curl|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask\ Jeeves\/Teoma|ia_archiver)/,v=3,m=[["aol",/AOLShield\/([0-9\._]+)/],["edge",/Edge\/([0-9\._]+)/],["edge-ios",/EdgiOS\/([0-9\._]+)/],["yandexbrowser",/YaBrowser\/([0-9\._]+)/],["kakaotalk",/KAKAOTALK\s([0-9\.]+)/],["samsung",/SamsungBrowser\/([0-9\.]+)/],["silk",/\bSilk\/([0-9._-]+)\b/],["miui",/MiuiBrowser\/([0-9\.]+)$/],["beaker",/BeakerBrowser\/([0-9\.]+)/],["edge-chromium",/EdgA?\/([0-9\.]+)/],["chromium-webview",/(?!Chrom.*OPR)wv\).*Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["chrome",/(?!Chrom.*OPR)Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["phantomjs",/PhantomJS\/([0-9\.]+)(:?\s|$)/],["crios",/CriOS\/([0-9\.]+)(:?\s|$)/],["firefox",/Firefox\/([0-9\.]+)(?:\s|$)/],["fxios",/FxiOS\/([0-9\.]+)/],["opera-mini",/Opera Mini.*Version\/([0-9\.]+)/],["opera",/Opera\/([0-9\.]+)(?:\s|$)/],["opera",/OPR\/([0-9\.]+)(:?\s|$)/],["pie",/^Microsoft Pocket Internet Explorer\/(\d+\.\d+)$/],["pie",/^Mozilla\/\d\.\d+\s\(compatible;\s(?:MSP?IE|MSInternet Explorer) (\d+\.\d+);.*Windows CE.*\)$/],["netfront",/^Mozilla\/\d\.\d+.*NetFront\/(\d.\d)/],["ie",/Trident\/7\.0.*rv\:([0-9\.]+).*\).*Gecko$/],["ie",/MSIE\s([0-9\.]+);.*Trident\/[4-7].0/],["ie",/MSIE\s(7\.0)/],["bb10",/BB10;\sTouch.*Version\/([0-9\.]+)/],["android",/Android\s([0-9\.]+)/],["ios",/Version\/([0-9\._]+).*Mobile.*Safari.*/],["safari",/Version\/([0-9\._]+).*Safari/],["facebook",/FB[AS]V\/([0-9\.]+)/],["instagram",/Instagram\s([0-9\.]+)/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Mobile/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Gecko\)$/],["curl",/^curl\/([0-9\.]+)$/],["searchbot",/alexa|bot|crawl(er|ing)|facebookexternalhit|feedburner|google web preview|nagios|postrank|pingdom|slurp|spider|yahoo!|yandex/]],y=[["iOS",/iP(hone|od|ad)/],["Android OS",/Android/],["BlackBerry OS",/BlackBerry|BB10/],["Windows Mobile",/IEMobile/],["Amazon OS",/Kindle/],["Windows 3.11",/Win16/],["Windows 95",/(Windows 95)|(Win95)|(Windows_95)/],["Windows 98",/(Windows 98)|(Win98)/],["Windows 2000",/(Windows NT 5.0)|(Windows 2000)/],["Windows XP",/(Windows NT 5.1)|(Windows XP)/],["Windows Server 2003",/(Windows NT 5.2)/],["Windows Vista",/(Windows NT 6.0)/],["Windows 7",/(Windows NT 6.1)/],["Windows 8",/(Windows NT 6.2)/],["Windows 8.1",/(Windows NT 6.3)/],["Windows 10",/(Windows NT 10.0)/],["Windows ME",/Windows ME/],["Windows CE",/Windows CE|WinCE|Microsoft Pocket Internet Explorer/],["Open BSD",/OpenBSD/],["Sun OS",/SunOS/],["Chrome OS",/CrOS/],["Linux",/(Linux)|(X11)/],["Mac OS",/(Mac_PowerPC)|(Macintosh)/],["QNX",/QNX/],["BeOS",/BeOS/],["OS/2",/OS\/2/]];function _(t){return t?O(t):"undefined"==typeof document&&"undefined"!=typeof navigator&&"ReactNative"===navigator.product?new d:"undefined"!=typeof navigator?O(navigator.userAgent):void 0!==e&&e.version?new c(e.version.slice(1)):null}function w(e){return""!==e&&m.reduce((function(t,n){var r=n[0],o=n[1];if(t)return t;var c=o.exec(e);return!!c&&[r,c]}),!1)}function O(e){var t=w(e);if(!t)return null;var n=t[0],c=t[1];if("searchbot"===n)return new f;var d=c[1]&&c[1].split(".").join("_").split("_").slice(0,3);d?d.length<v&&(d=r(r([],d,!0),function(e){for(var output=[],t=0;t<e;t++)output.push("0");return output}(v-d.length),!0)):d=[];var m=d.join("."),_=function(e){for(var t=0,n=y.length;t<n;t++){var r=y[t],o=r[0];if(r[1].exec(e))return o}return null}(e),O=h.exec(e);return O&&O[1]?new l(n,m,_,O[1]):new o(n,m,_)}}).call(this,n(51))},1345:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return Tn})),n.d(t,"b",(function(){return Vt})),n.d(t,"c",(function(){return rt})),n.d(t,"d",(function(){return g})),n.d(t,"e",(function(){return wn}));n(48),n(8),n(61),n(69),n(188);var r=n(400),o=n(191),c=n(124),l=n(125),f=n(75),d=n(12),h=n(13),v=n(6),m=n(55),y=n(56),_=(n(74),n(141),n(1),n(165),n(142),n(143),n(144),n(145),n(146),n(147),n(148),n(149),n(150),n(151),n(152),n(153),n(154),n(155),n(156),n(157),n(158),n(159),n(160),n(161),n(162),n(163),n(164),n(1346),n(857),n(350),n(538),n(39),n(21),n(974),n(14),n(31),n(397),n(77),n(42),n(829),n(192),n(193),n(194),n(195),n(196),n(197),n(198),n(199),n(200),n(201),n(202),n(203),n(204),n(205),n(41),n(7),n(57),n(30),n(36),n(87),n(93),n(35),n(52),n(32),n(335),n(411),n(268),n(269),n(270),n(271),n(272),n(273),n(274),n(275),n(276),n(277),n(278),n(279),n(280),n(281),n(282),n(283),n(284),n(94)),w=n.n(_),O=n(1347),x=n.n(O),E=n(1354),j=n(957),k=n(1074),S=n(1358),R=n(1359),C=n(1066),I=n(895),P=n(833),A=n(1082),T=n(876),N=n(1404),U=n(1364),M=n.n(U);function L(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Object(f.a)(e);if(t){var o=Object(f.a)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Object(l.a)(this,n)}}function D(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return $(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return $(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var i=0,r=function(){};return{s:r,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,c=!0,l=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return c=e.done,e},e:function(e){l=!0,o=e},f:function(){try{c||null==n.return||n.return()}finally{if(l)throw o}}}}function $(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,n=new Array(t);i<t;i++)n[i]=e[i];return n}function H(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,n)}return t}function B(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?H(Object(source),!0).forEach((function(t){Object(v.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):H(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}var F=function(e,t){if(e.length>=255)throw new TypeError("Alphabet too long");for(var n=new Uint8Array(256),i=0;i<n.length;i++)n[i]=255;for(var s=0;s<e.length;s++){var r=e.charAt(s),a=r.charCodeAt(0);if(255!==n[a])throw new TypeError(r+" is ambiguous");n[a]=s}var o=e.length,c=e.charAt(0),l=Math.log(o)/Math.log(256),f=Math.log(256)/Math.log(o);function d(u){if("string"!=typeof u)throw new TypeError("Expected String");if(0===u.length)return new Uint8Array;var e=0;if(" "!==u[e]){for(var t=0,r=0;u[e]===c;)t++,e++;for(var f=(u.length-e)*l+1>>>0,d=new Uint8Array(f);u[e];){var h=n[u.charCodeAt(e)];if(255===h)return;for(var v=0,m=f-1;(0!==h||v<r)&&-1!==m;m--,v++)h+=o*d[m]>>>0,d[m]=h%256>>>0,h=h/256>>>0;if(0!==h)throw new Error("Non-zero carry");r=v,e++}if(" "!==u[e]){for(var y=f-r;y!==f&&0===d[y];)y++;for(var _=new Uint8Array(t+(f-y)),w=t;y!==f;)_[w++]=d[y++];return _}}}return{encode:function(u){if(u instanceof Uint8Array||(ArrayBuffer.isView(u)?u=new Uint8Array(u.buffer,u.byteOffset,u.byteLength):Array.isArray(u)&&(u=Uint8Array.from(u))),!(u instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(0===u.length)return"";for(var t=0,n=0,r=0,l=u.length;r!==l&&0===u[r];)r++,t++;for(var d=(l-r)*f+1>>>0,h=new Uint8Array(d);r!==l;){for(var v=u[r],m=0,y=d-1;(0!==v||m<n)&&-1!==y;y--,m++)v+=256*h[y]>>>0,h[y]=v%o>>>0,v=v/o>>>0;if(0!==v)throw new Error("Non-zero carry");n=m,r++}for(var _=d-n;_!==d&&0===h[_];)_++;for(var w=c.repeat(t);_<d;++_)w+=e.charAt(h[_]);return w},decodeUnsafe:d,decode:function(u){var e=d(u);if(e)return e;throw new Error("Non-".concat(t," character"))}}},V=function(e){if(e instanceof Uint8Array&&"Uint8Array"===e.constructor.name)return e;if(e instanceof ArrayBuffer)return new Uint8Array(e);if(ArrayBuffer.isView(e))return new Uint8Array(e.buffer,e.byteOffset,e.byteLength);throw new Error("Unknown type, must be binary type")},W=function(){function e(t,n,i){Object(m.a)(this,e),this.name=t,this.prefix=n,this.baseEncode=i}return Object(y.a)(e,[{key:"encode",value:function(e){if(e instanceof Uint8Array)return"".concat(this.prefix).concat(this.baseEncode(e));throw Error("Unknown type, must be binary type")}}]),e}(),z=function(){function e(t,n,i){if(Object(m.a)(this,e),this.name=t,this.prefix=n,void 0===n.codePointAt(0))throw new Error("Invalid prefix character");this.prefixCodePoint=n.codePointAt(0),this.baseDecode=i}return Object(y.a)(e,[{key:"decode",value:function(e){if("string"==typeof e){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error("Unable to decode multibase string ".concat(JSON.stringify(e),", ").concat(this.name," decoder only supports inputs prefixed with ").concat(this.prefix));return this.baseDecode(e.slice(this.prefix.length))}throw Error("Can only multibase decode strings")}},{key:"or",value:function(e){return G(this,e)}}]),e}(),K=function(){function e(t){Object(m.a)(this,e),this.decoders=t}return Object(y.a)(e,[{key:"or",value:function(e){return G(this,e)}},{key:"decode",value:function(e){var t=e[0],i=this.decoders[t];if(i)return i.decode(e);throw RangeError("Unable to decode multibase string ".concat(JSON.stringify(e),", only inputs prefixed with ").concat(Object.keys(this.decoders)," are supported"))}}]),e}(),G=function(e,t){return new K(B(B({},e.decoders||Object(v.a)({},e.prefix,e)),t.decoders||Object(v.a)({},t.prefix,t)))},J=function(){function e(t,n,i,s){Object(m.a)(this,e),this.name=t,this.prefix=n,this.baseEncode=i,this.baseDecode=s,this.encoder=new W(t,n,i),this.decoder=new z(t,n,s)}return Object(y.a)(e,[{key:"encode",value:function(e){return this.encoder.encode(e)}},{key:"decode",value:function(e){return this.decoder.decode(e)}}]),e}(),Y=function(e){var t=e.name,n=e.prefix,r=e.encode,i=e.decode;return new J(t,n,r,i)},X=function(e){var t=e.prefix,n=e.name,r=e.alphabet,o=F(r,n),i=o.encode,s=o.decode;return Y({prefix:t,name:n,encode:i,decode:function(e){return V(s(e))}})},p=function(e){var t=e.name,n=e.prefix,r=e.bitsPerChar,i=e.alphabet;return Y({prefix:n,name:t,encode:function(s){return function(e,t,n){for(var i="="===t[t.length-1],s=(1<<n)-1,r="",a=0,o=0,c=0;c<e.length;++c)for(o=o<<8|e[c],a+=8;a>n;)r+=t[s&o>>(a-=n)];if(a&&(r+=t[s&o<<n-a]),i)for(;r.length*n&7;)r+="=";return r}(s,i,r)},decode:function(s){return function(e,t,n,i){for(var s={},r=0;r<t.length;++r)s[t[r]]=r;for(var o=e.length;"="===e[o-1];)--o;for(var a=new Uint8Array(o*n/8|0),c=0,l=0,f=0,d=0;d<o;++d){var b=s[e[d]];if(void 0===b)throw new SyntaxError("Non-".concat(i," character"));l=l<<n|b,(c+=n)>=8&&(c-=8,a[f++]=255&l>>c)}if(c>=n||255&l<<8-c)throw new SyntaxError("Unexpected end of data");return a}(s,i,r,t)}})},Q=Y({prefix:"\0",name:"identity",encode:function(e){return function(e){return(new TextDecoder).decode(e)}(e)},decode:function(e){return function(e){return(new TextEncoder).encode(e)}(e)}}),Z=Object.freeze({__proto__:null,identity:Q}),ee=p({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1}),te=Object.freeze({__proto__:null,base2:ee}),ne=p({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3}),re=Object.freeze({__proto__:null,base8:ne}),ie=X({prefix:"9",name:"base10",alphabet:"0123456789"}),oe=Object.freeze({__proto__:null,base10:ie}),ae=p({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),se=p({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4}),ce=Object.freeze({__proto__:null,base16:ae,base16upper:se}),ue=p({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),le=p({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),fe=p({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),pe=p({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),de=p({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),he=p({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),ve=p({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),me=p({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),ge=p({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5}),be=Object.freeze({__proto__:null,base32:ue,base32upper:le,base32pad:fe,base32padupper:pe,base32hex:de,base32hexupper:he,base32hexpad:ve,base32hexpadupper:me,base32z:ge}),ye=X({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),_e=X({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"}),we=Object.freeze({__proto__:null,base36:ye,base36upper:_e}),Oe=X({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),xe=X({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"}),Ee=Object.freeze({__proto__:null,base58btc:Oe,base58flickr:xe}),je=p({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),ke=p({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),Se=p({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),Re=p({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6}),Ce=Object.freeze({__proto__:null,base64:je,base64pad:ke,base64url:Se,base64urlpad:Re}),Ie=Array.from("🚀🪐☄🛰🌌🌑🌒🌓🌔🌕🌖🌗🌘🌍🌏🌎🐉☀💻🖥💾💿😂❤😍🤣😊🙏💕😭😘👍😅👏😁🔥🥰💔💖💙😢🤔😆🙄💪😉☺👌🤗💜😔😎😇🌹🤦🎉💞✌✨🤷😱😌🌸🙌😋💗💚😏💛🙂💓🤩😄😀🖤😃💯🙈👇🎶😒🤭❣😜💋👀😪😑💥🙋😞😩😡🤪👊🥳😥🤤👉💃😳✋😚😝😴🌟😬🙃🍀🌷😻😓⭐✅🥺🌈😈🤘💦✔😣🏃💐☹🎊💘😠☝😕🌺🎂🌻😐🖕💝🙊😹🗣💫💀👑🎵🤞😛🔴😤🌼😫⚽🤙☕🏆🤫👈😮🙆🍻🍃🐶💁😲🌿🧡🎁⚡🌞🎈❌✊👋😰🤨😶🤝🚶💰🍓💢🤟🙁🚨💨🤬✈🎀🍺🤓😙💟🌱😖👶🥴▶➡❓💎💸⬇😨🌚🦋😷🕺⚠🙅😟😵👎🤲🤠🤧📌🔵💅🧐🐾🍒😗🤑🌊🤯🐷☎💧😯💆👆🎤🙇🍑❄🌴💣🐸💌📍🥀🤢👅💡💩👐📸👻🤐🤮🎼🥵🚩🍎🍊👼💍📣🥂"),Pe=Ie.reduce((function(e,t,n){return e[n]=t,e}),[]),Ae=Ie.reduce((function(e,t,n){return e[t.codePointAt(0)]=n,e}),[]);var Te=Y({prefix:"🚀",name:"base256emoji",encode:function(e){return e.reduce((function(e,t){return e+=Pe[t]}),"")},decode:function(e){var t,n=[],r=D(e);try{for(r.s();!(t=r.n()).done;){var o=t.value,i=Ae[o.codePointAt(0)];if(void 0===i)throw new Error("Non-base256emoji character: ".concat(o));n.push(i)}}catch(e){r.e(e)}finally{r.f()}return new Uint8Array(n)}}),Ne=Object.freeze({__proto__:null,base256emoji:Te}),Ue=function e(t,n,r){n=n||[];for(var i=r=r||0;t>=De;)n[r++]=255&t|Me,t/=128;for(;t&Le;)n[r++]=255&t|Me,t>>>=7;return n[r]=0|t,e.bytes=r-i+1,n},Me=128,Le=-128,De=Math.pow(2,31);var $e=function e(t,i){var a,n=0,s=0,r=i=i||0,o=t.length;do{if(r>=o)throw e.bytes=0,new RangeError("Could not decode varint");a=t[r++],n+=s<28?(a&qe)<<s:(a&qe)*Math.pow(2,s),s+=7}while(a>=He);return e.bytes=r-i,n},He=128,qe=127;var Be=Math.pow(2,7),Fe=Math.pow(2,14),Ve=Math.pow(2,21),We=Math.pow(2,28),ze=Math.pow(2,35),Ke=Math.pow(2,42),Ge=Math.pow(2,49),Je=Math.pow(2,56),Ye=Math.pow(2,63),Xe={encode:Ue,decode:$e,encodingLength:function(e){return e<Be?1:e<Fe?2:e<Ve?3:e<We?4:e<ze?5:e<Ke?6:e<Ge?7:e<Je?8:e<Ye?9:10}},Qe=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return Xe.encode(e,t,n),t},Ze=function(e){return Xe.encodingLength(e)},et=function(e,t){var n=t.byteLength,i=Ze(e),s=i+Ze(n),r=new Uint8Array(s+n);return Qe(e,r,0),Qe(n,r,i),r.set(t,s),new tt(e,n,t,r)},tt=Object(y.a)((function e(t,n,i,s){Object(m.a)(this,e),this.code=t,this.size=n,this.digest=i,this.bytes=s})),nt=function(e){var t=e.name,n=e.code,r=e.encode;return new it(t,n,r)},it=function(){function e(t,n,i){Object(m.a)(this,e),this.name=t,this.code=n,this.encode=i}return Object(y.a)(e,[{key:"digest",value:function(e){var t=this;if(e instanceof Uint8Array){var n=this.encode(e);return n instanceof Uint8Array?et(this.code,n):n.then((function(i){return et(t.code,i)}))}throw Error("Unknown type, must be binary type")}}]),e}(),ot=function(e){return function(){var t=Object(h.a)(regeneratorRuntime.mark((function t(n){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=Uint8Array,t.next=3,crypto.subtle.digest(e,n);case 3:return t.t1=t.sent,t.abrupt("return",new t.t0(t.t1));case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},at=nt({name:"sha2-256",code:18,encode:ot("SHA-256")}),st=nt({name:"sha2-512",code:19,encode:ot("SHA-512")}),ct=Object.freeze({__proto__:null,sha256:at,sha512:st}),ut=V,lt={code:0,name:"identity",encode:ut,digest:function(e){return et(0,ut(e))}},ft=Object.freeze({__proto__:null,identity:lt});new TextEncoder,new TextDecoder;var pt=B(B(B(B(B(B(B(B(B(B({},Z),te),re),oe),ce),be),we),Ee),Ce),Ne);function ht(e){return null!=globalThis.Buffer?new Uint8Array(e.buffer,e.byteOffset,e.byteLength):e}function vt(e,t,n,i){return{name:e,prefix:t,encoder:{name:e,prefix:t,encode:n},decoder:{decode:i}}}B(B({},ct),ft);var mt=vt("utf8","u",(function(e){return"u"+new TextDecoder("utf8").decode(e)}),(function(e){return(new TextEncoder).encode(e.substring(1))})),gt=vt("ascii","a",(function(e){for(var t="a",n=0;n<e.length;n++)t+=String.fromCharCode(e[n]);return t}),(function(e){for(var t=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return null!=globalThis.Buffer&&null!=globalThis.Buffer.allocUnsafe?ht(globalThis.Buffer.allocUnsafe(e)):new Uint8Array(e)}((e=e.substring(1)).length),n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t})),bt=B({utf8:mt,"utf-8":mt,hex:pt.base16,latin1:gt,ascii:gt,binary:gt},pt);function yt(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"utf8",n=bt[t];if(!n)throw new Error('Unsupported encoding "'.concat(t,'"'));return"utf8"!==t&&"utf-8"!==t||null==globalThis.Buffer||null==globalThis.Buffer.from?n.decoder.decode("".concat(n.prefix).concat(e)):ht(globalThis.Buffer.from(e,"utf-8"))}var _t="core",wt="".concat("wc","@2:").concat(_t,":"),Ot="error",xt={database:":memory:"},Et="client_ed25519_seed",jt=P.ONE_DAY,kt=P.SIX_HOURS,rt="irn",St="wss://relay.walletconnect.com",Rt="wss://relay.walletconnect.org",g={message:"relayer_message",message_ack:"relayer_message_ack",connect:"relayer_connect",disconnect:"relayer_disconnect",error:"relayer_error",connection_stalled:"relayer_connection_stalled",transport_closed:"relayer_transport_closed",publish:"relayer_publish"},Ct="payload",It="connect",Pt="disconnect",At="error",Tt=P.ONE_SECOND/2,Nt="subscription_created",Ut="subscription_deleted",Mt="subscription_sync",Lt="subscription_resubscribed",Dt=(P.THIRTY_DAYS,1e3*P.FIVE_SECONDS),$t=(P.THIRTY_DAYS,{wc_pairingDelete:{req:{ttl:P.ONE_DAY,prompt:!1,tag:1e3},res:{ttl:P.ONE_DAY,prompt:!1,tag:1001}},wc_pairingPing:{req:{ttl:P.THIRTY_SECONDS,prompt:!1,tag:1002},res:{ttl:P.THIRTY_SECONDS,prompt:!1,tag:1003}},unregistered_method:{req:{ttl:P.ONE_DAY,prompt:!1,tag:0},res:{ttl:P.ONE_DAY,prompt:!1,tag:0}}}),Ht="history_created",qt="history_updated",Bt="history_deleted",Ft="history_sync",Vt={created:"expirer_created",deleted:"expirer_deleted",expired:"expirer_expired",sync:"expirer_sync"},Wt=(P.ONE_DAY,"verify-api"),zt="https://verify.walletconnect.com",Kt=function(){function e(t,n){var r=this;Object(m.a)(this,e),this.core=t,this.logger=n,this.keychain=new Map,this.name="keychain",this.version="0.3",this.initialized=!1,this.storagePrefix=wt,this.init=Object(h.a)(regeneratorRuntime.mark((function e(){var i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r.initialized){e.next=5;break}return e.next=3,r.getKeyChain();case 3:i=e.sent,Object(d.a)(i)<"u"&&(r.keychain=i),r.initialized=!0;case 5:case"end":return e.stop()}}),e)}))),this.has=function(i){return r.isInitialized(),r.keychain.has(i)},this.set=function(){var e=Object(h.a)(regeneratorRuntime.mark((function e(i,s){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r.isInitialized(),r.keychain.set(i,s),e.next=4,r.persist();case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),this.get=function(i){r.isInitialized();var s=r.keychain.get(i);if(Object(d.a)(s)>"u"){var e=Object(C.s)("NO_MATCHING_KEY","".concat(r.name,": ").concat(i)).message;throw new Error(e)}return s},this.del=function(){var e=Object(h.a)(regeneratorRuntime.mark((function e(i){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r.isInitialized(),r.keychain.delete(i),e.next=4,r.persist();case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.core=t,this.logger=Object(j.generateChildLogger)(n,this.name)}var t,n,r;return Object(y.a)(e,[{key:"context",get:function(){return Object(j.getLoggerContext)(this.logger)}},{key:"storageKey",get:function(){return this.storagePrefix+this.version+"//"+this.name}},{key:"setKeyChain",value:(r=Object(h.a)(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.core.storage.setItem(this.storageKey,Object(C.db)(t));case 2:case"end":return e.stop()}}),e,this)}))),function(e){return r.apply(this,arguments)})},{key:"getKeyChain",value:(n=Object(h.a)(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.core.storage.getItem(this.storageKey);case 2:return t=e.sent,e.abrupt("return",Object(d.a)(t)<"u"?Object(C.eb)(t):void 0);case 4:case"end":return e.stop()}}),e,this)}))),function(){return n.apply(this,arguments)})},{key:"persist",value:(t=Object(h.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.setKeyChain(this.keychain);case 2:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})},{key:"isInitialized",value:function(){if(!this.initialized){var e=Object(C.s)("NOT_INITIALIZED",this.name).message;throw new Error(e)}}}]),e}(),Gt=function(){function e(t,n,i){var r=this;Object(m.a)(this,e),this.core=t,this.logger=n,this.name="crypto",this.initialized=!1,this.init=Object(h.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=r.initialized,e.t0){e.next=5;break}return e.next=4,r.keychain.init();case 4:r.initialized=!0;case 5:case"end":return e.stop()}}),e)}))),this.hasKeys=function(s){return r.isInitialized(),r.keychain.has(s)},this.getClientId=Object(h.a)(regeneratorRuntime.mark((function e(){var s,t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r.isInitialized(),e.next=3,r.getClientSeed();case 3:return s=e.sent,t=R.generateKeyPair(s),e.abrupt("return",R.encodeIss(t.publicKey));case 6:case"end":return e.stop()}}),e)}))),this.generateKeyPair=function(){r.isInitialized();var s=Object(C.p)();return r.setPrivateKey(s.publicKey,s.privateKey)},this.signJWT=function(){var e=Object(h.a)(regeneratorRuntime.mark((function e(s){var t,a,n,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r.isInitialized(),e.next=3,r.getClientSeed();case 3:return t=e.sent,a=R.generateKeyPair(t),n=Object(C.q)(),o=jt,e.next=9,R.signJWT(n,s,o,a);case 9:return e.abrupt("return",e.sent);case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.generateSharedKey=function(s,e,a){r.isInitialized();var t=r.getPrivateKey(s),n=Object(C.h)(t,e);return r.setSymKey(n,a)},this.setSymKey=function(){var e=Object(h.a)(regeneratorRuntime.mark((function e(s,t){var a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r.isInitialized(),a=t||Object(C.y)(s),e.next=4,r.keychain.set(a,s);case 4:return e.abrupt("return",a);case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),this.deleteKeyPair=function(){var e=Object(h.a)(regeneratorRuntime.mark((function e(s){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r.isInitialized(),e.next=3,r.keychain.del(s);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.deleteSymKey=function(){var e=Object(h.a)(regeneratorRuntime.mark((function e(s){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r.isInitialized(),e.next=3,r.keychain.del(s);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.encode=function(){var e=Object(h.a)(regeneratorRuntime.mark((function e(s,t,a){var n,o,c,l,f,d,b;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r.isInitialized(),n=Object(C.ib)(a),o=Object(S.b)(t),!Object(C.I)(n)){e.next=7;break}return c=n.senderPublicKey,l=n.receiverPublicKey,e.next=6,r.generateSharedKey(c,l);case 6:s=e.sent;case 7:return f=r.getSymKey(s),d=n.type,b=n.senderPublicKey,e.abrupt("return",Object(C.j)({type:d,symKey:f,message:o,senderPublicKey:b}));case 9:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),this.decode=function(){var e=Object(h.a)(regeneratorRuntime.mark((function e(s,t,a){var n,o,c,l,f;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r.isInitialized(),n=Object(C.hb)(t,a),!Object(C.I)(n)){e.next=7;break}return o=n.receiverPublicKey,c=n.senderPublicKey,e.next=6,r.generateSharedKey(o,c);case 6:s=e.sent;case 7:return e.prev=7,l=r.getSymKey(s),f=Object(C.g)({symKey:l,encoded:t}),e.abrupt("return",Object(S.a)(f));case 12:return e.prev=12,e.t0=e.catch(7),e.t1=r.logger,e.t2="Failed to decode message from topic: '".concat(s,"', clientId: '"),e.next=18,r.getClientId();case 18:e.t3=e.sent,e.t4=e.t2.concat.call(e.t2,e.t3,"'"),e.t1.error.call(e.t1,e.t4),r.logger.error(e.t0);case 22:case"end":return e.stop()}}),e,null,[[7,12]])})));return function(t,n,r){return e.apply(this,arguments)}}(),this.getPayloadType=function(s){var e=Object(C.i)(s);return Object(C.f)(e.type)},this.getPayloadSenderPublicKey=function(s){var e=Object(C.i)(s);return e.senderPublicKey?Object(I.toString)(e.senderPublicKey,C.a):void 0},this.core=t,this.logger=Object(j.generateChildLogger)(n,this.name),this.keychain=i||new Kt(this.core,this.logger)}var t,n;return Object(y.a)(e,[{key:"context",get:function(){return Object(j.getLoggerContext)(this.logger)}},{key:"setPrivateKey",value:(n=Object(h.a)(regeneratorRuntime.mark((function e(t,n){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.keychain.set(t,n);case 2:return e.abrupt("return",t);case 3:case"end":return e.stop()}}),e,this)}))),function(e,t){return n.apply(this,arguments)})},{key:"getPrivateKey",value:function(e){return this.keychain.get(e)}},{key:"getClientSeed",value:(t=Object(h.a)(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t="",e.prev=1,t=this.keychain.get(Et),e.next=10;break;case 5:return e.prev=5,e.t0=e.catch(1),t=Object(C.q)(),e.next=10,this.keychain.set(Et,t);case 10:return e.abrupt("return",yt(t,"base16"));case 11:case"end":return e.stop()}}),e,this,[[1,5]])}))),function(){return t.apply(this,arguments)})},{key:"getSymKey",value:function(e){return this.keychain.get(e)}},{key:"isInitialized",value:function(){if(!this.initialized){var e=Object(C.s)("NOT_INITIALIZED",this.name).message;throw new Error(e)}}}]),e}(),Jt=function(e){Object(c.a)(l,e);var t,n,r,o=L(l);function l(e,t){var n;return Object(m.a)(this,l),(n=o.call(this,e,t)).logger=e,n.core=t,n.messages=new Map,n.name="messages",n.version="0.3",n.initialized=!1,n.storagePrefix=wt,n.init=Object(h.a)(regeneratorRuntime.mark((function e(){var i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.initialized){e.next=15;break}return n.logger.trace("Initialized"),e.prev=2,e.next=5,n.getRelayerMessages();case 5:i=e.sent,Object(d.a)(i)<"u"&&(n.messages=i),n.logger.debug("Successfully Restored records for ".concat(n.name)),n.logger.trace({type:"method",method:"restore",size:n.messages.size}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(2),n.logger.debug("Failed to Restore records for ".concat(n.name)),n.logger.error(e.t0);case 12:return e.prev=12,n.initialized=!0,e.finish(12);case 15:case"end":return e.stop()}}),e,null,[[2,9,12,15]])}))),n.set=function(){var e=Object(h.a)(regeneratorRuntime.mark((function e(i,s){var t,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.isInitialized(),t=Object(C.z)(s),a=n.messages.get(i),Object(d.a)(a)>"u"&&(a={}),e.t0=Object(d.a)(a[t])<"u",e.t0){e.next=10;break}return a[t]=s,n.messages.set(i,a),e.next=10,n.persist();case 10:return e.abrupt("return",t);case 11:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),n.get=function(i){n.isInitialized();var s=n.messages.get(i);return Object(d.a)(s)>"u"&&(s={}),s},n.has=function(i,s){n.isInitialized();var e=n.get(i),a=Object(C.z)(s);return Object(d.a)(e[a])<"u"},n.del=function(){var e=Object(h.a)(regeneratorRuntime.mark((function e(i){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.isInitialized(),n.messages.delete(i),e.next=4,n.persist();case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.logger=Object(j.generateChildLogger)(e,n.name),n.core=t,n}return Object(y.a)(l,[{key:"context",get:function(){return Object(j.getLoggerContext)(this.logger)}},{key:"storageKey",get:function(){return this.storagePrefix+this.version+"//"+this.name}},{key:"setRelayerMessages",value:(r=Object(h.a)(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.core.storage.setItem(this.storageKey,Object(C.db)(t));case 2:case"end":return e.stop()}}),e,this)}))),function(e){return r.apply(this,arguments)})},{key:"getRelayerMessages",value:(n=Object(h.a)(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.core.storage.getItem(this.storageKey);case 2:return t=e.sent,e.abrupt("return",Object(d.a)(t)<"u"?Object(C.eb)(t):void 0);case 4:case"end":return e.stop()}}),e,this)}))),function(){return n.apply(this,arguments)})},{key:"persist",value:(t=Object(h.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.setRelayerMessages(this.messages);case 2:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})},{key:"isInitialized",value:function(){if(!this.initialized){var e=Object(C.s)("NOT_INITIALIZED",this.name).message;throw new Error(e)}}}]),l}(k.e),Yt=function(e){Object(c.a)(n,e);var t=L(n);function n(e,r){var o;return Object(m.a)(this,n),(o=t.call(this,e,r)).relayer=e,o.logger=r,o.events=new _.EventEmitter,o.name="publisher",o.queue=new Map,o.publishTimeout=Object(P.toMiliseconds)(P.TEN_SECONDS),o.queueTimeout=Object(P.toMiliseconds)(P.FIVE_SECONDS),o.needsTransportRestart=!1,o.publish=function(){var e=Object(h.a)(regeneratorRuntime.mark((function e(i,s,t){var a,n,r,c,l,b,f;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o.logger.debug("Publishing Payload"),o.logger.trace({type:"method",method:"publish",params:{topic:i,message:s,opts:t}}),e.prev=1,a=(null==t?void 0:t.ttl)||kt,n=Object(C.u)(t),r=(null==t?void 0:t.prompt)||!1,c=(null==t?void 0:t.tag)||0,l=(null==t?void 0:t.id)||Object(T.getBigIntRpcId)().toString(),b={topic:i,message:s,opts:{ttl:a,relay:n,prompt:r,tag:c,id:l}},f=setTimeout((function(){return o.queue.set(l,b)}),o.queueTimeout),e.prev=3,e.next=6,Object(C.e)(o.rpcPublish(i,s,a,n,r,c,l),o.publishTimeout);case 6:return e.next=8,e.sent;case 8:clearTimeout(f),o.relayer.events.emit(g.publish,b),e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(3),o.logger.debug("Publishing Payload stalled"),o.needsTransportRestart=!0,e.abrupt("return");case 16:o.logger.debug("Successfully Published Payload"),o.logger.trace({type:"method",method:"publish",params:{topic:i,message:s,opts:t}}),e.next=22;break;case 19:throw e.prev=19,e.t1=e.catch(1),o.logger.debug("Failed to Publish Payload"),o.logger.error(e.t1),e.t1;case 22:case"end":return e.stop()}}),e,null,[[1,19],[3,12]])})));return function(t,n,r){return e.apply(this,arguments)}}(),o.on=function(i,s){o.events.on(i,s)},o.once=function(i,s){o.events.once(i,s)},o.off=function(i,s){o.events.off(i,s)},o.removeListener=function(i,s){o.events.removeListener(i,s)},o.relayer=e,o.logger=Object(j.generateChildLogger)(r,o.name),o.registerEventListeners(),o}return Object(y.a)(n,[{key:"context",get:function(){return Object(j.getLoggerContext)(this.logger)}},{key:"rpcPublish",value:function(e,t,i,s,n,a,r){var o,c,l,b,f={method:Object(C.t)(s.protocol).publish,params:{topic:e,message:t,ttl:i,prompt:n,tag:a},id:r};return Object(C.J)(null==(o=f.params)?void 0:o.prompt)&&(null==(c=f.params)||delete c.prompt),Object(C.J)(null==(l=f.params)?void 0:l.tag)&&(null==(b=f.params)||delete b.tag),this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"message",direction:"outgoing",request:f}),this.relayer.request(f)}},{key:"onPublish",value:function(e){this.queue.delete(e)}},{key:"checkQueue",value:function(){var e=this;this.queue.forEach(function(){var t=Object(h.a)(regeneratorRuntime.mark((function t(n){var r,i,s;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=n.topic,i=n.message,s=n.opts,t.next=3,e.publish(r,i,s);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}},{key:"registerEventListeners",value:function(){var e=this;this.relayer.core.heartbeat.on(E.HEARTBEAT_EVENTS.pulse,(function(){if(e.needsTransportRestart)return e.needsTransportRestart=!1,void e.relayer.events.emit(g.connection_stalled);e.checkQueue()})),this.relayer.on(g.message_ack,(function(t){e.onPublish(t.id.toString())}))}}]),n}(k.f),Xt=function(){function e(){var t=this;Object(m.a)(this,e),this.map=new Map,this.set=function(e,n){var i=t.get(e);t.exists(e,n)||t.map.set(e,[].concat(Object(o.a)(i),[n]))},this.get=function(e){return t.map.get(e)||[]},this.exists=function(e,n){return t.get(e).includes(n)},this.delete=function(e,n){if(Object(d.a)(n)>"u")t.map.delete(e);else if(t.map.has(e)){var i=t.get(e);if(t.exists(e,n)){var s=i.filter((function(e){return e!==n}));s.length?t.map.set(e,s):t.map.delete(e)}}},this.clear=function(){t.map.clear()}}return Object(y.a)(e,[{key:"topics",get:function(){return Array.from(this.map.keys())}}]),e}(),Qt=Object.defineProperty,Zt=Object.defineProperties,en=Object.getOwnPropertyDescriptors,tn=Object.getOwnPropertySymbols,nn=Object.prototype.hasOwnProperty,br=Object.prototype.propertyIsEnumerable,rn=function(e,t,n){return t in e?Qt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n},on=function(e,t){for(var n in t||(t={}))nn.call(t,n)&&rn(e,n,t[n]);if(tn){var r,o=D(tn(t));try{for(o.s();!(r=o.n()).done;){n=r.value;br.call(t,n)&&rn(e,n,t[n])}}catch(e){o.e(e)}finally{o.f()}}return e},an=function(e,t){return Zt(e,en(t))},sn=function(e){Object(c.a)(T,e);var t,n,r,o,l,f,v,w,O,x,k,S,R,I,A=L(T);function T(e,t){var n;return Object(m.a)(this,T),(n=A.call(this,e,t)).relayer=e,n.logger=t,n.subscriptions=new Map,n.topicMap=new Xt,n.events=new _.EventEmitter,n.name="subscription",n.version="0.3",n.pending=new Map,n.cached=[],n.initialized=!1,n.pendingSubscriptionWatchLabel="pending_sub_watch_label",n.pollingInterval=20,n.storagePrefix=wt,n.subscribeTimeout=1e4,n.restartInProgress=!1,n.batchSubscribeTopicsLimit=500,n.init=Object(h.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=n.initialized,e.t0){e.next=10;break}return n.logger.trace("Initialized"),e.next=5,n.restart();case 5:return n.registerEventListeners(),n.onEnable(),e.next=9,n.relayer.core.crypto.getClientId();case 9:n.clientId=e.sent;case 10:case"end":return e.stop()}}),e)}))),n.subscribe=function(){var e=Object(h.a)(regeneratorRuntime.mark((function e(i,s){var t,a,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.restartToComplete();case 2:return n.isInitialized(),n.logger.debug("Subscribing Topic"),n.logger.trace({type:"method",method:"subscribe",params:{topic:i,opts:s}}),e.prev=5,t=Object(C.u)(s),a={topic:i,relay:t},n.pending.set(i,a),e.next=10,n.rpcSubscribe(i,t);case 10:return r=e.sent,e.abrupt("return",(n.onSubscribe(r,a),n.logger.debug("Successfully Subscribed Topic"),n.logger.trace({type:"method",method:"subscribe",params:{topic:i,opts:s}}),r));case 14:throw e.prev=14,e.t0=e.catch(5),n.logger.debug("Failed to Subscribe Topic"),n.logger.error(e.t0),e.t0;case 17:case"end":return e.stop()}}),e,null,[[5,14]])})));return function(t,n){return e.apply(this,arguments)}}(),n.unsubscribe=function(){var e=Object(h.a)(regeneratorRuntime.mark((function e(i,s){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.restartToComplete();case 2:if(n.isInitialized(),!(Object(d.a)(null==s?void 0:s.id)<"u")){e.next=8;break}return e.next=6,n.unsubscribeById(i,s.id,s);case 6:e.next=10;break;case 8:return e.next=10,n.unsubscribeByTopic(i,s);case 10:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),n.isSubscribed=function(){var e=Object(h.a)(regeneratorRuntime.mark((function e(i){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n.topics.includes(i)){e.next=4;break}e.t0=!0,e.next=7;break;case 4:return e.next=6,new Promise((function(s,e){var a=new P.Watch;a.start(n.pendingSubscriptionWatchLabel);var t=setInterval((function(){!n.pending.has(i)&&n.topics.includes(i)&&(clearInterval(t),a.stop(n.pendingSubscriptionWatchLabel),s(!0)),a.elapsed(n.pendingSubscriptionWatchLabel)>=Dt&&(clearInterval(t),a.stop(n.pendingSubscriptionWatchLabel),e(new Error("Subscription resolution timeout")))}),n.pollingInterval)})).catch((function(){return!1}));case 6:e.t0=e.sent;case 7:return e.abrupt("return",e.t0);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.on=function(i,s){n.events.on(i,s)},n.once=function(i,s){n.events.once(i,s)},n.off=function(i,s){n.events.off(i,s)},n.removeListener=function(i,s){n.events.removeListener(i,s)},n.restart=Object(h.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.restartInProgress=!0,e.next=3,n.restore();case 3:return e.next=5,n.reset();case 5:n.restartInProgress=!1;case 6:case"end":return e.stop()}}),e)}))),n.relayer=e,n.logger=Object(j.generateChildLogger)(t,n.name),n.clientId="",n}return Object(y.a)(T,[{key:"context",get:function(){return Object(j.getLoggerContext)(this.logger)}},{key:"storageKey",get:function(){return this.storagePrefix+this.version+"//"+this.name}},{key:"length",get:function(){return this.subscriptions.size}},{key:"ids",get:function(){return Array.from(this.subscriptions.keys())}},{key:"values",get:function(){return Array.from(this.subscriptions.values())}},{key:"topics",get:function(){return this.topicMap.topics}},{key:"hasSubscription",value:function(e,t){var i=!1;try{i=this.getSubscription(e).topic===t}catch(e){}return i}},{key:"onEnable",value:function(){this.cached=[],this.initialized=!0}},{key:"onDisable",value:function(){this.cached=this.values,this.subscriptions.clear(),this.topicMap.clear()}},{key:"unsubscribeByTopic",value:(I=Object(h.a)(regeneratorRuntime.mark((function e(t,n){var i,r=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=this.topicMap.get(t),e.next=3,Promise.all(i.map(function(){var e=Object(h.a)(regeneratorRuntime.mark((function e(s){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.unsubscribeById(t,s,n);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 3:case"end":return e.stop()}}),e,this)}))),function(e,t){return I.apply(this,arguments)})},{key:"unsubscribeById",value:(R=Object(h.a)(regeneratorRuntime.mark((function e(t,n,i){var s,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.logger.debug("Unsubscribing Topic"),this.logger.trace({type:"method",method:"unsubscribe",params:{topic:t,id:n,opts:i}}),e.prev=1,s=Object(C.u)(i),e.next=5,this.rpcUnsubscribe(t,n,s);case 5:return r=Object(C.w)("USER_DISCONNECTED","".concat(this.name,", ").concat(t)),e.next=8,this.onUnsubscribe(t,n,r);case 8:this.logger.debug("Successfully Unsubscribed Topic"),this.logger.trace({type:"method",method:"unsubscribe",params:{topic:t,id:n,opts:i}}),e.next=15;break;case 12:throw e.prev=12,e.t0=e.catch(1),this.logger.debug("Failed to Unsubscribe Topic"),this.logger.error(e.t0),e.t0;case 15:case"end":return e.stop()}}),e,this,[[1,12]])}))),function(e,t,n){return R.apply(this,arguments)})},{key:"rpcSubscribe",value:(S=Object(h.a)(regeneratorRuntime.mark((function e(t,n){var i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i={method:Object(C.t)(n.protocol).subscribe,params:{topic:t}},this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:i}),e.prev=2,e.next=5,Object(C.e)(this.relayer.request(i),this.subscribeTimeout);case 5:return e.next=7,e.sent;case 7:e.next=12;break;case 9:e.prev=9,e.t0=e.catch(2),this.logger.debug("Outgoing Relay Subscribe Payload stalled"),this.relayer.events.emit(g.connection_stalled);case 12:return e.abrupt("return",Object(C.z)(t+this.clientId));case 13:case"end":return e.stop()}}),e,this,[[2,9]])}))),function(e,t){return S.apply(this,arguments)})},{key:"rpcBatchSubscribe",value:(k=Object(h.a)(regeneratorRuntime.mark((function e(t){var n,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.length){e.next=2;break}return e.abrupt("return");case 2:return n=t[0].relay,i={method:Object(C.t)(n.protocol).batchSubscribe,params:{topics:t.map((function(s){return s.topic}))}},this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:i}),e.prev=4,e.next=7,Object(C.e)(this.relayer.request(i),this.subscribeTimeout);case 7:return e.next=9,e.sent;case 9:return e.abrupt("return",e.sent);case 12:e.prev=12,e.t0=e.catch(4),this.logger.debug("Outgoing Relay Payload stalled"),this.relayer.events.emit(g.connection_stalled);case 15:case"end":return e.stop()}}),e,this,[[4,12]])}))),function(e){return k.apply(this,arguments)})},{key:"rpcUnsubscribe",value:function(e,t,i){var s={method:Object(C.t)(i.protocol).unsubscribe,params:{topic:e,id:t}};return this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:s}),this.relayer.request(s)}},{key:"onSubscribe",value:function(e,t){this.setSubscription(e,an(on({},t),{id:e})),this.pending.delete(t.topic)}},{key:"onBatchSubscribe",value:function(e){var t=this;e.length&&e.forEach((function(e){t.setSubscription(e.id,on({},e)),t.pending.delete(e.topic)}))}},{key:"onUnsubscribe",value:(x=Object(h.a)(regeneratorRuntime.mark((function e(t,n,i){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.events.removeAllListeners(n),this.hasSubscription(n,t)&&this.deleteSubscription(n,i),e.next=4,this.relayer.messages.del(t);case 4:case"end":return e.stop()}}),e,this)}))),function(e,t,n){return x.apply(this,arguments)})},{key:"setRelayerSubscriptions",value:(O=Object(h.a)(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.relayer.core.storage.setItem(this.storageKey,t);case 2:case"end":return e.stop()}}),e,this)}))),function(e){return O.apply(this,arguments)})},{key:"getRelayerSubscriptions",value:(w=Object(h.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.relayer.core.storage.getItem(this.storageKey);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)}))),function(){return w.apply(this,arguments)})},{key:"setSubscription",value:function(e,t){this.subscriptions.has(e)||(this.logger.debug("Setting subscription"),this.logger.trace({type:"method",method:"setSubscription",id:e,subscription:t}),this.addSubscription(e,t))}},{key:"addSubscription",value:function(e,t){this.subscriptions.set(e,on({},t)),this.topicMap.set(t.topic,e),this.events.emit(Nt,t)}},{key:"getSubscription",value:function(e){this.logger.debug("Getting subscription"),this.logger.trace({type:"method",method:"getSubscription",id:e});var t=this.subscriptions.get(e);if(!t){var i=Object(C.s)("NO_MATCHING_KEY","".concat(this.name,": ").concat(e)).message;throw new Error(i)}return t}},{key:"deleteSubscription",value:function(e,t){this.logger.debug("Deleting subscription"),this.logger.trace({type:"method",method:"deleteSubscription",id:e,reason:t});var i=this.getSubscription(e);this.subscriptions.delete(e),this.topicMap.delete(i.topic,e),this.events.emit(Ut,an(on({},i),{reason:t}))}},{key:"persist",value:(v=Object(h.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.setRelayerSubscriptions(this.values);case 2:this.events.emit(Mt);case 3:case"end":return e.stop()}}),e,this)}))),function(){return v.apply(this,arguments)})},{key:"reset",value:(f=Object(h.a)(regeneratorRuntime.mark((function e(){var t,n,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.cached.length){e.next=10;break}t=Math.ceil(this.cached.length/this.batchSubscribeTopicsLimit),n=0;case 3:if(!(n<t)){e.next=10;break}return i=this.cached.splice(0,this.batchSubscribeTopicsLimit),e.next=7,this.batchSubscribe(i);case 7:n++,e.next=3;break;case 10:this.events.emit(Lt);case 11:case"end":return e.stop()}}),e,this)}))),function(){return f.apply(this,arguments)})},{key:"restore",value:(l=Object(h.a)(regeneratorRuntime.mark((function e(){var t,n,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.getRelayerSubscriptions();case 3:if(t=e.sent,!(Object(d.a)(t)>"u")&&t.length){e.next=6;break}return e.abrupt("return");case 6:if(!this.subscriptions.size){e.next=9;break}throw n=Object(C.s)("RESTORE_WILL_OVERRIDE",this.name),r=n.message,this.logger.error(r),this.logger.error("".concat(this.name,": ").concat(JSON.stringify(this.values))),new Error(r);case 9:this.cached=t,this.logger.debug("Successfully Restored subscriptions for ".concat(this.name)),this.logger.trace({type:"method",method:"restore",subscriptions:this.values}),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),this.logger.debug("Failed to Restore subscriptions for ".concat(this.name)),this.logger.error(e.t0);case 15:case"end":return e.stop()}}),e,this,[[0,12]])}))),function(){return l.apply(this,arguments)})},{key:"batchSubscribe",value:(o=Object(h.a)(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.length){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.rpcBatchSubscribe(t);case 4:n=e.sent,Object(C.K)(n)&&this.onBatchSubscribe(n.map((function(i,s){return an(on({},t[s]),{id:i})})));case 6:case"end":return e.stop()}}),e,this)}))),function(e){return o.apply(this,arguments)})},{key:"onConnect",value:(r=Object(h.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.restartInProgress,e.t0){e.next=5;break}return e.next=4,this.restart();case 4:this.onEnable();case 5:case"end":return e.stop()}}),e,this)}))),function(){return r.apply(this,arguments)})},{key:"onDisconnect",value:function(){this.onDisable()}},{key:"checkPending",value:(n=Object(h.a)(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.relayer.transportExplicitlyClosed){e.next=2;break}return e.abrupt("return");case 2:return t=[],this.pending.forEach((function(e){t.push(e)})),e.next=6,this.batchSubscribe(t);case 6:case"end":return e.stop()}}),e,this)}))),function(){return n.apply(this,arguments)})},{key:"registerEventListeners",value:function(){var e=this;this.relayer.core.heartbeat.on(E.HEARTBEAT_EVENTS.pulse,Object(h.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.checkPending();case 2:case"end":return t.stop()}}),t)})))),this.relayer.on(g.connect,Object(h.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.onConnect();case 2:case"end":return t.stop()}}),t)})))),this.relayer.on(g.disconnect,(function(){e.onDisconnect()})),this.events.on(Nt,function(){var t=Object(h.a)(regeneratorRuntime.mark((function t(n){var r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=Nt,e.logger.info("Emitting ".concat(r)),e.logger.debug({type:"event",event:r,data:n}),t.next=5,e.persist();case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),this.events.on(Ut,function(){var t=Object(h.a)(regeneratorRuntime.mark((function t(n){var r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=Ut,e.logger.info("Emitting ".concat(r)),e.logger.debug({type:"event",event:r,data:n}),t.next=5,e.persist();case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}},{key:"isInitialized",value:function(){if(!this.initialized){var e=Object(C.s)("NOT_INITIALIZED",this.name).message;throw new Error(e)}}},{key:"restartToComplete",value:(t=Object(h.a)(regeneratorRuntime.mark((function e(){var t=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.restartInProgress,!e.t0){e.next=4;break}return e.next=4,new Promise((function(e){var n=setInterval((function(){t.restartInProgress||(clearInterval(n),e())}),t.pollingInterval)}));case 4:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})}]),T}(k.j),cn=Object.defineProperty,un=Object.getOwnPropertySymbols,ln=Object.prototype.hasOwnProperty,fn=Object.prototype.propertyIsEnumerable,pn=function(e,t,n){return t in e?cn(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n},dn=function(e,t){for(var n in t||(t={}))ln.call(t,n)&&pn(e,n,t[n]);if(un){var r,o=D(un(t));try{for(o.s();!(r=o.n()).done;){n=r.value;fn.call(t,n)&&pn(e,n,t[n])}}catch(e){o.e(e)}finally{o.f()}}return e},hn=function(e){Object(c.a)(M,e);var t,n,o,l,f,v,w,O,x,E,k,S,R,I,U=L(M);function M(e){var t;return Object(m.a)(this,M),(t=U.call(this,e)).protocol="wc",t.version=2,t.events=new _.EventEmitter,t.name="relayer",t.transportExplicitlyClosed=!1,t.initialized=!1,t.reconnecting=!1,t.connectionStatusPollingInterval=20,t.staleConnectionErrors=["socket hang up","socket stalled"],t.request=function(){var e=Object(h.a)(regeneratorRuntime.mark((function e(n){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.logger.debug("Publishing Request Payload"),e.prev=1,e.next=4,t.toEstablishConnection();case 4:return e.next=6,t.provider.request(n);case 6:return e.abrupt("return",e.sent);case 9:throw e.prev=9,e.t0=e.catch(1),t.logger.debug("Failed to Publish Request"),t.logger.error(e.t0),e.t0;case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}(),t.core=e.core,t.logger=Object(d.a)(e.logger)<"u"&&"string"!=typeof e.logger?Object(j.generateChildLogger)(e.logger,t.name):Object(j.pino)(Object(j.getDefaultLoggerOptions)({level:e.logger||"error"})),t.messages=new Jt(t.logger,e.core),t.subscriber=new sn(Object(r.a)(t),t.logger),t.publisher=new Yt(Object(r.a)(t),t.logger),t.relayUrl=(null==e?void 0:e.relayUrl)||St,t.projectId=e.projectId,t.provider={},t}return Object(y.a)(M,[{key:"init",value:(I=Object(h.a)(regeneratorRuntime.mark((function e(){var t=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.logger.trace("Initialized"),e.next=3,this.createProvider();case 3:return e.next=5,Promise.all([this.messages.init(),this.subscriber.init()]);case 5:return e.prev=5,e.next=8,this.transportOpen();case 8:e.next=15;break;case 10:return e.prev=10,e.t0=e.catch(5),this.logger.warn("Connection via ".concat(this.relayUrl," failed, attempting to connect via failover domain ").concat(Rt,"...")),e.next=15,this.restartTransport(Rt);case 15:this.registerEventListeners(),this.initialized=!0,setTimeout(Object(h.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=0===t.subscriber.topics.length,!e.t0){e.next=6;break}return t.logger.info("No topics subscribed to after init, closing transport"),e.next=5,t.transportClose();case 5:t.transportExplicitlyClosed=!1;case 6:case"end":return e.stop()}}),e)}))),1e4);case 16:case"end":return e.stop()}}),e,this,[[5,10]])}))),function(){return I.apply(this,arguments)})},{key:"context",get:function(){return Object(j.getLoggerContext)(this.logger)}},{key:"connected",get:function(){return this.provider.connection.connected}},{key:"connecting",get:function(){return this.provider.connection.connecting}},{key:"publish",value:(R=Object(h.a)(regeneratorRuntime.mark((function e(t,n,i){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.isInitialized(),e.next=3,this.publisher.publish(t,n,i);case 3:return e.next=5,this.recordMessageEvent({topic:t,message:n,publishedAt:Date.now()});case 5:case"end":return e.stop()}}),e,this)}))),function(e,t,n){return R.apply(this,arguments)})},{key:"subscribe",value:(S=Object(h.a)(regeneratorRuntime.mark((function e(t,n){var i,s,r=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.isInitialized(),s=(null==(i=this.subscriber.topicMap.get(t))?void 0:i[0])||"",e.t0=s,e.t0){e.next=7;break}return e.next=6,Promise.all([new Promise((function(e){r.subscriber.once(Nt,(function(a){a.topic===t&&e()}))})),new Promise(function(){var e=Object(h.a)(regeneratorRuntime.mark((function e(o){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.subscriber.subscribe(t,n);case 2:s=e.sent,o();case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())]);case 6:e.t0=s;case 7:return e.abrupt("return",e.t0);case 8:case"end":return e.stop()}}),e,this)}))),function(e,t){return S.apply(this,arguments)})},{key:"unsubscribe",value:(k=Object(h.a)(regeneratorRuntime.mark((function e(t,n){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.isInitialized(),e.next=3,this.subscriber.unsubscribe(t,n);case 3:case"end":return e.stop()}}),e,this)}))),function(e,t){return k.apply(this,arguments)})},{key:"on",value:function(e,t){this.events.on(e,t)}},{key:"once",value:function(e,t){this.events.once(e,t)}},{key:"off",value:function(e,t){this.events.off(e,t)}},{key:"removeListener",value:function(e,t){this.events.removeListener(e,t)}},{key:"transportClose",value:(E=Object(h.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.transportExplicitlyClosed=!0,e.t0=this.connected,!e.t0){e.next=6;break}return e.next=5,this.provider.disconnect();case 5:this.events.emit(g.transport_closed);case 6:case"end":return e.stop()}}),e,this)}))),function(){return E.apply(this,arguments)})},{key:"transportOpen",value:(x=Object(h.a)(regeneratorRuntime.mark((function e(t){var i,n=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.transportExplicitlyClosed=!1,this.reconnecting){e.next=23;break}return this.relayUrl=t||this.relayUrl,this.reconnecting=!0,e.prev=2,e.t0=Promise,e.t1=new Promise((function(e){n.initialized||e(),n.subscriber.once(Lt,(function(){e()}))})),e.next=7,Promise.race([new Promise(function(){var e=Object(h.a)(regeneratorRuntime.mark((function e(t,i){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(C.e)(n.provider.connect(),1e4,"Socket stalled when trying to connect to ".concat(n.relayUrl)).catch((function(s){return i(s)})).then((function(){return t()})).finally((function(){return n.removeListener(g.transport_closed,n.rejectTransportOpen)}));case 2:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),new Promise((function(e){return n.once(g.transport_closed,n.rejectTransportOpen)}))]);case 7:return e.t2=e.sent,e.t3=[e.t1,e.t2],e.next=11,e.t0.all.call(e.t0,e.t3);case 11:e.next=20;break;case 13:if(e.prev=13,e.t4=e.catch(2),this.logger.error(e.t4),i=e.t4,this.isConnectionStalled(i.message)){e.next=19;break}throw e.t4;case 19:this.events.emit(g.transport_closed);case 20:return e.prev=20,this.reconnecting=!1,e.finish(20);case 23:case"end":return e.stop()}}),e,this,[[2,13,20,23]])}))),function(e){return x.apply(this,arguments)})},{key:"restartTransport",value:(O=Object(h.a)(regeneratorRuntime.mark((function e(t){var n=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.transportExplicitlyClosed||this.reconnecting,e.t0){e.next=11;break}if(this.relayUrl=t||this.relayUrl,e.t1=this.connected,!e.t1){e.next=7;break}return e.next=7,Promise.all([new Promise((function(e){n.provider.once(Pt,(function(){e()}))})),this.transportClose()]);case 7:return e.next=9,this.createProvider();case 9:return e.next=11,this.transportOpen();case 11:case"end":return e.stop()}}),e,this)}))),function(e){return O.apply(this,arguments)})},{key:"isConnectionStalled",value:function(e){return this.staleConnectionErrors.some((function(t){return e.includes(t)}))}},{key:"rejectTransportOpen",value:function(){throw new Error("Attempt to connect to relay via `transportOpen` has stalled. Retrying...")}},{key:"createProvider",value:(w=Object(h.a)(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.core.crypto.signJWT(this.relayUrl);case 2:t=e.sent,this.provider=new A.a(new N.a(Object(C.m)({sdkVersion:"2.9.2",protocol:this.protocol,version:this.version,relayUrl:this.relayUrl,projectId:this.projectId,auth:t,useOnCloseEvent:!0}))),this.registerProviderListeners();case 4:case"end":return e.stop()}}),e,this)}))),function(){return w.apply(this,arguments)})},{key:"recordMessageEvent",value:(v=Object(h.a)(regeneratorRuntime.mark((function e(t){var n,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.topic,i=t.message,e.next=3,this.messages.set(n,i);case 3:case"end":return e.stop()}}),e,this)}))),function(e){return v.apply(this,arguments)})},{key:"shouldIgnoreMessageEvent",value:(f=Object(h.a)(regeneratorRuntime.mark((function e(t){var n,i,s;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.topic,(i=t.message)&&0!==i.length){e.next=3;break}return e.abrupt("return",(this.logger.debug("Ignoring invalid/empty message: ".concat(i)),!0));case 3:return e.next=5,this.subscriber.isSubscribed(n);case 5:if(e.sent){e.next=7;break}return e.abrupt("return",(this.logger.debug("Ignoring message for non-subscribed topic ".concat(n)),!0));case 7:return s=this.messages.has(n,i),e.abrupt("return",(s&&this.logger.debug("Ignoring duplicate message: ".concat(i)),s));case 9:case"end":return e.stop()}}),e,this)}))),function(e){return f.apply(this,arguments)})},{key:"onProviderPayload",value:(l=Object(h.a)(regeneratorRuntime.mark((function e(t){var n,r,i,s,o,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.logger.debug("Incoming Relay Payload"),this.logger.trace({type:"payload",direction:"incoming",payload:t}),!Object(T.isJsonRpcRequest)(t)){e.next=13;break}if(t.method.endsWith("_subscription")){e.next=3;break}return e.abrupt("return");case 3:return n=t.params,r=n.data,i=r.topic,s=r.message,o=r.publishedAt,a={topic:i,message:s,publishedAt:o},this.logger.debug("Emitting Relayer Payload"),this.logger.trace(dn({type:"event",event:n.id},a)),this.events.emit(n.id,a),e.next=9,this.acknowledgePayload(t);case 9:return e.next=11,this.onMessageEvent(a);case 11:e.next=14;break;case 13:Object(T.isJsonRpcResponse)(t)&&this.events.emit(g.message_ack,t);case 14:case"end":return e.stop()}}),e,this)}))),function(e){return l.apply(this,arguments)})},{key:"onMessageEvent",value:(o=Object(h.a)(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.shouldIgnoreMessageEvent(t);case 2:if(e.t0=e.sent,e.t0){e.next=7;break}return this.events.emit(g.message,t),e.next=7,this.recordMessageEvent(t);case 7:case"end":return e.stop()}}),e,this)}))),function(e){return o.apply(this,arguments)})},{key:"acknowledgePayload",value:(n=Object(h.a)(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Object(T.formatJsonRpcResult)(t.id,!0),e.next=3,this.provider.connection.send(n);case 3:case"end":return e.stop()}}),e,this)}))),function(e){return n.apply(this,arguments)})},{key:"registerProviderListeners",value:function(){var e=this;this.provider.on(Ct,(function(t){return e.onProviderPayload(t)})),this.provider.on(It,(function(){e.events.emit(g.connect)})),this.provider.on(Pt,(function(){e.onProviderDisconnect()})),this.provider.on(At,(function(t){e.logger.error(t),e.events.emit(g.error,t)}))}},{key:"registerEventListeners",value:function(){var e=this;this.events.on(g.connection_stalled,Object(h.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.restartTransport();case 2:case"end":return t.stop()}}),t)}))))}},{key:"onProviderDisconnect",value:function(){this.events.emit(g.disconnect),this.attemptToReconnect()}},{key:"attemptToReconnect",value:function(){var e=this;this.transportExplicitlyClosed||setTimeout(Object(h.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.restartTransport();case 2:case"end":return t.stop()}}),t)}))),Object(P.toMiliseconds)(Tt))}},{key:"isInitialized",value:function(){if(!this.initialized){var e=Object(C.s)("NOT_INITIALIZED",this.name).message;throw new Error(e)}}},{key:"toEstablishConnection",value:(t=Object(h.a)(regeneratorRuntime.mark((function e(){var t=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.connected){e.next=7;break}if(!this.connecting){e.next=5;break}return e.next=4,new Promise((function(e){var n=setInterval((function(){t.connected&&(clearInterval(n),e())}),t.connectionStatusPollingInterval)}));case 4:return e.abrupt("return",e.sent);case 5:return e.next=7,this.restartTransport();case 7:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})}]),M}(k.g),vn=Object.defineProperty,mn=Object.getOwnPropertySymbols,gn=Object.prototype.hasOwnProperty,bn=Object.prototype.propertyIsEnumerable,yn=function(e,t,n){return t in e?vn(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n},_n=function(e,t){for(var n in t||(t={}))gn.call(t,n)&&yn(e,n,t[n]);if(mn){var r,o=D(mn(t));try{for(o.s();!(r=o.n()).done;){n=r.value;bn.call(t,n)&&yn(e,n,t[n])}}catch(e){o.e(e)}finally{o.f()}}return e},wn=function(e){Object(c.a)(f,e);var t,n,r,o,l=L(f);function f(e,t,i){var n,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:wt,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0;return Object(m.a)(this,f),(n=l.call(this,e,t,i,s)).core=e,n.logger=t,n.name=i,n.map=new Map,n.version="0.3",n.cached=[],n.initialized=!1,n.storagePrefix=wt,n.init=Object(h.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=n.initialized,e.t0){e.next=8;break}return n.logger.trace("Initialized"),e.next=5,n.restore();case 5:n.cached.forEach((function(a){n.getKey&&null!==a&&!Object(C.J)(a)?n.map.set(n.getKey(a),a):Object(C.E)(a)?n.map.set(a.id,a):Object(C.H)(a)&&n.map.set(a.topic,a)})),n.cached=[],n.initialized=!0;case 8:case"end":return e.stop()}}),e)}))),n.set=function(){var e=Object(h.a)(regeneratorRuntime.mark((function e(a,t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.isInitialized(),!n.map.has(a)){e.next=6;break}return e.next=4,n.update(a,t);case 4:e.next=11;break;case 6:return n.logger.debug("Setting value"),n.logger.trace({type:"method",method:"set",key:a,value:t}),n.map.set(a,t),e.next=11,n.persist();case 11:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),n.get=function(a){return n.isInitialized(),n.logger.debug("Getting value"),n.logger.trace({type:"method",method:"get",key:a}),n.getData(a)},n.getAll=function(a){return n.isInitialized(),a?n.values.filter((function(e){return Object.keys(a).every((function(t){return M()(e[t],a[t])}))})):n.values},n.update=function(){var e=Object(h.a)(regeneratorRuntime.mark((function e(a,t){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.isInitialized(),n.logger.debug("Updating value"),n.logger.trace({type:"method",method:"update",key:a,update:t}),r=_n(_n({},n.getData(a)),t),n.map.set(a,r),e.next=5,n.persist();case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),n.delete=function(){var e=Object(h.a)(regeneratorRuntime.mark((function e(a,t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.isInitialized(),e.t0=n.map.has(a),!e.t0){e.next=8;break}return n.logger.debug("Deleting value"),n.logger.trace({type:"method",method:"delete",key:a,reason:t}),n.map.delete(a),e.next=8,n.persist();case 8:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),n.logger=Object(j.generateChildLogger)(t,n.name),n.storagePrefix=s,n.getKey=r,n}return Object(y.a)(f,[{key:"context",get:function(){return Object(j.getLoggerContext)(this.logger)}},{key:"storageKey",get:function(){return this.storagePrefix+this.version+"//"+this.name}},{key:"length",get:function(){return this.map.size}},{key:"keys",get:function(){return Array.from(this.map.keys())}},{key:"values",get:function(){return Array.from(this.map.values())}},{key:"setDataStore",value:(o=Object(h.a)(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.core.storage.setItem(this.storageKey,t);case 2:case"end":return e.stop()}}),e,this)}))),function(e){return o.apply(this,arguments)})},{key:"getDataStore",value:(r=Object(h.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.core.storage.getItem(this.storageKey);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)}))),function(){return r.apply(this,arguments)})},{key:"getData",value:function(e){var t=this.map.get(e);if(!t){var i=Object(C.s)("NO_MATCHING_KEY","".concat(this.name,": ").concat(e)).message;throw this.logger.error(i),new Error(i)}return t}},{key:"persist",value:(n=Object(h.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.setDataStore(this.values);case 2:case"end":return e.stop()}}),e,this)}))),function(){return n.apply(this,arguments)})},{key:"restore",value:(t=Object(h.a)(regeneratorRuntime.mark((function e(){var t,n,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.getDataStore();case 3:if(t=e.sent,!(Object(d.a)(t)>"u")&&t.length){e.next=6;break}return e.abrupt("return");case 6:if(!this.map.size){e.next=9;break}throw n=Object(C.s)("RESTORE_WILL_OVERRIDE",this.name),r=n.message,this.logger.error(r),new Error(r);case 9:this.cached=t,this.logger.debug("Successfully Restored value for ".concat(this.name)),this.logger.trace({type:"method",method:"restore",value:this.values}),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),this.logger.debug("Failed to Restore value for ".concat(this.name)),this.logger.error(e.t0);case 15:case"end":return e.stop()}}),e,this,[[0,12]])}))),function(){return t.apply(this,arguments)})},{key:"isInitialized",value:function(){if(!this.initialized){var e=Object(C.s)("NOT_INITIALIZED",this.name).message;throw new Error(e)}}}]),f}(k.i),On=function(){function e(t,n){var r=this;Object(m.a)(this,e),this.core=t,this.logger=n,this.name="pairing",this.version="0.3",this.events=new w.a,this.initialized=!1,this.storagePrefix=wt,this.ignoredPayloadTypes=[C.b],this.registeredMethods=[],this.init=Object(h.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=r.initialized,e.t0){e.next=10;break}return e.next=4,r.pairings.init();case 4:return e.next=6,r.cleanup();case 6:r.registerRelayerEvents(),r.registerExpirerEvents(),r.initialized=!0,r.logger.trace("Initialized");case 10:case"end":return e.stop()}}),e)}))),this.register=function(e){var i=e.methods;r.isInitialized(),r.registeredMethods=Object(o.a)(new Set([].concat(Object(o.a)(r.registeredMethods),Object(o.a)(i))))},this.create=Object(h.a)(regeneratorRuntime.mark((function e(){var i,s,t,a,n,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r.isInitialized(),i=Object(C.q)(),e.next=4,r.core.crypto.setSymKey(i);case 4:return s=e.sent,t=Object(C.c)(P.FIVE_MINUTES),n={topic:s,expiry:t,relay:a={protocol:rt},active:!1},o=Object(C.o)({protocol:r.core.protocol,version:r.core.version,topic:s,symKey:i,relay:a}),e.next=11,r.pairings.set(s,n);case 11:return e.next=13,r.core.relayer.subscribe(s);case 13:return r.core.expirer.set(s,t),e.abrupt("return",{topic:s,uri:o});case 15:case"end":return e.stop()}}),e)}))),this.pair=function(){var e=Object(h.a)(regeneratorRuntime.mark((function e(i){var t,s,n,a,o,c;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r.isInitialized(),r.isValidPair(i),t=Object(C.gb)(i.uri),s=t.topic,n=t.symKey,a=t.relay,!r.pairings.keys.includes(s)){e.next=4;break}throw new Error("Pairing already exists: ".concat(s));case 4:if(!r.core.crypto.hasKeys(s)){e.next=6;break}throw new Error("Keychain already exists: ".concat(s));case 6:return o=Object(C.c)(P.FIVE_MINUTES),c={topic:s,relay:a,expiry:o,active:!1},e.next=9,r.pairings.set(s,c);case 9:return e.next=11,r.core.crypto.setSymKey(n,s);case 11:return e.next=13,r.core.relayer.subscribe(s,{relay:a});case 13:if(r.core.expirer.set(s,o),e.t0=i.activatePairing,!e.t0){e.next=18;break}return e.next=18,r.activate({topic:s});case 18:return e.abrupt("return",c);case 19:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.activate=function(){var e=Object(h.a)(regeneratorRuntime.mark((function e(t){var i,s;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.topic,r.isInitialized(),s=Object(C.c)(P.THIRTY_DAYS),e.next=5,r.pairings.update(i,{active:!0,expiry:s});case 5:r.core.expirer.set(i,s);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.ping=function(){var e=Object(h.a)(regeneratorRuntime.mark((function e(i){var s,t,n,a,o,c;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r.isInitialized(),e.next=3,r.isValidPing(i);case 3:if(s=i.topic,!r.pairings.keys.includes(s)){e.next=15;break}return e.next=7,r.sendRequest(s,"wc_pairingPing",{});case 7:return t=e.sent,n=Object(C.d)(),a=n.done,o=n.resolve,c=n.reject,r.events.once(Object(C.k)("pairing_ping",t),(function(e){var t=e.error;t?c(t):o()})),e.next=15,a();case 15:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.updateExpiry=function(){var e=Object(h.a)(regeneratorRuntime.mark((function e(t){var i,s;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.topic,s=t.expiry,r.isInitialized(),e.next=4,r.pairings.update(i,{expiry:s});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.updateMetadata=function(){var e=Object(h.a)(regeneratorRuntime.mark((function e(t){var i,s;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.topic,s=t.metadata,r.isInitialized(),e.next=4,r.pairings.update(i,{peerMetadata:s});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.getPairings=function(){return r.isInitialized(),r.pairings.values},this.disconnect=function(){var e=Object(h.a)(regeneratorRuntime.mark((function e(i){var s;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r.isInitialized(),e.next=3,r.isValidDisconnect(i);case 3:if(s=i.topic,e.t0=r.pairings.keys.includes(s),!e.t0){e.next=10;break}return e.next=8,r.sendRequest(s,"wc_pairingDelete",Object(C.w)("USER_DISCONNECTED"));case 8:return e.next=10,r.deletePairing(s);case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.sendRequest=function(){var e=Object(h.a)(regeneratorRuntime.mark((function e(i,s,t){var a,n,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Object(T.formatJsonRpcRequest)(s,t),e.next=3,r.core.crypto.encode(i,a);case 3:return n=e.sent,o=$t[s].req,e.abrupt("return",(r.core.history.set(i,a),r.core.relayer.publish(i,n,o),a.id));case 6:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),this.sendResult=function(){var e=Object(h.a)(regeneratorRuntime.mark((function e(i,s,t){var a,n,o,c;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Object(T.formatJsonRpcResult)(i,t),e.next=3,r.core.crypto.encode(s,a);case 3:return n=e.sent,e.next=6,r.core.history.get(s,i);case 6:return o=e.sent,c=$t[o.request.method].res,e.next=10,r.core.relayer.publish(s,n,c);case 10:return e.next=12,r.core.history.resolve(a);case 12:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),this.sendError=function(){var e=Object(h.a)(regeneratorRuntime.mark((function e(i,s,t){var a,n,o,c;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Object(T.formatJsonRpcError)(i,t),e.next=3,r.core.crypto.encode(s,a);case 3:return n=e.sent,e.next=6,r.core.history.get(s,i);case 6:return o=e.sent,c=$t[o.request.method]?$t[o.request.method].res:$t.unregistered_method.res,e.next=10,r.core.relayer.publish(s,n,c);case 10:return e.next=12,r.core.history.resolve(a);case 12:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),this.deletePairing=function(){var e=Object(h.a)(regeneratorRuntime.mark((function e(i,s){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.core.relayer.unsubscribe(i);case 2:return e.next=4,Promise.all([r.pairings.delete(i,Object(C.w)("USER_DISCONNECTED")),r.core.crypto.deleteSymKey(i),s?Promise.resolve():r.core.expirer.del(i)]);case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),this.cleanup=Object(h.a)(regeneratorRuntime.mark((function e(){var i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=r.pairings.getAll().filter((function(s){return Object(C.C)(s.expiry)})),e.next=3,Promise.all(i.map((function(s){return r.deletePairing(s.topic)})));case 3:case"end":return e.stop()}}),e)}))),this.onRelayEventRequest=function(i){var s=i.topic,e=i.payload;switch(e.method){case"wc_pairingPing":return r.onPairingPingRequest(s,e);case"wc_pairingDelete":return r.onPairingDeleteRequest(s,e);default:return r.onUnknownRpcMethodRequest(s,e)}},this.onRelayEventResponse=function(){var e=Object(h.a)(regeneratorRuntime.mark((function e(i){var s,t,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=i.topic,t=i.payload,e.next=4,r.core.history.get(s,t.id);case 4:a=e.sent.request.method,e.t0=a,e.next="wc_pairingPing"===e.t0?8:9;break;case 8:return e.abrupt("return",r.onPairingPingResponse(s,t));case 9:return e.abrupt("return",r.onUnknownRpcMethodResponse(a));case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.onPairingPingRequest=function(){var e=Object(h.a)(regeneratorRuntime.mark((function e(i,s){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=s.id,e.prev=1,r.isValidPing({topic:i}),e.next=5,r.sendResult(t,i,!0);case 5:r.events.emit("pairing_ping",{id:t,topic:i}),e.next=13;break;case 8:return e.prev=8,e.t0=e.catch(1),e.next=12,r.sendError(t,i,e.t0);case 12:r.logger.error(e.t0);case 13:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t,n){return e.apply(this,arguments)}}(),this.onPairingPingResponse=function(i,s){var e=s.id;setTimeout((function(){Object(T.isJsonRpcResult)(s)?r.events.emit(Object(C.k)("pairing_ping",e),{}):Object(T.isJsonRpcError)(s)&&r.events.emit(Object(C.k)("pairing_ping",e),{error:s.error})}),500)},this.onPairingDeleteRequest=function(){var e=Object(h.a)(regeneratorRuntime.mark((function e(i,s){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=s.id,e.prev=1,r.isValidDisconnect({topic:i}),e.next=5,r.deletePairing(i);case 5:r.events.emit("pairing_delete",{id:t,topic:i}),e.next=13;break;case 8:return e.prev=8,e.t0=e.catch(1),e.next=12,r.sendError(t,i,e.t0);case 12:r.logger.error(e.t0);case 13:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t,n){return e.apply(this,arguments)}}(),this.onUnknownRpcMethodRequest=function(){var e=Object(h.a)(regeneratorRuntime.mark((function e(i,s){var t,a,n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=s.id,a=s.method,e.prev=1,!r.registeredMethods.includes(a)){e.next=4;break}return e.abrupt("return");case 4:return n=Object(C.w)("WC_METHOD_UNSUPPORTED",a),e.next=7,r.sendError(t,i,n);case 7:r.logger.error(n),e.next=15;break;case 10:return e.prev=10,e.t0=e.catch(1),e.next=14,r.sendError(t,i,e.t0);case 14:r.logger.error(e.t0);case 15:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(t,n){return e.apply(this,arguments)}}(),this.onUnknownRpcMethodResponse=function(i){r.registeredMethods.includes(i)||r.logger.error(Object(C.w)("WC_METHOD_UNSUPPORTED",i))},this.isValidPair=function(i){if(!Object(C.U)(i)){var s=Object(C.s)("MISSING_OR_INVALID","pair() params: ".concat(i)).message;throw new Error(s)}if(!Object(C.cb)(i.uri)){var e=Object(C.s)("MISSING_OR_INVALID","pair() uri: ".concat(i.uri)).message;throw new Error(e)}},this.isValidPing=function(){var e=Object(h.a)(regeneratorRuntime.mark((function e(i){var t,n,s;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Object(C.U)(i)){e.next=3;break}throw t=Object(C.s)("MISSING_OR_INVALID","ping() params: ".concat(i)),n=t.message,new Error(n);case 3:return s=i.topic,e.next=6,r.isValidPairingTopic(s);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.isValidDisconnect=function(){var e=Object(h.a)(regeneratorRuntime.mark((function e(i){var t,n,s;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Object(C.U)(i)){e.next=3;break}throw t=Object(C.s)("MISSING_OR_INVALID","disconnect() params: ".concat(i)),n=t.message,new Error(n);case 3:return s=i.topic,e.next=6,r.isValidPairingTopic(s);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.isValidPairingTopic=function(){var e=Object(h.a)(regeneratorRuntime.mark((function e(i){var t,s,n,o,c,l;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Object(C.bb)(i,!1)){e.next=3;break}throw t=Object(C.s)("MISSING_OR_INVALID","pairing topic should be a string: ".concat(i)),s=t.message,new Error(s);case 3:if(r.pairings.keys.includes(i)){e.next=6;break}throw n=Object(C.s)("NO_MATCHING_KEY","pairing topic doesn't exist: ".concat(i)),o=n.message,new Error(o);case 6:if(!Object(C.C)(r.pairings.get(i).expiry)){e.next=11;break}return e.next=9,r.deletePairing(i);case 9:throw c=Object(C.s)("EXPIRED","pairing topic: ".concat(i)),l=c.message,new Error(l);case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.core=t,this.logger=Object(j.generateChildLogger)(n,this.name),this.pairings=new wn(this.core,this.logger,this.name,this.storagePrefix)}return Object(y.a)(e,[{key:"context",get:function(){return Object(j.getLoggerContext)(this.logger)}},{key:"isInitialized",value:function(){if(!this.initialized){var e=Object(C.s)("NOT_INITIALIZED",this.name).message;throw new Error(e)}}},{key:"registerRelayerEvents",value:function(){var e=this;this.core.relayer.on(g.message,function(){var t=Object(h.a)(regeneratorRuntime.mark((function t(n){var r,i,s;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=n.topic,i=n.message,e.pairings.keys.includes(r)&&!e.ignoredPayloadTypes.includes(e.core.crypto.getPayloadType(i))){t.next=3;break}return t.abrupt("return");case 3:return t.next=5,e.core.crypto.decode(r,i);case 5:if(s=t.sent,t.prev=6,!Object(T.isJsonRpcRequest)(s)){t.next=11;break}e.core.history.set(r,s),e.onRelayEventRequest({topic:r,payload:s}),t.next=18;break;case 11:if(t.t0=Object(T.isJsonRpcResponse)(s),!t.t0){t.next=18;break}return t.next=15,e.core.history.resolve(s);case 15:return t.next=17,e.onRelayEventResponse({topic:r,payload:s});case 17:e.core.history.delete(r,s.id);case 18:t.next=23;break;case 20:t.prev=20,t.t1=t.catch(6),e.logger.error(t.t1);case 23:case"end":return t.stop()}}),t,null,[[6,20]])})));return function(e){return t.apply(this,arguments)}}())}},{key:"registerExpirerEvents",value:function(){var e=this;this.core.expirer.on(Vt.expired,function(){var t=Object(h.a)(regeneratorRuntime.mark((function t(n){var r,o;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=Object(C.fb)(n.target),o=r.topic,t.t0=o&&e.pairings.keys.includes(o),!t.t0){t.next=6;break}return t.next=5,e.deletePairing(o,!0);case 5:e.events.emit("pairing_expire",{topic:o});case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}}]),e}(),xn=function(e){Object(c.a)(f,e);var t,n,r,o,l=L(f);function f(e,t){var n;return Object(m.a)(this,f),(n=l.call(this,e,t)).core=e,n.logger=t,n.records=new Map,n.events=new _.EventEmitter,n.name="history",n.version="0.3",n.cached=[],n.initialized=!1,n.storagePrefix=wt,n.init=Object(h.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=n.initialized,e.t0){e.next=9;break}return n.logger.trace("Initialized"),e.next=5,n.restore();case 5:n.cached.forEach((function(i){return n.records.set(i.id,i)})),n.cached=[],n.registerEventListeners(),n.initialized=!0;case 9:case"end":return e.stop()}}),e)}))),n.set=function(i,s,e){if(n.isInitialized(),n.logger.debug("Setting JSON-RPC request history record"),n.logger.trace({type:"method",method:"set",topic:i,request:s,chainId:e}),!n.records.has(s.id)){var a={id:s.id,topic:i,request:{method:s.method,params:s.params||null},chainId:e,expiry:Object(C.c)(P.THIRTY_DAYS)};n.records.set(a.id,a),n.events.emit(Ht,a)}},n.resolve=function(){var e=Object(h.a)(regeneratorRuntime.mark((function e(i){var s;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.isInitialized(),n.logger.debug("Updating JSON-RPC response history record"),n.logger.trace({type:"method",method:"update",response:i}),n.records.has(i.id)){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,n.getRecord(i.id);case 4:s=e.sent,Object(d.a)(s.response)>"u"&&(s.response=Object(T.isJsonRpcError)(i)?{error:i.error}:{result:i.result},n.records.set(s.id,s),n.events.emit(qt,s));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.get=function(){var e=Object(h.a)(regeneratorRuntime.mark((function e(i,s){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.isInitialized(),n.logger.debug("Getting record"),n.logger.trace({type:"method",method:"get",topic:i,id:s}),e.next=5,n.getRecord(s);case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),n.delete=function(i,s){n.isInitialized(),n.logger.debug("Deleting record"),n.logger.trace({type:"method",method:"delete",id:s}),n.values.forEach((function(e){if(e.topic===i){if(Object(d.a)(s)<"u"&&e.id!==s)return;n.records.delete(e.id),n.events.emit(Bt,e)}}))},n.exists=function(){var e=Object(h.a)(regeneratorRuntime.mark((function e(i,s){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.isInitialized(),!n.records.has(s)){e.next=9;break}return e.next=4,n.getRecord(s);case 4:e.t1=e.sent.topic,e.t2=i,e.t0=e.t1===e.t2,e.next=10;break;case 9:e.t0=!1;case 10:return e.abrupt("return",e.t0);case 11:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),n.on=function(i,s){n.events.on(i,s)},n.once=function(i,s){n.events.once(i,s)},n.off=function(i,s){n.events.off(i,s)},n.removeListener=function(i,s){n.events.removeListener(i,s)},n.logger=Object(j.generateChildLogger)(t,n.name),n}return Object(y.a)(f,[{key:"context",get:function(){return Object(j.getLoggerContext)(this.logger)}},{key:"storageKey",get:function(){return this.storagePrefix+this.version+"//"+this.name}},{key:"size",get:function(){return this.records.size}},{key:"keys",get:function(){return Array.from(this.records.keys())}},{key:"values",get:function(){return Array.from(this.records.values())}},{key:"pending",get:function(){var e=[];return this.values.forEach((function(t){if(!(Object(d.a)(t.response)<"u")){var i={topic:t.topic,request:Object(T.formatJsonRpcRequest)(t.request.method,t.request.params,t.id),chainId:t.chainId};return e.push(i)}})),e}},{key:"setJsonRpcRecords",value:(o=Object(h.a)(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.core.storage.setItem(this.storageKey,t);case 2:case"end":return e.stop()}}),e,this)}))),function(e){return o.apply(this,arguments)})},{key:"getJsonRpcRecords",value:(r=Object(h.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.core.storage.getItem(this.storageKey);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)}))),function(){return r.apply(this,arguments)})},{key:"getRecord",value:function(e){this.isInitialized();var t=this.records.get(e);if(!t){var i=Object(C.s)("NO_MATCHING_KEY","".concat(this.name,": ").concat(e)).message;throw new Error(i)}return t}},{key:"persist",value:(n=Object(h.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.setJsonRpcRecords(this.values);case 2:this.events.emit(Ft);case 3:case"end":return e.stop()}}),e,this)}))),function(){return n.apply(this,arguments)})},{key:"restore",value:(t=Object(h.a)(regeneratorRuntime.mark((function e(){var t,n,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.getJsonRpcRecords();case 3:if(t=e.sent,!(Object(d.a)(t)>"u")&&t.length){e.next=6;break}return e.abrupt("return");case 6:if(!this.records.size){e.next=9;break}throw n=Object(C.s)("RESTORE_WILL_OVERRIDE",this.name),r=n.message,this.logger.error(r),new Error(r);case 9:this.cached=t,this.logger.debug("Successfully Restored records for ".concat(this.name)),this.logger.trace({type:"method",method:"restore",records:this.values}),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),this.logger.debug("Failed to Restore records for ".concat(this.name)),this.logger.error(e.t0);case 15:case"end":return e.stop()}}),e,this,[[0,12]])}))),function(){return t.apply(this,arguments)})},{key:"registerEventListeners",value:function(){var e=this;this.events.on(Ht,(function(t){var n=Ht;e.logger.info("Emitting ".concat(n)),e.logger.debug({type:"event",event:n,record:t}),e.persist()})),this.events.on(qt,(function(t){var n=qt;e.logger.info("Emitting ".concat(n)),e.logger.debug({type:"event",event:n,record:t}),e.persist()})),this.events.on(Bt,(function(t){var n=Bt;e.logger.info("Emitting ".concat(n)),e.logger.debug({type:"event",event:n,record:t}),e.persist()})),this.core.heartbeat.on(E.HEARTBEAT_EVENTS.pulse,(function(){e.cleanup()}))}},{key:"cleanup",value:function(){var e=this;try{this.records.forEach((function(t){Object(P.toMiliseconds)(t.expiry||0)-Date.now()<=0&&(e.logger.info("Deleting expired history log: ".concat(t.id)),e.delete(t.topic,t.id))}))}catch(e){this.logger.warn(e)}}},{key:"isInitialized",value:function(){if(!this.initialized){var e=Object(C.s)("NOT_INITIALIZED",this.name).message;throw new Error(e)}}}]),f}(k.d),En=function(e){Object(c.a)(f,e);var t,n,r,o,l=L(f);function f(e,t){var n;return Object(m.a)(this,f),(n=l.call(this,e,t)).core=e,n.logger=t,n.expirations=new Map,n.events=new _.EventEmitter,n.name="expirer",n.version="0.3",n.cached=[],n.initialized=!1,n.storagePrefix=wt,n.init=Object(h.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=n.initialized,e.t0){e.next=9;break}return n.logger.trace("Initialized"),e.next=5,n.restore();case 5:n.cached.forEach((function(i){return n.expirations.set(i.target,i)})),n.cached=[],n.registerEventListeners(),n.initialized=!0;case 9:case"end":return e.stop()}}),e)}))),n.has=function(i){try{var s=n.formatTarget(i);return Object(d.a)(n.getExpiration(s))<"u"}catch(e){return!1}},n.set=function(i,s){n.isInitialized();var e=n.formatTarget(i),a={target:e,expiry:s};n.expirations.set(e,a),n.checkExpiry(e,a),n.events.emit(Vt.created,{target:e,expiration:a})},n.get=function(i){n.isInitialized();var s=n.formatTarget(i);return n.getExpiration(s)},n.del=function(i){if(n.isInitialized(),n.has(i)){var s=n.formatTarget(i),e=n.getExpiration(s);n.expirations.delete(s),n.events.emit(Vt.deleted,{target:s,expiration:e})}},n.on=function(i,s){n.events.on(i,s)},n.once=function(i,s){n.events.once(i,s)},n.off=function(i,s){n.events.off(i,s)},n.removeListener=function(i,s){n.events.removeListener(i,s)},n.logger=Object(j.generateChildLogger)(t,n.name),n}return Object(y.a)(f,[{key:"context",get:function(){return Object(j.getLoggerContext)(this.logger)}},{key:"storageKey",get:function(){return this.storagePrefix+this.version+"//"+this.name}},{key:"length",get:function(){return this.expirations.size}},{key:"keys",get:function(){return Array.from(this.expirations.keys())}},{key:"values",get:function(){return Array.from(this.expirations.values())}},{key:"formatTarget",value:function(e){if("string"==typeof e)return Object(C.n)(e);if("number"==typeof e)return Object(C.l)(e);var t=Object(C.s)("UNKNOWN_TYPE","Target type: ".concat(Object(d.a)(e))).message;throw new Error(t)}},{key:"setExpirations",value:(o=Object(h.a)(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.core.storage.setItem(this.storageKey,t);case 2:case"end":return e.stop()}}),e,this)}))),function(e){return o.apply(this,arguments)})},{key:"getExpirations",value:(r=Object(h.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.core.storage.getItem(this.storageKey);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)}))),function(){return r.apply(this,arguments)})},{key:"persist",value:(n=Object(h.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.setExpirations(this.values);case 2:this.events.emit(Vt.sync);case 3:case"end":return e.stop()}}),e,this)}))),function(){return n.apply(this,arguments)})},{key:"restore",value:(t=Object(h.a)(regeneratorRuntime.mark((function e(){var t,n,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.getExpirations();case 3:if(t=e.sent,!(Object(d.a)(t)>"u")&&t.length){e.next=6;break}return e.abrupt("return");case 6:if(!this.expirations.size){e.next=9;break}throw n=Object(C.s)("RESTORE_WILL_OVERRIDE",this.name),r=n.message,this.logger.error(r),new Error(r);case 9:this.cached=t,this.logger.debug("Successfully Restored expirations for ".concat(this.name)),this.logger.trace({type:"method",method:"restore",expirations:this.values}),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),this.logger.debug("Failed to Restore expirations for ".concat(this.name)),this.logger.error(e.t0);case 15:case"end":return e.stop()}}),e,this,[[0,12]])}))),function(){return t.apply(this,arguments)})},{key:"getExpiration",value:function(e){var t=this.expirations.get(e);if(!t){var i=Object(C.s)("NO_MATCHING_KEY","".concat(this.name,": ").concat(e)).message;throw this.logger.error(i),new Error(i)}return t}},{key:"checkExpiry",value:function(e,t){var i=t.expiry;Object(P.toMiliseconds)(i)-Date.now()<=0&&this.expire(e,t)}},{key:"expire",value:function(e,t){this.expirations.delete(e),this.events.emit(Vt.expired,{target:e,expiration:t})}},{key:"checkExpirations",value:function(){var e=this;this.core.relayer.connected&&this.expirations.forEach((function(t,n){return e.checkExpiry(n,t)}))}},{key:"registerEventListeners",value:function(){var e=this;this.core.heartbeat.on(E.HEARTBEAT_EVENTS.pulse,(function(){return e.checkExpirations()})),this.events.on(Vt.created,(function(t){var n=Vt.created;e.logger.info("Emitting ".concat(n)),e.logger.debug({type:"event",event:n,data:t}),e.persist()})),this.events.on(Vt.expired,(function(t){var n=Vt.expired;e.logger.info("Emitting ".concat(n)),e.logger.debug({type:"event",event:n,data:t}),e.persist()})),this.events.on(Vt.deleted,(function(t){var n=Vt.deleted;e.logger.info("Emitting ".concat(n)),e.logger.debug({type:"event",event:n,data:t}),e.persist()}))}},{key:"isInitialized",value:function(){if(!this.initialized){var e=Object(C.s)("NOT_INITIALIZED",this.name).message;throw new Error(e)}}}]),f}(k.c),jn=function(t){Object(c.a)(r,t);var n=L(r);function r(t,o){var c;return Object(m.a)(this,r),(c=n.call(this,t,o)).projectId=t,c.logger=o,c.name=Wt,c.initialized=!1,c.init=function(){var e=Object(h.a)(regeneratorRuntime.mark((function e(i){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=Object(C.F)()||!Object(C.A)(),e.t0){e.next=5;break}return c.verifyUrl=(null==i?void 0:i.verifyUrl)||zt,e.next=5,c.createIframe();case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),c.register=function(){var e=Object(h.a)(regeneratorRuntime.mark((function e(i){var s;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=c.initialized,e.t0){e.next=4;break}return e.next=4,c.init();case 4:if(!c.iframe){e.next=6;break}try{null==(s=c.iframe.contentWindow)||s.postMessage(i.attestationId,c.verifyUrl),c.logger.info("postMessage sent: ".concat(i.attestationId," ").concat(c.verifyUrl))}catch(e){}case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),c.resolve=function(){var e=Object(h.a)(regeneratorRuntime.mark((function e(i){var s,t,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!c.isDevEnv){e.next=2;break}return e.abrupt("return","");case 2:return c.logger.info("resolving attestation: ".concat(i.attestationId)),t=c.startAbortTimer(P.FIVE_SECONDS),e.next=6,fetch("".concat(c.verifyUrl,"/attestation/").concat(i.attestationId),{signal:c.abortController.signal});case 6:if(a=e.sent,clearTimeout(t),200!==a.status){e.next=20;break}return e.next=11,a.json();case 11:if(e.t1=s=e.sent,null!=e.t1){e.next=16;break}e.t2=void 0,e.next=17;break;case 16:e.t2=s.origin;case 17:e.t0=e.t2,e.next=21;break;case 20:e.t0="";case 21:return e.abrupt("return",e.t0);case 22:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),c.createIframe=Object(h.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Promise.race([new Promise((function(i,s){if(document.getElementById(Wt))return i();var e=document.createElement("iframe");e.setAttribute("id",Wt),e.setAttribute("src","".concat(c.verifyUrl,"/").concat(c.projectId)),e.style.display="none",e.addEventListener("load",(function(){c.initialized=!0,i()})),e.addEventListener("error",(function(a){s(a)})),document.body.append(e),c.iframe=e})),new Promise((function(i){setTimeout((function(){return i("iframe load timeout")}),Object(P.toMiliseconds)(P.ONE_SECOND/2))}))]);case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),c.logger.error("Verify iframe failed to load: ".concat(c.verifyUrl)),c.logger.error(e.t0);case 8:case"end":return e.stop()}}),e,null,[[0,5]])}))),c.logger=Object(j.generateChildLogger)(o,c.name),c.verifyUrl=zt,c.abortController=new AbortController,c.isDevEnv=Object(C.D)()&&e.env.IS_VITEST,c}return Object(y.a)(r,[{key:"context",get:function(){return Object(j.getLoggerContext)(this.logger)}},{key:"startAbortTimer",value:function(e){var t=this;return setTimeout((function(){return t.abortController.abort()}),Object(P.toMiliseconds)(e))}}]),r}(k.k),kn=Object.defineProperty,Sn=Object.getOwnPropertySymbols,Rn=Object.prototype.hasOwnProperty,Cn=Object.prototype.propertyIsEnumerable,In=function(e,t,n){return t in e?kn(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n},Pn=function(e,t){for(var n in t||(t={}))Rn.call(t,n)&&In(e,n,t[n]);if(Sn){var r,o=D(Sn(t));try{for(o.s();!(r=o.n()).done;){n=r.value;Cn.call(t,n)&&In(e,n,t[n])}}catch(e){o.e(e)}finally{o.f()}}return e},An=function(e){Object(c.a)(f,e);var t,n,o,l=L(f);function f(e){var t;Object(m.a)(this,f),(t=l.call(this,e)).protocol="wc",t.version=2,t.name=_t,t.events=new _.EventEmitter,t.initialized=!1,t.on=function(i,s){return t.events.on(i,s)},t.once=function(i,s){return t.events.once(i,s)},t.off=function(i,s){return t.events.off(i,s)},t.removeListener=function(i,s){return t.events.removeListener(i,s)},t.projectId=null==e?void 0:e.projectId,t.relayUrl=(null==e?void 0:e.relayUrl)||St;var n=Object(d.a)(null==e?void 0:e.logger)<"u"&&"string"!=typeof(null==e?void 0:e.logger)?e.logger:Object(j.pino)(Object(j.getDefaultLoggerOptions)({level:(null==e?void 0:e.logger)||Ot}));return t.logger=Object(j.generateChildLogger)(n,t.name),t.heartbeat=new E.HeartBeat,t.crypto=new Gt(Object(r.a)(t),t.logger,null==e?void 0:e.keychain),t.history=new xn(Object(r.a)(t),t.logger),t.expirer=new En(Object(r.a)(t),t.logger),t.storage=null!=e&&e.storage?e.storage:new x.a(Pn(Pn({},xt),null==e?void 0:e.storageOptions)),t.relayer=new hn({core:Object(r.a)(t),logger:t.logger,relayUrl:t.relayUrl,projectId:t.projectId}),t.pairing=new On(Object(r.a)(t),t.logger),t.verify=new jn(t.projectId||"",t.logger),t}return Object(y.a)(f,[{key:"context",get:function(){return Object(j.getLoggerContext)(this.logger)}},{key:"start",value:(o=Object(h.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.initialized,e.t0){e.next=4;break}return e.next=4,this.initialize();case 4:case"end":return e.stop()}}),e,this)}))),function(){return o.apply(this,arguments)})},{key:"initialize",value:(n=Object(h.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.logger.trace("Initialized"),e.prev=1,e.next=4,this.crypto.init();case 4:return e.next=6,this.history.init();case 6:return e.next=8,this.expirer.init();case 8:return e.next=10,this.relayer.init();case 10:return e.next=12,this.heartbeat.init();case 12:return e.next=14,this.pairing.init();case 14:this.initialized=!0,this.logger.info("Core Initialization Success"),e.next=21;break;case 18:throw e.prev=18,e.t0=e.catch(1),this.logger.warn("Core Initialization Failure at epoch ".concat(Date.now()),e.t0),this.logger.error(e.t0.message),e.t0;case 21:case"end":return e.stop()}}),e,this,[[1,18]])}))),function(){return n.apply(this,arguments)})}],[{key:"init",value:(t=Object(h.a)(regeneratorRuntime.mark((function e(t){var n,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=new f(t),e.next=3,n.initialize();case 3:return e.next=5,n.crypto.getClientId();case 5:return i=e.sent,e.next=8,n.storage.setItem("WALLETCONNECT_CLIENT_ID",i);case 8:return e.abrupt("return",n);case 9:case"end":return e.stop()}}),e)}))),function(e){return t.apply(this,arguments)})}]),f}(k.a),Tn=An}).call(this,n(51))},1346:function(e,t,n){"use strict";var r=n(2),o=n(33);r({target:"ArrayBuffer",stat:!0,forced:!o.NATIVE_ARRAY_BUFFER_VIEWS},{isView:o.isView})},1347:function(e,t,n){"use strict";var r=n(235),o=n(236);n(74),n(31),n(36),n(114),Object.defineProperty(t,"__esModule",{value:!0}),t.KeyValueStorage=void 0;var c=n(1068),l=n(1069),f=c.__importDefault(n(1348)),d=n(1351),h=function(){function e(){r(this,e),this.localStorage=f.default}return o(e,[{key:"getKeys",value:function(){return c.__awaiter(this,void 0,void 0,regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Object.keys(this.localStorage));case 1:case"end":return e.stop()}}),e,this)})))}},{key:"getEntries",value:function(){return c.__awaiter(this,void 0,void 0,regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Object.entries(this.localStorage).map(d.parseEntry));case 1:case"end":return e.stop()}}),e,this)})))}},{key:"getItem",value:function(e){return c.__awaiter(this,void 0,void 0,regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(null!==(n=this.localStorage.getItem(e))){t.next=3;break}return t.abrupt("return",void 0);case 3:return t.abrupt("return",l.safeJsonParse(n));case 4:case"end":return t.stop()}}),t,this)})))}},{key:"setItem",value:function(e,t){return c.__awaiter(this,void 0,void 0,regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:this.localStorage.setItem(e,l.safeJsonStringify(t));case 1:case"end":return n.stop()}}),n,this)})))}},{key:"removeItem",value:function(e){return c.__awaiter(this,void 0,void 0,regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.localStorage.removeItem(e);case 1:case"end":return t.stop()}}),t,this)})))}}]),e}();t.KeyValueStorage=h,t.default=h},1348:function(e,t,n){"use strict";(function(t){n(1),n(30),n(31),n(1349),function(){var n;function r(){}(n=r).prototype.getItem=function(e){return this.hasOwnProperty(e)?String(this[e]):null},n.prototype.setItem=function(e,t){this[e]=String(t)},n.prototype.removeItem=function(e){delete this[e]},n.prototype.clear=function(){var e=this;Object.keys(e).forEach((function(t){e[t]=void 0,delete e[t]}))},n.prototype.key=function(i){return i=i||0,Object.keys(this)[i]},n.prototype.__defineGetter__("length",(function(){return Object.keys(this).length})),void 0!==t&&t.localStorage?e.exports=t.localStorage:"undefined"!=typeof window&&window.localStorage?e.exports=window.localStorage:e.exports=new r}()}).call(this,n(45))},1349:function(e,t,n){"use strict";var r=n(2),o=n(37),c=n(1350),l=n(64),f=n(58),d=n(70);o&&r({target:"Object",proto:!0,forced:c},{__defineGetter__:function(e,t){d.f(f(this),e,{get:l(t),enumerable:!0,configurable:!0})}})},1350:function(e,t,n){"use strict";var r=n(78),o=n(15),c=n(9),l=n(423);e.exports=r||!c((function(){if(!(l&&l<535)){var e=Math.random();__defineSetter__.call(null,e,(function(){})),delete o[e]}}))},1351:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1068);r.__exportStar(n(1352),t),r.__exportStar(n(1353),t)},1352:function(e,t,n){"use strict";var r=n(236),o=n(235);Object.defineProperty(t,"__esModule",{value:!0}),t.IKeyValueStorage=void 0;var c=r((function e(){o(this,e)}));t.IKeyValueStorage=c},1353:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseEntry=void 0;var r=n(1069);t.parseEntry=function(e){var t;return[e[0],r.safeJsonParse(null!==(t=e[1])&&void 0!==t?t:"")]}},1354:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(899);r.__exportStar(n(1355),t),r.__exportStar(n(1070),t),r.__exportStar(n(1071),t)},1355:function(e,t,n){"use strict";n(1),n(188);var r=n(235),o=n(236),c=n(418),l=n(419),f=n(420);function d(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=f(e);if(t){var o=f(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return l(this,n)}}n(57),n(74),Object.defineProperty(t,"__esModule",{value:!0}),t.HeartBeat=void 0;var h=n(899),v=n(94),m=n(833),y=n(1070),_=n(1071),w=function(e){c(n,e);var t=d(n);function n(e){var o;return r(this,n),(o=t.call(this,e)).events=new v.EventEmitter,o.interval=_.HEARTBEAT_INTERVAL,o.interval=(null==e?void 0:e.interval)||_.HEARTBEAT_INTERVAL,o}return o(n,[{key:"init",value:function(){return h.__awaiter(this,void 0,void 0,regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.initialize();case 2:case"end":return e.stop()}}),e,this)})))}},{key:"stop",value:function(){clearInterval(this.intervalRef)}},{key:"on",value:function(e,t){this.events.on(e,t)}},{key:"once",value:function(e,t){this.events.once(e,t)}},{key:"off",value:function(e,t){this.events.off(e,t)}},{key:"removeListener",value:function(e,t){this.events.removeListener(e,t)}},{key:"initialize",value:function(){return h.__awaiter(this,void 0,void 0,regeneratorRuntime.mark((function e(){var t=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.intervalRef=setInterval((function(){return t.pulse()}),m.toMiliseconds(this.interval));case 1:case"end":return e.stop()}}),e,this)})))}},{key:"pulse",value:function(){this.events.emit(_.HEARTBEAT_EVENTS.pulse)}}],[{key:"init",value:function(e){return h.__awaiter(this,void 0,void 0,regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=new n(e),t.next=3,r.init();case 3:return t.abrupt("return",r);case 4:case"end":return t.stop()}}),t)})))}}]),n}(y.IHeartBeat);t.HeartBeat=w},1356:function(e,t,n){"use strict";n(1),n(188);var r=n(236),o=n(235),c=n(418),l=n(419),f=n(420);function d(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=f(e);if(t){var o=f(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return l(this,n)}}Object.defineProperty(t,"__esModule",{value:!0}),t.IHeartBeat=void 0;var h=function(e){c(n,e);var t=d(n);function n(e){return o(this,n),t.call(this)}return r(n)}(n(1083).IEvents);t.IHeartBeat=h},1357:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.HEARTBEAT_EVENTS=t.HEARTBEAT_INTERVAL=void 0;var r=n(833);t.HEARTBEAT_INTERVAL=r.FIVE_SECONDS,t.HEARTBEAT_EVENTS={pulse:"heartbeat_pulse"}},1358:function(e,t,n){"use strict";n.d(t,"a",(function(){return l})),n.d(t,"b",(function(){return f}));var r=n(12),o=(n(1),n(7),n(8),n(22),n(31),n(76),function(data){return JSON.stringify(data,(function(e,t){return"bigint"==typeof t?t.toString()+"n":t}))}),c=function(e){var t=e.replace(/([\[:])?(\d{17,}|(?:[9](?:[1-9]07199254740991|0[1-9]7199254740991|00[8-9]199254740991|007[2-9]99254740991|007199[3-9]54740991|0071992[6-9]4740991|00719925[5-9]740991|007199254[8-9]40991|0071992547[5-9]0991|00719925474[1-9]991|00719925474099[2-9])))([,\}\]])/g,'$1"$2n"$3');return JSON.parse(t,(function(e,t){return"string"==typeof t&&t.match(/^\d+n$/)?BigInt(t.substring(0,t.length-1)):t}))};function l(e){if("string"!=typeof e)throw new Error("Cannot safe json parse value of type ".concat(Object(r.a)(e)));try{return c(e)}catch(t){return e}}function f(e){return"string"==typeof e?e:o(e)||""}},1359:function(e,t,n){"use strict";var r=n(1072);n.d(t,"generateKeyPair",(function(){return r.a})),n.d(t,"signJWT",(function(){return r.b}));n(900);var o=n(1073);n.o(o,"encodeIss")&&n.d(t,"encodeIss",(function(){return o.encodeIss}));var c=n(978);n.d(t,"encodeIss",(function(){return c.d}))},1360:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.convertSecretKeyToX25519=t.convertPublicKeyToX25519=t.verify=t.sign=t.extractPublicKeyFromSecretKey=t.generateKeyPair=t.generateKeyPairFromSeed=t.SEED_LENGTH=t.SECRET_KEY_LENGTH=t.PUBLIC_KEY_LENGTH=t.SIGNATURE_LENGTH=void 0;const r=n(849),o=n(1361),c=n(821);function l(e){const t=new Float64Array(16);if(e)for(let i=0;i<e.length;i++)t[i]=e[i];return t}t.SIGNATURE_LENGTH=64,t.PUBLIC_KEY_LENGTH=32,t.SECRET_KEY_LENGTH=64,t.SEED_LENGTH=32;new Uint8Array(32)[0]=9;const f=l(),d=l([1]),h=l([30883,4953,19914,30187,55467,16705,2637,112,59544,30585,16505,36039,65139,11119,27886,20995]),v=l([61785,9906,39828,60374,45398,33411,5274,224,53552,61171,33010,6542,64743,22239,55772,9222]),m=l([54554,36645,11616,51542,42930,38181,51040,26924,56412,64982,57905,49316,21502,52590,14035,8553]),y=l([26200,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214]),_=l([41136,18958,6951,50414,58488,44335,6150,12099,55207,15867,153,11085,57099,20417,9344,11139]);function w(e,a){for(let i=0;i<16;i++)e[i]=0|a[i]}function O(e){let t=1;for(let i=0;i<16;i++){let n=e[i]+t+65535;t=Math.floor(n/65536),e[i]=n-65536*t}e[0]+=t-1+37*(t-1)}function x(p,q,b){const e=~(b-1);for(let i=0;i<16;i++){const t=e&(p[i]^q[i]);p[i]^=t,q[i]^=t}}function E(e,t){const n=l(),r=l();for(let i=0;i<16;i++)r[i]=t[i];O(r),O(r),O(r);for(let e=0;e<2;e++){n[0]=r[0]-65517;for(let i=1;i<15;i++)n[i]=r[i]-65535-(n[i-1]>>16&1),n[i-1]&=65535;n[15]=r[15]-32767-(n[14]>>16&1);const b=n[15]>>16&1;n[14]&=65535,x(r,n,1-b)}for(let i=0;i<16;i++)e[2*i]=255&r[i],e[2*i+1]=r[i]>>8}function j(e,t){let n=0;for(let i=0;i<32;i++)n|=e[i]^t[i];return(1&n-1>>>8)-1}function k(a,b){const e=new Uint8Array(32),t=new Uint8Array(32);return E(e,a),E(t,b),j(e,t)}function S(a){const e=new Uint8Array(32);return E(e,a),1&e[0]}function R(e,a,b){for(let i=0;i<16;i++)e[i]=a[i]+b[i]}function sub(e,a,b){for(let i=0;i<16;i++)e[i]=a[i]-b[i]}function C(e,a,b){let t,n,r=0,o=0,c=0,l=0,f=0,d=0,h=0,v=0,m=0,y=0,_=0,w=0,O=0,x=0,E=0,j=0,k=0,S=0,R=0,C=0,I=0,P=0,A=0,T=0,N=0,U=0,M=0,L=0,D=0,$=0,H=0,B=b[0],F=b[1],V=b[2],W=b[3],z=b[4],K=b[5],G=b[6],J=b[7],Y=b[8],X=b[9],Q=b[10],Z=b[11],ee=b[12],te=b[13],ne=b[14],re=b[15];t=a[0],r+=t*B,o+=t*F,c+=t*V,l+=t*W,f+=t*z,d+=t*K,h+=t*G,v+=t*J,m+=t*Y,y+=t*X,_+=t*Q,w+=t*Z,O+=t*ee,x+=t*te,E+=t*ne,j+=t*re,t=a[1],o+=t*B,c+=t*F,l+=t*V,f+=t*W,d+=t*z,h+=t*K,v+=t*G,m+=t*J,y+=t*Y,_+=t*X,w+=t*Q,O+=t*Z,x+=t*ee,E+=t*te,j+=t*ne,k+=t*re,t=a[2],c+=t*B,l+=t*F,f+=t*V,d+=t*W,h+=t*z,v+=t*K,m+=t*G,y+=t*J,_+=t*Y,w+=t*X,O+=t*Q,x+=t*Z,E+=t*ee,j+=t*te,k+=t*ne,S+=t*re,t=a[3],l+=t*B,f+=t*F,d+=t*V,h+=t*W,v+=t*z,m+=t*K,y+=t*G,_+=t*J,w+=t*Y,O+=t*X,x+=t*Q,E+=t*Z,j+=t*ee,k+=t*te,S+=t*ne,R+=t*re,t=a[4],f+=t*B,d+=t*F,h+=t*V,v+=t*W,m+=t*z,y+=t*K,_+=t*G,w+=t*J,O+=t*Y,x+=t*X,E+=t*Q,j+=t*Z,k+=t*ee,S+=t*te,R+=t*ne,C+=t*re,t=a[5],d+=t*B,h+=t*F,v+=t*V,m+=t*W,y+=t*z,_+=t*K,w+=t*G,O+=t*J,x+=t*Y,E+=t*X,j+=t*Q,k+=t*Z,S+=t*ee,R+=t*te,C+=t*ne,I+=t*re,t=a[6],h+=t*B,v+=t*F,m+=t*V,y+=t*W,_+=t*z,w+=t*K,O+=t*G,x+=t*J,E+=t*Y,j+=t*X,k+=t*Q,S+=t*Z,R+=t*ee,C+=t*te,I+=t*ne,P+=t*re,t=a[7],v+=t*B,m+=t*F,y+=t*V,_+=t*W,w+=t*z,O+=t*K,x+=t*G,E+=t*J,j+=t*Y,k+=t*X,S+=t*Q,R+=t*Z,C+=t*ee,I+=t*te,P+=t*ne,A+=t*re,t=a[8],m+=t*B,y+=t*F,_+=t*V,w+=t*W,O+=t*z,x+=t*K,E+=t*G,j+=t*J,k+=t*Y,S+=t*X,R+=t*Q,C+=t*Z,I+=t*ee,P+=t*te,A+=t*ne,T+=t*re,t=a[9],y+=t*B,_+=t*F,w+=t*V,O+=t*W,x+=t*z,E+=t*K,j+=t*G,k+=t*J,S+=t*Y,R+=t*X,C+=t*Q,I+=t*Z,P+=t*ee,A+=t*te,T+=t*ne,N+=t*re,t=a[10],_+=t*B,w+=t*F,O+=t*V,x+=t*W,E+=t*z,j+=t*K,k+=t*G,S+=t*J,R+=t*Y,C+=t*X,I+=t*Q,P+=t*Z,A+=t*ee,T+=t*te,N+=t*ne,U+=t*re,t=a[11],w+=t*B,O+=t*F,x+=t*V,E+=t*W,j+=t*z,k+=t*K,S+=t*G,R+=t*J,C+=t*Y,I+=t*X,P+=t*Q,A+=t*Z,T+=t*ee,N+=t*te,U+=t*ne,M+=t*re,t=a[12],O+=t*B,x+=t*F,E+=t*V,j+=t*W,k+=t*z,S+=t*K,R+=t*G,C+=t*J,I+=t*Y,P+=t*X,A+=t*Q,T+=t*Z,N+=t*ee,U+=t*te,M+=t*ne,L+=t*re,t=a[13],x+=t*B,E+=t*F,j+=t*V,k+=t*W,S+=t*z,R+=t*K,C+=t*G,I+=t*J,P+=t*Y,A+=t*X,T+=t*Q,N+=t*Z,U+=t*ee,M+=t*te,L+=t*ne,D+=t*re,t=a[14],E+=t*B,j+=t*F,k+=t*V,S+=t*W,R+=t*z,C+=t*K,I+=t*G,P+=t*J,A+=t*Y,T+=t*X,N+=t*Q,U+=t*Z,M+=t*ee,L+=t*te,D+=t*ne,$+=t*re,t=a[15],j+=t*B,k+=t*F,S+=t*V,R+=t*W,C+=t*z,I+=t*K,P+=t*G,A+=t*J,T+=t*Y,N+=t*X,U+=t*Q,M+=t*Z,L+=t*ee,D+=t*te,$+=t*ne,H+=t*re,r+=38*k,o+=38*S,c+=38*R,l+=38*C,f+=38*I,d+=38*P,h+=38*A,v+=38*T,m+=38*N,y+=38*U,_+=38*M,w+=38*L,O+=38*D,x+=38*$,E+=38*H,n=1,t=r+n+65535,n=Math.floor(t/65536),r=t-65536*n,t=o+n+65535,n=Math.floor(t/65536),o=t-65536*n,t=c+n+65535,n=Math.floor(t/65536),c=t-65536*n,t=l+n+65535,n=Math.floor(t/65536),l=t-65536*n,t=f+n+65535,n=Math.floor(t/65536),f=t-65536*n,t=d+n+65535,n=Math.floor(t/65536),d=t-65536*n,t=h+n+65535,n=Math.floor(t/65536),h=t-65536*n,t=v+n+65535,n=Math.floor(t/65536),v=t-65536*n,t=m+n+65535,n=Math.floor(t/65536),m=t-65536*n,t=y+n+65535,n=Math.floor(t/65536),y=t-65536*n,t=_+n+65535,n=Math.floor(t/65536),_=t-65536*n,t=w+n+65535,n=Math.floor(t/65536),w=t-65536*n,t=O+n+65535,n=Math.floor(t/65536),O=t-65536*n,t=x+n+65535,n=Math.floor(t/65536),x=t-65536*n,t=E+n+65535,n=Math.floor(t/65536),E=t-65536*n,t=j+n+65535,n=Math.floor(t/65536),j=t-65536*n,r+=n-1+37*(n-1),n=1,t=r+n+65535,n=Math.floor(t/65536),r=t-65536*n,t=o+n+65535,n=Math.floor(t/65536),o=t-65536*n,t=c+n+65535,n=Math.floor(t/65536),c=t-65536*n,t=l+n+65535,n=Math.floor(t/65536),l=t-65536*n,t=f+n+65535,n=Math.floor(t/65536),f=t-65536*n,t=d+n+65535,n=Math.floor(t/65536),d=t-65536*n,t=h+n+65535,n=Math.floor(t/65536),h=t-65536*n,t=v+n+65535,n=Math.floor(t/65536),v=t-65536*n,t=m+n+65535,n=Math.floor(t/65536),m=t-65536*n,t=y+n+65535,n=Math.floor(t/65536),y=t-65536*n,t=_+n+65535,n=Math.floor(t/65536),_=t-65536*n,t=w+n+65535,n=Math.floor(t/65536),w=t-65536*n,t=O+n+65535,n=Math.floor(t/65536),O=t-65536*n,t=x+n+65535,n=Math.floor(t/65536),x=t-65536*n,t=E+n+65535,n=Math.floor(t/65536),E=t-65536*n,t=j+n+65535,n=Math.floor(t/65536),j=t-65536*n,r+=n-1+37*(n-1),e[0]=r,e[1]=o,e[2]=c,e[3]=l,e[4]=f,e[5]=d,e[6]=h,e[7]=v,e[8]=m,e[9]=y,e[10]=_,e[11]=w,e[12]=O,e[13]=x,e[14]=E,e[15]=j}function I(e,a){C(e,a,a)}function P(e,i){const t=l();let a;for(a=0;a<16;a++)t[a]=i[a];for(a=253;a>=0;a--)I(t,t),2!==a&&4!==a&&C(t,t,i);for(a=0;a<16;a++)e[a]=t[a]}function A(p,q){const a=l(),b=l(),e=l(),t=l(),n=l(),r=l(),g=l(),o=l(),c=l();sub(a,p[1],p[0]),sub(c,q[1],q[0]),C(a,a,c),R(b,p[0],p[1]),R(c,q[0],q[1]),C(b,b,c),C(e,p[3],q[3]),C(e,e,v),C(t,p[2],q[2]),R(t,t,t),sub(n,b,a),sub(r,t,e),R(g,t,e),R(o,b,a),C(p[0],n,r),C(p[1],o,g),C(p[2],g,r),C(p[3],n,o)}function T(p,q,b){for(let i=0;i<4;i++)x(p[i],q[i],b)}function N(e,p){const t=l(),n=l(),r=l();P(r,p[2]),C(t,p[0],r),C(n,p[1],r),E(e,n),e[31]^=S(t)<<7}function U(p,q,s){w(p[0],f),w(p[1],d),w(p[2],d),w(p[3],f);for(let i=255;i>=0;--i){const b=s[i/8|0]>>(7&i)&1;T(p,q,b),A(q,p),A(p,p),T(p,q,b)}}function M(p,s){const q=[l(),l(),l(),l()];w(q[0],m),w(q[1],y),w(q[2],d),C(q[3],m,y),U(p,q,s)}function L(e){if(e.length!==t.SEED_LENGTH)throw new Error(`ed25519: seed must be ${t.SEED_LENGTH} bytes`);const n=(0,o.hash)(e);n[0]&=248,n[31]&=127,n[31]|=64;const r=new Uint8Array(32),p=[l(),l(),l(),l()];M(p,n),N(r,p);const c=new Uint8Array(64);return c.set(e),c.set(r,32),{publicKey:r,secretKey:c}}t.generateKeyPairFromSeed=L,t.generateKeyPair=function(e){const t=(0,r.randomBytes)(32,e),n=L(t);return(0,c.wipe)(t),n},t.extractPublicKeyFromSecretKey=function(e){if(e.length!==t.SECRET_KEY_LENGTH)throw new Error(`ed25519: secret key must be ${t.SECRET_KEY_LENGTH} bytes`);return new Uint8Array(e.subarray(32))};const D=new Float64Array([237,211,245,92,26,99,18,88,214,156,247,162,222,249,222,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,16]);function $(e,t){let n,i,r,o;for(i=63;i>=32;--i){for(n=0,r=i-32,o=i-12;r<o;++r)t[r]+=n-16*t[i]*D[r-(i-32)],n=Math.floor((t[r]+128)/256),t[r]-=256*n;t[r]+=n,t[i]=0}for(n=0,r=0;r<32;r++)t[r]+=n-(t[31]>>4)*D[r],n=t[r]>>8,t[r]&=255;for(r=0;r<32;r++)t[r]-=n*D[r];for(i=0;i<32;i++)t[i+1]+=t[i]>>8,e[i]=255&t[i]}function H(e){const t=new Float64Array(64);for(let i=0;i<64;i++)t[i]=e[i];for(let i=0;i<64;i++)e[i]=0;$(e,t)}function B(e,p){const t=l(),n=l(),r=l(),o=l(),c=l(),v=l(),m=l();return w(e[2],d),function(e,t){for(let i=0;i<16;i++)e[i]=t[2*i]+(t[2*i+1]<<8);e[15]&=32767}(e[1],p),I(r,e[1]),C(o,r,h),sub(r,r,e[2]),R(o,e[2],o),I(c,o),I(v,c),C(m,v,c),C(t,m,r),C(t,t,o),function(e,i){const t=l();let a;for(a=0;a<16;a++)t[a]=i[a];for(a=250;a>=0;a--)I(t,t),1!==a&&C(t,t,i);for(a=0;a<16;a++)e[a]=t[a]}(t,t),C(t,t,r),C(t,t,o),C(t,t,o),C(e[0],t,o),I(n,e[0]),C(n,n,o),k(n,r)&&C(e[0],e[0],_),I(n,e[0]),C(n,n,o),k(n,r)?-1:(S(e[0])===p[31]>>7&&sub(e[0],f,e[0]),C(e[3],e[0],e[1]),0)}t.sign=function(e,t){const n=new Float64Array(64),p=[l(),l(),l(),l()],r=(0,o.hash)(e.subarray(0,32));r[0]&=248,r[31]&=127,r[31]|=64;const c=new Uint8Array(64);c.set(r.subarray(32),32);const f=new o.SHA512;f.update(c.subarray(32)),f.update(t);const d=f.digest();f.clean(),H(d),M(p,d),N(c,p),f.reset(),f.update(c.subarray(0,32)),f.update(e.subarray(32)),f.update(t);const h=f.digest();H(h);for(let i=0;i<32;i++)n[i]=d[i];for(let i=0;i<32;i++)for(let e=0;e<32;e++)n[i+e]+=h[i]*r[e];return $(c.subarray(32),n),c},t.verify=function(e,n,r){const c=new Uint8Array(32),p=[l(),l(),l(),l()],q=[l(),l(),l(),l()];if(r.length!==t.SIGNATURE_LENGTH)throw new Error(`ed25519: signature must be ${t.SIGNATURE_LENGTH} bytes`);if(B(q,e))return!1;const f=new o.SHA512;f.update(r.subarray(0,32)),f.update(e),f.update(n);const d=f.digest();return H(d),U(p,q,d),M(q,r.subarray(32)),A(p,q),N(c,p),!j(r,c)},t.convertPublicKeyToX25519=function(e){let q=[l(),l(),l(),l()];if(B(q,e))throw new Error("Ed25519: invalid public key");let a=l(),b=l(),t=q[1];R(a,d,t),sub(b,d,t),P(b,b),C(a,a,b);let n=new Uint8Array(32);return E(n,a),n},t.convertSecretKeyToX25519=function(e){const t=(0,o.hash)(e.subarray(0,32));t[0]&=248,t[31]&=127,t[31]|=64;const n=new Uint8Array(t.subarray(0,32));return(0,c.wipe)(t),n}},1361:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(877),o=n(821);t.DIGEST_LENGTH=64,t.BLOCK_SIZE=128;var c=function(){function e(){this.digestLength=t.DIGEST_LENGTH,this.blockSize=t.BLOCK_SIZE,this._stateHi=new Int32Array(8),this._stateLo=new Int32Array(8),this._tempHi=new Int32Array(16),this._tempLo=new Int32Array(16),this._buffer=new Uint8Array(256),this._bufferLength=0,this._bytesHashed=0,this._finished=!1,this.reset()}return e.prototype._initState=function(){this._stateHi[0]=1779033703,this._stateHi[1]=3144134277,this._stateHi[2]=1013904242,this._stateHi[3]=2773480762,this._stateHi[4]=1359893119,this._stateHi[5]=2600822924,this._stateHi[6]=528734635,this._stateHi[7]=1541459225,this._stateLo[0]=4089235720,this._stateLo[1]=2227873595,this._stateLo[2]=4271175723,this._stateLo[3]=1595750129,this._stateLo[4]=2917565137,this._stateLo[5]=725511199,this._stateLo[6]=4215389547,this._stateLo[7]=327033209},e.prototype.reset=function(){return this._initState(),this._bufferLength=0,this._bytesHashed=0,this._finished=!1,this},e.prototype.clean=function(){o.wipe(this._buffer),o.wipe(this._tempHi),o.wipe(this._tempLo),this.reset()},e.prototype.update=function(data,e){if(void 0===e&&(e=data.length),this._finished)throw new Error("SHA512: can't update because hash was finished.");var n=0;if(this._bytesHashed+=e,this._bufferLength>0){for(;this._bufferLength<t.BLOCK_SIZE&&e>0;)this._buffer[this._bufferLength++]=data[n++],e--;this._bufferLength===this.blockSize&&(f(this._tempHi,this._tempLo,this._stateHi,this._stateLo,this._buffer,0,this.blockSize),this._bufferLength=0)}for(e>=this.blockSize&&(n=f(this._tempHi,this._tempLo,this._stateHi,this._stateLo,data,n,e),e%=this.blockSize);e>0;)this._buffer[this._bufferLength++]=data[n++],e--;return this},e.prototype.finish=function(e){if(!this._finished){var t=this._bytesHashed,n=this._bufferLength,o=t/536870912|0,c=t<<3,l=t%128<112?128:256;this._buffer[n]=128;for(var i=n+1;i<l-8;i++)this._buffer[i]=0;r.writeUint32BE(o,this._buffer,l-8),r.writeUint32BE(c,this._buffer,l-4),f(this._tempHi,this._tempLo,this._stateHi,this._stateLo,this._buffer,0,l),this._finished=!0}for(i=0;i<this.digestLength/8;i++)r.writeUint32BE(this._stateHi[i],e,8*i),r.writeUint32BE(this._stateLo[i],e,8*i+4);return this},e.prototype.digest=function(){var e=new Uint8Array(this.digestLength);return this.finish(e),e},e.prototype.saveState=function(){if(this._finished)throw new Error("SHA256: cannot save finished state");return{stateHi:new Int32Array(this._stateHi),stateLo:new Int32Array(this._stateLo),buffer:this._bufferLength>0?new Uint8Array(this._buffer):void 0,bufferLength:this._bufferLength,bytesHashed:this._bytesHashed}},e.prototype.restoreState=function(e){return this._stateHi.set(e.stateHi),this._stateLo.set(e.stateLo),this._bufferLength=e.bufferLength,e.buffer&&this._buffer.set(e.buffer),this._bytesHashed=e.bytesHashed,this._finished=!1,this},e.prototype.cleanSavedState=function(e){o.wipe(e.stateHi),o.wipe(e.stateLo),e.buffer&&o.wipe(e.buffer),e.bufferLength=0,e.bytesHashed=0},e}();t.SHA512=c;var l=new Int32Array([1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591]);function f(e,t,n,o,c,f,d){for(var h,v,th,m,a,b,y,_,w=n[0],O=n[1],x=n[2],E=n[3],j=n[4],k=n[5],S=n[6],R=n[7],C=o[0],I=o[1],P=o[2],A=o[3],T=o[4],N=o[5],U=o[6],M=o[7];d>=128;){for(var i=0;i<16;i++){var L=8*i+f;e[i]=r.readUint32BE(c,L),t[i]=r.readUint32BE(c,L+4)}for(i=0;i<80;i++){var D,$,H=w,B=O,F=x,V=E,W=j,z=k,K=S,G=C,J=I,Y=P,X=A,Q=T,Z=N,ee=U;if(a=65535&(v=M),b=v>>>16,y=65535&(h=R),_=h>>>16,a+=65535&(v=(T>>>14|j<<18)^(T>>>18|j<<14)^(j>>>9|T<<23)),b+=v>>>16,y+=65535&(h=(j>>>14|T<<18)^(j>>>18|T<<14)^(T>>>9|j<<23)),_+=h>>>16,a+=65535&(v=T&N^~T&U),b+=v>>>16,y+=65535&(h=j&k^~j&S),_+=h>>>16,h=l[2*i],a+=65535&(v=l[2*i+1]),b+=v>>>16,y+=65535&h,_+=h>>>16,h=e[i%16],b+=(v=t[i%16])>>>16,y+=65535&h,_+=h>>>16,y+=(b+=(a+=65535&v)>>>16)>>>16,a=65535&(v=m=65535&a|b<<16),b=v>>>16,y=65535&(h=th=65535&y|(_+=y>>>16)<<16),_=h>>>16,a+=65535&(v=(C>>>28|w<<4)^(w>>>2|C<<30)^(w>>>7|C<<25)),b+=v>>>16,y+=65535&(h=(w>>>28|C<<4)^(C>>>2|w<<30)^(C>>>7|w<<25)),_+=h>>>16,b+=(v=C&I^C&P^I&P)>>>16,y+=65535&(h=w&O^w&x^O&x),_+=h>>>16,D=65535&(y+=(b+=(a+=65535&v)>>>16)>>>16)|(_+=y>>>16)<<16,$=65535&a|b<<16,a=65535&(v=X),b=v>>>16,y=65535&(h=V),_=h>>>16,b+=(v=m)>>>16,y+=65535&(h=th),_+=h>>>16,O=H,x=B,E=F,j=V=65535&(y+=(b+=(a+=65535&v)>>>16)>>>16)|(_+=y>>>16)<<16,k=W,S=z,R=K,w=D,I=G,P=J,A=Y,T=X=65535&a|b<<16,N=Q,U=Z,M=ee,C=$,i%16==15)for(L=0;L<16;L++)h=e[L],a=65535&(v=t[L]),b=v>>>16,y=65535&h,_=h>>>16,h=e[(L+9)%16],a+=65535&(v=t[(L+9)%16]),b+=v>>>16,y+=65535&h,_+=h>>>16,th=e[(L+1)%16],a+=65535&(v=((m=t[(L+1)%16])>>>1|th<<31)^(m>>>8|th<<24)^(m>>>7|th<<25)),b+=v>>>16,y+=65535&(h=(th>>>1|m<<31)^(th>>>8|m<<24)^th>>>7),_+=h>>>16,th=e[(L+14)%16],b+=(v=((m=t[(L+14)%16])>>>19|th<<13)^(th>>>29|m<<3)^(m>>>6|th<<26))>>>16,y+=65535&(h=(th>>>19|m<<13)^(m>>>29|th<<3)^th>>>6),_+=h>>>16,_+=(y+=(b+=(a+=65535&v)>>>16)>>>16)>>>16,e[L]=65535&y|_<<16,t[L]=65535&a|b<<16}a=65535&(v=C),b=v>>>16,y=65535&(h=w),_=h>>>16,h=n[0],b+=(v=o[0])>>>16,y+=65535&h,_+=h>>>16,_+=(y+=(b+=(a+=65535&v)>>>16)>>>16)>>>16,n[0]=w=65535&y|_<<16,o[0]=C=65535&a|b<<16,a=65535&(v=I),b=v>>>16,y=65535&(h=O),_=h>>>16,h=n[1],b+=(v=o[1])>>>16,y+=65535&h,_+=h>>>16,_+=(y+=(b+=(a+=65535&v)>>>16)>>>16)>>>16,n[1]=O=65535&y|_<<16,o[1]=I=65535&a|b<<16,a=65535&(v=P),b=v>>>16,y=65535&(h=x),_=h>>>16,h=n[2],b+=(v=o[2])>>>16,y+=65535&h,_+=h>>>16,_+=(y+=(b+=(a+=65535&v)>>>16)>>>16)>>>16,n[2]=x=65535&y|_<<16,o[2]=P=65535&a|b<<16,a=65535&(v=A),b=v>>>16,y=65535&(h=E),_=h>>>16,h=n[3],b+=(v=o[3])>>>16,y+=65535&h,_+=h>>>16,_+=(y+=(b+=(a+=65535&v)>>>16)>>>16)>>>16,n[3]=E=65535&y|_<<16,o[3]=A=65535&a|b<<16,a=65535&(v=T),b=v>>>16,y=65535&(h=j),_=h>>>16,h=n[4],b+=(v=o[4])>>>16,y+=65535&h,_+=h>>>16,_+=(y+=(b+=(a+=65535&v)>>>16)>>>16)>>>16,n[4]=j=65535&y|_<<16,o[4]=T=65535&a|b<<16,a=65535&(v=N),b=v>>>16,y=65535&(h=k),_=h>>>16,h=n[5],b+=(v=o[5])>>>16,y+=65535&h,_+=h>>>16,_+=(y+=(b+=(a+=65535&v)>>>16)>>>16)>>>16,n[5]=k=65535&y|_<<16,o[5]=N=65535&a|b<<16,a=65535&(v=U),b=v>>>16,y=65535&(h=S),_=h>>>16,h=n[6],b+=(v=o[6])>>>16,y+=65535&h,_+=h>>>16,_+=(y+=(b+=(a+=65535&v)>>>16)>>>16)>>>16,n[6]=S=65535&y|_<<16,o[6]=U=65535&a|b<<16,a=65535&(v=M),b=v>>>16,y=65535&(h=R),_=h>>>16,h=n[7],b+=(v=o[7])>>>16,y+=65535&h,_+=h>>>16,_+=(y+=(b+=(a+=65535&v)>>>16)>>>16)>>>16,n[7]=R=65535&y|_<<16,o[7]=M=65535&a|b<<16,f+=128,d-=128}return f}t.hash=function(data){var e=new c;e.update(data);var t=e.digest();return e.clean(),t}},1362:function(e,t,n){"use strict";(function(e){n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return o})),n.d(t,"c",(function(){return c}));var r=function(){return"undefined"!=typeof WebSocket?WebSocket:void 0!==e&&void 0!==e.WebSocket?e.WebSocket:"undefined"!=typeof window&&void 0!==window.WebSocket?window.WebSocket:"undefined"!=typeof self&&void 0!==self.WebSocket?self.WebSocket:n(1363)},o=function(){return"undefined"!=typeof WebSocket||void 0!==e&&void 0!==e.WebSocket||"undefined"!=typeof window&&void 0!==window.WebSocket||"undefined"!=typeof self&&void 0!==self.WebSocket},c=function(e){return e.split("?")[0]}}).call(this,n(45))},1363:function(e,t,n){"use strict";e.exports=function(){throw new Error("ws does not work in the browser. Browser clients must use the native WebSocket object")}},1364:function(e,t,n){(function(e,n){var r="__lodash_hash_undefined__",o=1,c=2,l=9007199254740991,f="[object Arguments]",d="[object Array]",h="[object AsyncFunction]",v="[object Boolean]",m="[object Date]",y="[object Error]",_="[object Function]",w="[object GeneratorFunction]",O="[object Map]",x="[object Number]",E="[object Null]",j="[object Object]",k="[object Promise]",S="[object Proxy]",R="[object RegExp]",C="[object Set]",I="[object String]",P="[object Symbol]",A="[object Undefined]",T="[object WeakMap]",N="[object ArrayBuffer]",U="[object DataView]",M=/^\[object .+?Constructor\]$/,L=/^(?:0|[1-9]\d*)$/,D={};D["[object Float32Array]"]=D["[object Float64Array]"]=D["[object Int8Array]"]=D["[object Int16Array]"]=D["[object Int32Array]"]=D["[object Uint8Array]"]=D["[object Uint8ClampedArray]"]=D["[object Uint16Array]"]=D["[object Uint32Array]"]=!0,D[f]=D[d]=D[N]=D[v]=D[U]=D[m]=D[y]=D[_]=D[O]=D[x]=D[j]=D[R]=D[C]=D[I]=D[T]=!1;var $="object"==typeof e&&e&&e.Object===Object&&e,H="object"==typeof self&&self&&self.Object===Object&&self,B=$||H||Function("return this")(),F=t&&!t.nodeType&&t,V=F&&"object"==typeof n&&n&&!n.nodeType&&n,W=V&&V.exports===F,z=W&&$.process,K=function(){try{return z&&z.binding&&z.binding("util")}catch(e){}}(),G=K&&K.isTypedArray;function J(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}function Y(map){var e=-1,t=Array(map.size);return map.forEach((function(n,r){t[++e]=[r,n]})),t}function X(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n}var Q,Z,ee,te=Array.prototype,ne=Function.prototype,re=Object.prototype,ie=B["__core-js_shared__"],oe=ne.toString,ae=re.hasOwnProperty,se=(Q=/[^.]+$/.exec(ie&&ie.keys&&ie.keys.IE_PROTO||""))?"Symbol(src)_1."+Q:"",ce=re.toString,ue=RegExp("^"+oe.call(ae).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),le=W?B.Buffer:void 0,fe=B.Symbol,pe=B.Uint8Array,de=re.propertyIsEnumerable,he=te.splice,ve=fe?fe.toStringTag:void 0,me=Object.getOwnPropertySymbols,ge=le?le.isBuffer:void 0,be=(Z=Object.keys,ee=Object,function(e){return Z(ee(e))}),ye=Ke(B,"DataView"),_e=Ke(B,"Map"),we=Ke(B,"Promise"),Oe=Ke(B,"Set"),xe=Ke(B,"WeakMap"),Ee=Ke(Object,"create"),je=Xe(ye),ke=Xe(_e),Se=Xe(we),Re=Xe(Oe),Ce=Xe(xe),Ie=fe?fe.prototype:void 0,Pe=Ie?Ie.valueOf:void 0;function Ae(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Te(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Ne(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Ue(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new Ne;++t<n;)this.add(e[t])}function Me(e){var data=this.__data__=new Te(e);this.size=data.size}function Le(e,t){var n=et(e),r=!n&&Ze(e),o=!n&&!r&&tt(e),c=!n&&!r&&!o&&st(e),l=n||r||o||c,f=l?function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}(e.length,String):[],d=f.length;for(var h in e)!t&&!ae.call(e,h)||l&&("length"==h||o&&("offset"==h||"parent"==h)||c&&("buffer"==h||"byteLength"==h||"byteOffset"==h)||Ye(h,d))||f.push(h);return f}function De(e,t){for(var n=e.length;n--;)if(Qe(e[n][0],t))return n;return-1}function $e(e){return null==e?void 0===e?A:E:ve&&ve in Object(e)?function(e){var t=ae.call(e,ve),n=e[ve];try{e[ve]=void 0;var r=!0}catch(e){}var o=ce.call(e);r&&(t?e[ve]=n:delete e[ve]);return o}(e):function(e){return ce.call(e)}(e)}function He(e){return at(e)&&$e(e)==f}function qe(e,t,n,r,l){return e===t||(null==e||null==t||!at(e)&&!at(t)?e!=e&&t!=t:function(object,e,t,n,r,l){var h=et(object),_=et(e),w=h?d:Je(object),E=_?d:Je(e),k=(w=w==f?j:w)==j,S=(E=E==f?j:E)==j,A=w==E;if(A&&tt(object)){if(!tt(e))return!1;h=!0,k=!1}if(A&&!k)return l||(l=new Me),h||st(object)?Ve(object,e,t,n,r,l):function(object,e,t,n,r,l,f){switch(t){case U:if(object.byteLength!=e.byteLength||object.byteOffset!=e.byteOffset)return!1;object=object.buffer,e=e.buffer;case N:return!(object.byteLength!=e.byteLength||!l(new pe(object),new pe(e)));case v:case m:case x:return Qe(+object,+e);case y:return object.name==e.name&&object.message==e.message;case R:case I:return object==e+"";case O:var d=Y;case C:var h=n&o;if(d||(d=X),object.size!=e.size&&!h)return!1;var _=f.get(object);if(_)return _==e;n|=c,f.set(object,e);var w=Ve(d(object),d(e),n,r,l,f);return f.delete(object),w;case P:if(Pe)return Pe.call(object)==Pe.call(e)}return!1}(object,e,w,t,n,r,l);if(!(t&o)){var T=k&&ae.call(object,"__wrapped__"),M=S&&ae.call(e,"__wrapped__");if(T||M){var L=T?object.value():object,D=M?e.value():e;return l||(l=new Me),r(L,D,t,n,l)}}if(!A)return!1;return l||(l=new Me),function(object,e,t,n,r,c){var l=t&o,f=We(object),d=f.length,h=We(e),v=h.length;if(d!=v&&!l)return!1;var m=d;for(;m--;){var y=f[m];if(!(l?y in e:ae.call(e,y)))return!1}var _=c.get(object);if(_&&c.get(e))return _==e;var w=!0;c.set(object,e),c.set(e,object);var O=l;for(;++m<d;){var x=object[y=f[m]],E=e[y];if(n)var j=l?n(E,x,y,e,object,c):n(x,E,y,object,e,c);if(!(void 0===j?x===E||r(x,E,t,n,c):j)){w=!1;break}O||(O="constructor"==y)}if(w&&!O){var k=object.constructor,S=e.constructor;k==S||!("constructor"in object)||!("constructor"in e)||"function"==typeof k&&k instanceof k&&"function"==typeof S&&S instanceof S||(w=!1)}return c.delete(object),c.delete(e),w}(object,e,t,n,r,l)}(e,t,n,r,qe,l))}function Be(e){return!(!ot(e)||function(e){return!!se&&se in e}(e))&&(nt(e)?ue:M).test(Xe(e))}function Fe(object){if(t=(e=object)&&e.constructor,n="function"==typeof t&&t.prototype||re,e!==n)return be(object);var e,t,n,r=[];for(var o in Object(object))ae.call(object,o)&&"constructor"!=o&&r.push(o);return r}function Ve(e,t,n,r,l,f){var d=n&o,h=e.length,v=t.length;if(h!=v&&!(d&&v>h))return!1;var m=f.get(e);if(m&&f.get(t))return m==t;var y=-1,_=!0,w=n&c?new Ue:void 0;for(f.set(e,t),f.set(t,e);++y<h;){var O=e[y],x=t[y];if(r)var E=d?r(x,O,y,t,e,f):r(O,x,y,e,t,f);if(void 0!==E){if(E)continue;_=!1;break}if(w){if(!J(t,(function(e,t){if(o=t,!w.has(o)&&(O===e||l(O,e,n,r,f)))return w.push(t);var o}))){_=!1;break}}else if(O!==x&&!l(O,x,n,r,f)){_=!1;break}}return f.delete(e),f.delete(t),_}function We(object){return function(object,e,t){var n=e(object);return et(object)?n:function(e,t){for(var n=-1,r=t.length,o=e.length;++n<r;)e[o+n]=t[n];return e}(n,t(object))}(object,ct,Ge)}function ze(map,e){var t,n,data=map.__data__;return("string"==(n=typeof(t=e))||"number"==n||"symbol"==n||"boolean"==n?"__proto__"!==t:null===t)?data["string"==typeof e?"string":"hash"]:data.map}function Ke(object,e){var t=function(object,e){return null==object?void 0:object[e]}(object,e);return Be(t)?t:void 0}Ae.prototype.clear=function(){this.__data__=Ee?Ee(null):{},this.size=0},Ae.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},Ae.prototype.get=function(e){var data=this.__data__;if(Ee){var t=data[e];return t===r?void 0:t}return ae.call(data,e)?data[e]:void 0},Ae.prototype.has=function(e){var data=this.__data__;return Ee?void 0!==data[e]:ae.call(data,e)},Ae.prototype.set=function(e,t){var data=this.__data__;return this.size+=this.has(e)?0:1,data[e]=Ee&&void 0===t?r:t,this},Te.prototype.clear=function(){this.__data__=[],this.size=0},Te.prototype.delete=function(e){var data=this.__data__,t=De(data,e);return!(t<0)&&(t==data.length-1?data.pop():he.call(data,t,1),--this.size,!0)},Te.prototype.get=function(e){var data=this.__data__,t=De(data,e);return t<0?void 0:data[t][1]},Te.prototype.has=function(e){return De(this.__data__,e)>-1},Te.prototype.set=function(e,t){var data=this.__data__,n=De(data,e);return n<0?(++this.size,data.push([e,t])):data[n][1]=t,this},Ne.prototype.clear=function(){this.size=0,this.__data__={hash:new Ae,map:new(_e||Te),string:new Ae}},Ne.prototype.delete=function(e){var t=ze(this,e).delete(e);return this.size-=t?1:0,t},Ne.prototype.get=function(e){return ze(this,e).get(e)},Ne.prototype.has=function(e){return ze(this,e).has(e)},Ne.prototype.set=function(e,t){var data=ze(this,e),n=data.size;return data.set(e,t),this.size+=data.size==n?0:1,this},Ue.prototype.add=Ue.prototype.push=function(e){return this.__data__.set(e,r),this},Ue.prototype.has=function(e){return this.__data__.has(e)},Me.prototype.clear=function(){this.__data__=new Te,this.size=0},Me.prototype.delete=function(e){var data=this.__data__,t=data.delete(e);return this.size=data.size,t},Me.prototype.get=function(e){return this.__data__.get(e)},Me.prototype.has=function(e){return this.__data__.has(e)},Me.prototype.set=function(e,t){var data=this.__data__;if(data instanceof Te){var n=data.__data__;if(!_e||n.length<199)return n.push([e,t]),this.size=++data.size,this;data=this.__data__=new Ne(n)}return data.set(e,t),this.size=data.size,this};var Ge=me?function(object){return null==object?[]:(object=Object(object),function(e,t){for(var n=-1,r=null==e?0:e.length,o=0,c=[];++n<r;){var l=e[n];t(l,n,e)&&(c[o++]=l)}return c}(me(object),(function(symbol){return de.call(object,symbol)})))}:function(){return[]},Je=$e;function Ye(e,t){return!!(t=null==t?l:t)&&("number"==typeof e||L.test(e))&&e>-1&&e%1==0&&e<t}function Xe(e){if(null!=e){try{return oe.call(e)}catch(e){}try{return e+""}catch(e){}}return""}function Qe(e,t){return e===t||e!=e&&t!=t}(ye&&Je(new ye(new ArrayBuffer(1)))!=U||_e&&Je(new _e)!=O||we&&Je(we.resolve())!=k||Oe&&Je(new Oe)!=C||xe&&Je(new xe)!=T)&&(Je=function(e){var t=$e(e),n=t==j?e.constructor:void 0,r=n?Xe(n):"";if(r)switch(r){case je:return U;case ke:return O;case Se:return k;case Re:return C;case Ce:return T}return t});var Ze=He(function(){return arguments}())?He:function(e){return at(e)&&ae.call(e,"callee")&&!de.call(e,"callee")},et=Array.isArray;var tt=ge||function(){return!1};function nt(e){if(!ot(e))return!1;var t=$e(e);return t==_||t==w||t==h||t==S}function it(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=l}function ot(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function at(e){return null!=e&&"object"==typeof e}var st=G?function(e){return function(t){return e(t)}}(G):function(e){return at(e)&&it(e.length)&&!!D[$e(e)]};function ct(object){return null!=(e=object)&&it(e.length)&&!nt(e)?Le(object):Fe(object);var e}n.exports=function(e,t){return qe(e,t)}}).call(this,n(45),n(403)(e))},1365:function(e,t,n){"use strict";(function(e,r){n.d(t,"a",(function(){return l})),n.d(t,"b",(function(){return d})),n.d(t,"c",(function(){return h}));n(77),n(61),n(69),n(13);var o=n(12),c=n(191);n(16),n(74),n(8),n(232),n(68),n(1),n(30),n(87),n(31),n(93),n(36),n(35),n(49),n(14),n(32),n(22),n(39),n(76),n(167),n(41),n(192),n(42),n(193),n(194),n(195),n(196),n(197),n(198),n(199),n(200),n(201),n(202),n(203),n(204),n(205),n(114),n(266),n(57),n(285),n(960),n(21),n(268),n(269),n(270),n(271),n(272),n(273),n(274),n(275),n(276),n(277),n(278),n(279),n(280),n(281),n(282),n(283),n(284),n(52),n(190),n(862),n(863),n(840),n(835),n(407),n(7),n(411),n(961),n(963),n(849),n(964),n(965),n(895),n(1368),n(833),n(1075),n(1366),n(1367),n(972);function l(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=[];return Object.keys(e).forEach((function(r){if(!t.length||t.includes(r)){var o=e[r];n.push.apply(n,Object(c.a)(o.accounts))}})),n}Object.defineProperty,Object.getOwnPropertySymbols,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable;Object.defineProperty,Object.getOwnPropertySymbols,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable;Object.defineProperty,Object.defineProperties,Object.getOwnPropertyDescriptors,Object.getOwnPropertySymbols,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable;var f={INVALID_METHOD:{message:"Invalid method.",code:1001},INVALID_EVENT:{message:"Invalid event.",code:1002},INVALID_UPDATE_REQUEST:{message:"Invalid update request.",code:1003},INVALID_EXTEND_REQUEST:{message:"Invalid extend request.",code:1004},INVALID_SESSION_SETTLE_REQUEST:{message:"Invalid session settle request.",code:1005},UNAUTHORIZED_METHOD:{message:"Unauthorized method.",code:3001},UNAUTHORIZED_EVENT:{message:"Unauthorized event.",code:3002},UNAUTHORIZED_UPDATE_REQUEST:{message:"Unauthorized update request.",code:3003},UNAUTHORIZED_EXTEND_REQUEST:{message:"Unauthorized extend request.",code:3004},USER_REJECTED:{message:"User rejected.",code:5e3},USER_REJECTED_CHAINS:{message:"User rejected chains.",code:5001},USER_REJECTED_METHODS:{message:"User rejected methods.",code:5002},USER_REJECTED_EVENTS:{message:"User rejected events.",code:5003},UNSUPPORTED_CHAINS:{message:"Unsupported chains.",code:5100},UNSUPPORTED_METHODS:{message:"Unsupported methods.",code:5101},UNSUPPORTED_EVENTS:{message:"Unsupported events.",code:5102},UNSUPPORTED_ACCOUNTS:{message:"Unsupported accounts.",code:5103},UNSUPPORTED_NAMESPACE_KEY:{message:"Unsupported namespace key.",code:5104},USER_DISCONNECTED:{message:"User disconnected.",code:6e3},SESSION_SETTLEMENT_FAILED:{message:"Session settlement failed.",code:7e3},WC_METHOD_UNSUPPORTED:{message:"Unsupported wc_ method.",code:10001}};function d(e,t){var n=f[e],r=n.message,o=n.code;return{message:t?"".concat(r," ").concat(t):r,code:o}}function h(e,t){return!!Array.isArray(e)&&(!(Object(o.a)(t)<"u"&&e.length)||e.every(t))}}).call(this,n(51),n(45))},1366:function(e,t,n){"use strict";var r=n(113);n(68),n(35),n(1),n(36),n(87),n(93),Object.defineProperty(t,"__esModule",{value:!0}),t.getWindowMetadata=void 0;var o=n(1075);t.getWindowMetadata=function(){var e,t;try{e=o.getDocumentOrThrow(),t=o.getLocationOrThrow()}catch(e){return null}function n(){for(var t=arguments.length,n=new Array(t),o=0;o<t;o++)n[o]=arguments[o];for(var c=e.getElementsByTagName("meta"),l=function(){var e=c[i],t=["itemprop","property","name"].map((function(t){return e.getAttribute(t)})).filter((function(e){return!!e&&n.includes(e)}));if(t.length&&t){var content=e.getAttribute("content");if(content)return{v:content}}},i=0;i<c.length;i++){var f=l();if("object"===r(f))return f.v}return""}var c=function(){var t=n("name","og:site_name","og:title","twitter:title");return t||(t=e.title),t}();return{description:n("description","og:description","twitter:description","keywords"),url:t.origin,icons:function(){for(var n=e.getElementsByTagName("link"),r=[],i=0;i<n.length;i++){var link=n[i],o=link.getAttribute("rel");if(o&&o.toLowerCase().indexOf("icon")>-1){var c=link.getAttribute("href");if(c)if(-1===c.toLowerCase().indexOf("https:")&&-1===c.toLowerCase().indexOf("http:")&&0!==c.indexOf("//")){var l=t.protocol+"//"+t.host;if(0===c.indexOf("/"))l+=c;else{var path=t.pathname.split("/");path.pop(),l+=path.join("/")+"/"+c}r.push(l)}else if(0===c.indexOf("//")){var f=t.protocol+c;r.push(f)}else r.push(c)}}return r}(),name:c}}},1367:function(e,t,n){"use strict";n(7),n(39),n(77),n(42),n(69),n(41);var r=n(287),o=n(234),c=n(113),l=n(865);function f(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return d(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return d(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var i=0,r=function(){};return{s:r,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,c=!0,l=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return c=e.done,e},e:function(e){l=!0,o=e},f:function(){try{c||null==n.return||n.return()}finally{if(l)throw o}}}}function d(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,n=new Array(t);i<t;i++)n[i]=e[i];return n}n(32),n(61),n(1),n(21),n(68),n(8),n(22),n(87),n(93),n(36),n(232),n(189),n(31),n(49),n(14),n(540),n(266),n(35);var h=n(968),v=n(969),m=n(970),y=n(971),_=Symbol("encodeFragmentIdentifier");function w(e){if("string"!=typeof e||1!==e.length)throw new TypeError("arrayFormatSeparator must be single character string")}function O(e,t){return t.encode?t.strict?h(e):encodeURIComponent(e):e}function x(e,t){return t.decode?v(e):e}function E(input){return Array.isArray(input)?input.sort():"object"===c(input)?E(Object.keys(input)).sort((function(a,b){return Number(a)-Number(b)})).map((function(e){return input[e]})):input}function j(input){var e=input.indexOf("#");return-1!==e&&(input=input.slice(0,e)),input}function k(input){var e=(input=j(input)).indexOf("?");return-1===e?"":input.slice(e+1)}function S(e,t){return t.parseNumbers&&!Number.isNaN(Number(e))&&"string"==typeof e&&""!==e.trim()?e=Number(e):!t.parseBooleans||null===e||"true"!==e.toLowerCase()&&"false"!==e.toLowerCase()||(e="true"===e.toLowerCase()),e}function R(e,t){w((t=Object.assign({decode:!0,sort:!0,arrayFormat:"none",arrayFormatSeparator:",",parseNumbers:!1,parseBooleans:!1},t)).arrayFormatSeparator);var n=function(e){var t;switch(e.arrayFormat){case"index":return function(e,n,r){t=/\[(\d*)\]$/.exec(e),e=e.replace(/\[\d*\]$/,""),t?(void 0===r[e]&&(r[e]={}),r[e][t[1]]=n):r[e]=n};case"bracket":return function(e,n,r){t=/(\[\])$/.exec(e),e=e.replace(/\[\]$/,""),t?void 0!==r[e]?r[e]=[].concat(r[e],n):r[e]=[n]:r[e]=n};case"colon-list-separator":return function(e,n,r){t=/(:list)$/.exec(e),e=e.replace(/:list$/,""),t?void 0!==r[e]?r[e]=[].concat(r[e],n):r[e]=[n]:r[e]=n};case"comma":case"separator":return function(t,n,r){var o="string"==typeof n&&n.includes(e.arrayFormatSeparator),c="string"==typeof n&&!o&&x(n,e).includes(e.arrayFormatSeparator);n=c?x(n,e):n;var l=o||c?n.split(e.arrayFormatSeparator).map((function(t){return x(t,e)})):null===n?n:x(n,e);r[t]=l};case"bracket-separator":return function(t,n,r){var o=/(\[\])$/.test(t);if(t=t.replace(/\[\]$/,""),o){var c=null===n?[]:n.split(e.arrayFormatSeparator).map((function(t){return x(t,e)}));void 0!==r[t]?r[t]=[].concat(r[t],c):r[t]=c}else r[t]=n?x(n,e):n};default:return function(e,t,n){void 0!==n[e]?n[e]=[].concat(n[e],t):n[e]=t}}}(t),r=Object.create(null);if("string"!=typeof e)return r;if(!(e=e.trim().replace(/^[?#&]/,"")))return r;var l,d=f(e.split("&"));try{for(d.s();!(l=d.n()).done;){var param=l.value;if(""!==param){var h=m(t.decode?param.replace(/\+/g," "):param,"="),v=o(h,2),y=v[0],_=v[1];_=void 0===_?null:["comma","separator","bracket-separator"].includes(t.arrayFormat)?_:x(_,t),n(x(y,t),_,r)}}}catch(e){d.e(e)}finally{d.f()}for(var O=0,j=Object.keys(r);O<j.length;O++){var k=j[O],R=r[k];if("object"===c(R)&&null!==R)for(var C=0,I=Object.keys(R);C<I.length;C++){var P=I[C];R[P]=S(R[P],t)}else r[k]=S(R,t)}return!1===t.sort?r:(!0===t.sort?Object.keys(r).sort():Object.keys(r).sort(t.sort)).reduce((function(e,t){var n=r[t];return Boolean(n)&&"object"===c(n)&&!Array.isArray(n)?e[t]=E(n):e[t]=n,e}),Object.create(null))}t.extract=k,t.parse=R,t.stringify=function(object,e){if(!object)return"";w((e=Object.assign({encode:!0,strict:!0,arrayFormat:"none",arrayFormatSeparator:","},e)).arrayFormatSeparator);for(var t=function(t){return e.skipNull&&null==object[t]||e.skipEmptyString&&""===object[t]},n=function(e){switch(e.arrayFormat){case"index":return function(t){return function(n,r){var o=n.length;return void 0===r||e.skipNull&&null===r||e.skipEmptyString&&""===r?n:[].concat(l(n),null===r?[[O(t,e),"[",o,"]"].join("")]:[[O(t,e),"[",O(o,e),"]=",O(r,e)].join("")])}};case"bracket":return function(t){return function(n,r){return void 0===r||e.skipNull&&null===r||e.skipEmptyString&&""===r?n:[].concat(l(n),null===r?[[O(t,e),"[]"].join("")]:[[O(t,e),"[]=",O(r,e)].join("")])}};case"colon-list-separator":return function(t){return function(n,r){return void 0===r||e.skipNull&&null===r||e.skipEmptyString&&""===r?n:[].concat(l(n),null===r?[[O(t,e),":list="].join("")]:[[O(t,e),":list=",O(r,e)].join("")])}};case"comma":case"separator":case"bracket-separator":var t="bracket-separator"===e.arrayFormat?"[]=":"=";return function(n){return function(r,o){return void 0===o||e.skipNull&&null===o||e.skipEmptyString&&""===o?r:(o=null===o?"":o,0===r.length?[[O(n,e),t,O(o,e)].join("")]:[[r,O(o,e)].join(e.arrayFormatSeparator)])}};default:return function(t){return function(n,r){return void 0===r||e.skipNull&&null===r||e.skipEmptyString&&""===r?n:[].concat(l(n),null===r?[O(t,e)]:[[O(t,e),"=",O(r,e)].join("")])}}}}(e),r={},o=0,c=Object.keys(object);o<c.length;o++){var f=c[o];t(f)||(r[f]=object[f])}var d=Object.keys(r);return!1!==e.sort&&d.sort(e.sort),d.map((function(t){var r=object[t];return void 0===r?"":null===r?O(t,e):Array.isArray(r)?0===r.length&&"bracket-separator"===e.arrayFormat?O(t,e)+"[]":r.reduce(n(t),[]).join("&"):O(t,e)+"="+O(r,e)})).filter((function(e){return e.length>0})).join("&")},t.parseUrl=function(e,t){t=Object.assign({decode:!0},t);var n=m(e,"#"),r=o(n,2),c=r[0],l=r[1];return Object.assign({url:c.split("?")[0]||"",query:R(k(e),t)},t&&t.parseFragmentIdentifier&&l?{fragmentIdentifier:x(l,t)}:{})},t.stringifyUrl=function(object,e){e=Object.assign(r({encode:!0,strict:!0},_,!0),e);var n=j(object.url).split("?")[0]||"",o=t.extract(object.url),c=t.parse(o,{sort:!1}),l=Object.assign(c,object.query),f=t.stringify(l,e);f&&(f="?".concat(f));var d=function(e){var t="",n=e.indexOf("#");return-1!==n&&(t=e.slice(n)),t}(object.url);return object.fragmentIdentifier&&(d="#".concat(e[_]?O(object.fragmentIdentifier,e):object.fragmentIdentifier)),"".concat(n).concat(f).concat(d)},t.pick=function(input,filter,e){e=Object.assign(r({parseFragmentIdentifier:!0},_,!1),e);var n=t.parseUrl(input,e),o=n.url,c=n.query,l=n.fragmentIdentifier;return t.stringifyUrl({url:o,query:y(c,filter),fragmentIdentifier:l},e)},t.exclude=function(input,filter,e){var n=Array.isArray(filter)?function(e){return!filter.includes(e)}:function(e,t){return!filter(e,t)};return t.pick(input,n,e)}},1368:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return _}));n(14),n(21),n(39),n(1),n(8),n(68);var r=function(e,t,n){if(n||2===arguments.length)for(var r,i=0,o=t.length;i<o;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))},o=function(e,t,n){this.name=e,this.version=t,this.os=n,this.type="browser"},c=function(t){this.version=t,this.type="node",this.name="node",this.os=e.platform},l=function(e,t,n,r){this.name=e,this.version=t,this.os=n,this.bot=r,this.type="bot-device"},f=function(){this.type="bot",this.bot=!0,this.name="bot",this.version=null,this.os=null},d=function(){this.type="react-native",this.name="react-native",this.version=null,this.os=null},h=/(nuhk|curl|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask\ Jeeves\/Teoma|ia_archiver)/,v=3,m=[["aol",/AOLShield\/([0-9\._]+)/],["edge",/Edge\/([0-9\._]+)/],["edge-ios",/EdgiOS\/([0-9\._]+)/],["yandexbrowser",/YaBrowser\/([0-9\._]+)/],["kakaotalk",/KAKAOTALK\s([0-9\.]+)/],["samsung",/SamsungBrowser\/([0-9\.]+)/],["silk",/\bSilk\/([0-9._-]+)\b/],["miui",/MiuiBrowser\/([0-9\.]+)$/],["beaker",/BeakerBrowser\/([0-9\.]+)/],["edge-chromium",/EdgA?\/([0-9\.]+)/],["chromium-webview",/(?!Chrom.*OPR)wv\).*Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["chrome",/(?!Chrom.*OPR)Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["phantomjs",/PhantomJS\/([0-9\.]+)(:?\s|$)/],["crios",/CriOS\/([0-9\.]+)(:?\s|$)/],["firefox",/Firefox\/([0-9\.]+)(?:\s|$)/],["fxios",/FxiOS\/([0-9\.]+)/],["opera-mini",/Opera Mini.*Version\/([0-9\.]+)/],["opera",/Opera\/([0-9\.]+)(?:\s|$)/],["opera",/OPR\/([0-9\.]+)(:?\s|$)/],["pie",/^Microsoft Pocket Internet Explorer\/(\d+\.\d+)$/],["pie",/^Mozilla\/\d\.\d+\s\(compatible;\s(?:MSP?IE|MSInternet Explorer) (\d+\.\d+);.*Windows CE.*\)$/],["netfront",/^Mozilla\/\d\.\d+.*NetFront\/(\d.\d)/],["ie",/Trident\/7\.0.*rv\:([0-9\.]+).*\).*Gecko$/],["ie",/MSIE\s([0-9\.]+);.*Trident\/[4-7].0/],["ie",/MSIE\s(7\.0)/],["bb10",/BB10;\sTouch.*Version\/([0-9\.]+)/],["android",/Android\s([0-9\.]+)/],["ios",/Version\/([0-9\._]+).*Mobile.*Safari.*/],["safari",/Version\/([0-9\._]+).*Safari/],["facebook",/FB[AS]V\/([0-9\.]+)/],["instagram",/Instagram\s([0-9\.]+)/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Mobile/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Gecko\)$/],["curl",/^curl\/([0-9\.]+)$/],["searchbot",/alexa|bot|crawl(er|ing)|facebookexternalhit|feedburner|google web preview|nagios|postrank|pingdom|slurp|spider|yahoo!|yandex/]],y=[["iOS",/iP(hone|od|ad)/],["Android OS",/Android/],["BlackBerry OS",/BlackBerry|BB10/],["Windows Mobile",/IEMobile/],["Amazon OS",/Kindle/],["Windows 3.11",/Win16/],["Windows 95",/(Windows 95)|(Win95)|(Windows_95)/],["Windows 98",/(Windows 98)|(Win98)/],["Windows 2000",/(Windows NT 5.0)|(Windows 2000)/],["Windows XP",/(Windows NT 5.1)|(Windows XP)/],["Windows Server 2003",/(Windows NT 5.2)/],["Windows Vista",/(Windows NT 6.0)/],["Windows 7",/(Windows NT 6.1)/],["Windows 8",/(Windows NT 6.2)/],["Windows 8.1",/(Windows NT 6.3)/],["Windows 10",/(Windows NT 10.0)/],["Windows ME",/Windows ME/],["Windows CE",/Windows CE|WinCE|Microsoft Pocket Internet Explorer/],["Open BSD",/OpenBSD/],["Sun OS",/SunOS/],["Chrome OS",/CrOS/],["Linux",/(Linux)|(X11)/],["Mac OS",/(Mac_PowerPC)|(Macintosh)/],["QNX",/QNX/],["BeOS",/BeOS/],["OS/2",/OS\/2/]];function _(t){return t?O(t):"undefined"==typeof document&&"undefined"!=typeof navigator&&"ReactNative"===navigator.product?new d:"undefined"!=typeof navigator?O(navigator.userAgent):void 0!==e&&e.version?new c(e.version.slice(1)):null}function w(e){return""!==e&&m.reduce((function(t,n){var r=n[0],o=n[1];if(t)return t;var c=o.exec(e);return!!c&&[r,c]}),!1)}function O(e){var t=w(e);if(!t)return null;var n=t[0],c=t[1];if("searchbot"===n)return new f;var d=c[1]&&c[1].split(".").join("_").split("_").slice(0,3);d?d.length<v&&(d=r(r([],d,!0),function(e){for(var output=[],t=0;t<e;t++)output.push("0");return output}(v-d.length),!0)):d=[];var m=d.join("."),_=function(e){for(var t=0,n=y.length;t<n;t++){var r=y[t],o=r[0];if(r[1].exec(e))return o}return null}(e),O=h.exec(e);return O&&O[1]?new l(n,m,_,O[1]):new o(n,m,_)}}).call(this,n(51))},1397:function(e,t,n){"use strict";n(36),n(35),n(1),n(39);var r=n(6),o=(n(49),n(21),n(784)),c=n(743),l=n(100),f=n(4),d=n(824),h=n(13),v=(n(74),n(190),n(31),n(32),n(48),n(30),n(52),n(14),n(77),n(8),n(61),n(69),n(16)),m=n(55),y=n(56),_=n(191),w=(n(7),n(87),n(268),n(42),n(269),n(270),n(271),n(272),n(273),n(274),n(275),n(276),n(277),n(278),n(279),n(280),n(281),n(282),n(283),n(284),n(41),n(285),n(94)),O=n(1365),x=n(1283);function E(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return j(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return j(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var i=0,r=function(){};return{s:r,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,c=!0,l=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return c=e.done,e},e:function(e){l=!0,o=e},f:function(){try{c||null==n.return||n.return()}finally{if(l)throw o}}}}function j(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,n=new Array(t);i<t;i++)n[i]=e[i];return n}var k="".concat("wc","@2:").concat("ethereum_provider",":"),u=["eth_sendTransaction","personal_sign"],S=["eth_accounts","eth_requestAccounts","eth_sendRawTransaction","eth_sign","eth_signTransaction","eth_signTypedData","eth_signTypedData_v3","eth_signTypedData_v4","wallet_switchEthereumChain","wallet_addEthereumChain","wallet_getPermissions","wallet_requestPermissions","wallet_registerOnboarding","wallet_watchAsset","wallet_scanQRCode"],R=["chainChanged","accountsChanged"],C=["message","disconnect","connect"],I=Object.defineProperty,q=Object.defineProperties,P=Object.getOwnPropertyDescriptors,A=Object.getOwnPropertySymbols,T=Object.prototype.hasOwnProperty,N=Object.prototype.propertyIsEnumerable,U=function(a,e,s){return e in a?I(a,e,{enumerable:!0,configurable:!0,writable:!0,value:s}):a[e]=s},p=function(a,e){for(var s in e||(e={}))T.call(e,s)&&U(a,s,e[s]);if(A){var t,n=E(A(e));try{for(n.s();!(t=n.n()).done;){s=t.value;N.call(e,s)&&U(a,s,e[s])}}catch(e){n.e(e)}finally{n.f()}}return a},M=function(a,e){return q(a,P(e))};function g(a){return Number(a[0].split(":")[1])}function L(a){return"0x".concat(a.toString(16))}function D(a){var e=a.chains,s=a.optionalChains,i=a.methods,t=a.optionalMethods,n=a.events,o=a.optionalEvents,c=a.rpcMap;if(!Object(O.c)(e))throw new Error("Invalid chains");var l={chains:e,methods:i||u,events:n||R,rpcMap:p({},e.length?Object(r.a)({},g(e),c[g(e)]):{})},f=null==n?void 0:n.filter((function(e){return!R.includes(e)})),d=null==i?void 0:i.filter((function(e){return!u.includes(e)}));if(!(s||o||t||null!=f&&f.length||null!=d&&d.length))return{required:e.length?l:void 0};var h=(null==f?void 0:f.length)&&(null==d?void 0:d.length)||!s,v={chains:Object(_.a)(new Set(h?l.chains.concat(s||[]):s)),methods:Object(_.a)(new Set(l.methods.concat(null!=t&&t.length?t:S))),events:Object(_.a)(new Set(l.events.concat(o||C))),rpcMap:c};return{required:e.length?l:void 0,optional:s.length?v:void 0}}var $=function(){function e(){var t=this;Object(m.a)(this,e),this.events=new w.EventEmitter,this.namespace="eip155",this.accounts=[],this.chainId=1,this.STORAGE_KEY=k,this.on=function(e,s){return t.events.on(e,s),t},this.once=function(e,s){return t.events.once(e,s),t},this.removeListener=function(e,s){return t.events.removeListener(e,s),t},this.off=function(e,s){return t.events.off(e,s),t},this.parseAccount=function(e){return t.isCompatibleChainId(e)?t.parseAccountId(e).address:e},this.signer={},this.rpc={}}var t,o,c,l,f,d,_;return Object(y.a)(e,[{key:"request",value:(_=Object(h.a)(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.signer.request(t,this.formatChainId(this.chainId));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)}))),function(e){return _.apply(this,arguments)})},{key:"sendAsync",value:function(e,s){this.signer.sendAsync(e,s,this.formatChainId(this.chainId))}},{key:"connected",get:function(){return!!this.signer.client&&this.signer.client.core.relayer.connected}},{key:"connecting",get:function(){return!!this.signer.client&&this.signer.client.core.relayer.connecting}},{key:"enable",value:(d=Object(h.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.session,e.t0){e.next=4;break}return e.next=4,this.connect();case 4:return e.next=6,this.request({method:"eth_requestAccounts"});case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}}),e,this)}))),function(){return d.apply(this,arguments)})},{key:"connect",value:(f=Object(h.a)(regeneratorRuntime.mark((function e(t){var n,s,i,o,c,l=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.signer.client){e.next=2;break}throw new Error("Provider not initialized. Call init() first");case 2:return this.loadConnectOpts(t),n=D(this.rpc),s=n.required,i=n.optional,e.prev=4,e.next=7,new Promise(function(){var e=Object(h.a)(regeneratorRuntime.mark((function e(n,o){var c;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return l.rpc.showQrModal&&(null==(c=l.modal)||c.subscribeModal((function(e){!e.open&&!l.signer.session&&(l.signer.abortPairingAttempt(),o(new Error("Connection request reset. Please try again.")))}))),e.next=3,l.signer.connect(M(p({namespaces:p({},s&&Object(r.a)({},l.namespace,s))},i&&{optionalNamespaces:Object(r.a)({},l.namespace,i)}),{pairingTopic:null==t?void 0:t.pairingTopic})).then((function(e){n(e)})).catch((function(e){o(new Error(e.message))}));case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}());case 7:if(o=e.sent){e.next=10;break}return e.abrupt("return");case 10:this.setChainIds(this.rpc.chains),c=Object(O.a)(o.namespaces,[this.namespace]),this.setAccounts(c),this.events.emit("connect",{chainId:L(this.chainId)}),e.next=18;break;case 15:throw e.prev=15,e.t0=e.catch(4),this.signer.logger.error(e.t0),e.t0;case 18:return e.prev=18,this.modal&&this.modal.closeModal(),e.finish(18);case 21:case"end":return e.stop()}}),e,this,[[4,15,18,21]])}))),function(e){return f.apply(this,arguments)})},{key:"disconnect",value:(l=Object(h.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.session,!e.t0){e.next=4;break}return e.next=4,this.signer.disconnect();case 4:this.reset();case 5:case"end":return e.stop()}}),e,this)}))),function(){return l.apply(this,arguments)})},{key:"isWalletConnect",get:function(){return!0}},{key:"session",get:function(){return this.signer.session}},{key:"registerEventListeners",value:function(){var e=this;this.signer.on("session_event",(function(t){var i=t.params.event;"accountsChanged"===i.name?(e.accounts=e.parseAccounts(i.data),e.events.emit("accountsChanged",e.accounts)):"chainChanged"===i.name?e.setChainId(e.formatChainId(i.data)):e.events.emit(i.name,i.data),e.events.emit("session_event",t)})),this.signer.on("chainChanged",(function(t){var s=parseInt(t);e.chainId=s,e.events.emit("chainChanged",L(e.chainId)),e.persist()})),this.signer.on("session_update",(function(t){e.events.emit("session_update",t)})),this.signer.on("session_delete",(function(t){e.reset(),e.events.emit("session_delete",t),e.events.emit("disconnect",M(p({},Object(O.b)("USER_DISCONNECTED")),{data:t.topic,name:"USER_DISCONNECTED"}))})),this.signer.on("display_uri",(function(t){var s,i;e.rpc.showQrModal&&(null==(s=e.modal)||s.closeModal(),null==(i=e.modal)||i.openModal({uri:t})),e.events.emit("display_uri",t)}))}},{key:"switchEthereumChain",value:function(e){this.request({method:"wallet_switchEthereumChain",params:[{chainId:e.toString(16)}]})}},{key:"isCompatibleChainId",value:function(e){return"string"==typeof e&&e.startsWith("".concat(this.namespace,":"))}},{key:"formatChainId",value:function(e){return"".concat(this.namespace,":").concat(e)}},{key:"parseChainId",value:function(e){return Number(e.split(":")[1])}},{key:"setChainIds",value:function(e){var t=this,s=e.filter((function(i){return t.isCompatibleChainId(i)})).map((function(i){return t.parseChainId(i)}));s.length&&(this.chainId=s[0],this.events.emit("chainChanged",L(this.chainId)),this.persist())}},{key:"setChainId",value:function(e){if(this.isCompatibleChainId(e)){var s=this.parseChainId(e);this.chainId=s,this.switchEthereumChain(s)}}},{key:"parseAccountId",value:function(e){var t=e.split(":"),n=Object(v.a)(t,3),s=n[0],i=n[1],r=n[2];return{chainId:"".concat(s,":").concat(i),address:r}}},{key:"setAccounts",value:function(e){var t=this;this.accounts=e.filter((function(s){return t.parseChainId(t.parseAccountId(s).chainId)===t.chainId})).map((function(s){return t.parseAccountId(s).address})),this.events.emit("accountsChanged",this.accounts)}},{key:"getRpcConfig",value:function(e){var s,i,t=this,n=null!=(s=null==e?void 0:e.chains)?s:[],r=null!=(i=null==e?void 0:e.optionalChains)?i:[],o=n.concat(r);if(!o.length)throw new Error("No chains specified in either `chains` or `optionalChains`");var c=n.length?(null==e?void 0:e.methods)||u:[],l=n.length?(null==e?void 0:e.events)||R:[],f=(null==e?void 0:e.optionalMethods)||[],d=(null==e?void 0:e.optionalEvents)||[],h=(null==e?void 0:e.rpcMap)||this.buildRpcMap(o,e.projectId),v=(null==e?void 0:e.qrModalOptions)||void 0;return{chains:null==n?void 0:n.map((function(e){return t.formatChainId(e)})),optionalChains:r.map((function(e){return t.formatChainId(e)})),methods:c,events:l,optionalMethods:f,optionalEvents:d,rpcMap:h,showQrModal:!(null==e||!e.showQrModal),qrModalOptions:v,projectId:e.projectId,metadata:e.metadata}}},{key:"buildRpcMap",value:function(e,s){var t=this,i={};return e.forEach((function(e){i[e]=t.getRpcUrl(e,s)})),i}},{key:"initialize",value:(c=Object(h.a)(regeneratorRuntime.mark((function e(t){var s,r,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.rpc=this.getRpcConfig(t),this.chainId=this.rpc.chains.length?g(this.rpc.chains):g(this.rpc.optionalChains),e.next=4,x.a.init({projectId:this.rpc.projectId,metadata:this.rpc.metadata,disableProviderPing:t.disableProviderPing,relayUrl:t.relayUrl,storageOptions:t.storageOptions});case 4:return this.signer=e.sent,this.registerEventListeners(),e.next=8,this.loadPersistedSession();case 8:if(!this.rpc.showQrModal){e.next=28;break}return e.prev=9,e.next=12,n.e(30).then(n.bind(null,1369));case 12:r=e.sent,i=r.WalletConnectModal,s=i,e.next=20;break;case 17:throw e.prev=17,e.t0=e.catch(9),new Error("To use QR modal, please install @walletconnect/modal package");case 20:if(!s){e.next=28;break}e.prev=21,this.modal=new s(p({walletConnectVersion:2,projectId:this.rpc.projectId,standaloneChains:this.rpc.chains},this.rpc.qrModalOptions)),e.next=28;break;case 25:throw e.prev=25,e.t1=e.catch(21),this.signer.logger.error(e.t1),new Error("Could not generate WalletConnectModal Instance");case 28:case"end":return e.stop()}}),e,this,[[9,17],[21,25]])}))),function(e){return c.apply(this,arguments)})},{key:"loadConnectOpts",value:function(e){var t=this;if(e){var s=e.chains,i=e.optionalChains,n=e.rpcMap;s&&Object(O.c)(s)&&(this.rpc.chains=s.map((function(e){return t.formatChainId(e)})),s.forEach((function(e){t.rpc.rpcMap[e]=(null==n?void 0:n[e])||t.getRpcUrl(e)}))),i&&Object(O.c)(i)&&(this.rpc.optionalChains=[],this.rpc.optionalChains=null==i?void 0:i.map((function(e){return t.formatChainId(e)})),i.forEach((function(e){t.rpc.rpcMap[e]=(null==n?void 0:n[e])||t.getRpcUrl(e)})))}}},{key:"getRpcUrl",value:function(e,s){var i;return(null==(i=this.rpc.rpcMap)?void 0:i[e])||"".concat("https://rpc.walletconnect.com/v1/","?chainId=eip155:").concat(e,"&projectId=").concat(s||this.rpc.projectId)}},{key:"loadPersistedSession",value:(o=Object(h.a)(regeneratorRuntime.mark((function e(){var t,s;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.session){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.signer.client.core.storage.getItem("".concat(this.STORAGE_KEY,"/chainId"));case 4:t=e.sent,s=this.session.namespaces["".concat(this.namespace,":").concat(t)]?this.session.namespaces["".concat(this.namespace,":").concat(t)]:this.session.namespaces[this.namespace],this.setChainIds(t?[this.formatChainId(t)]:null==s?void 0:s.accounts),this.setAccounts(null==s?void 0:s.accounts);case 7:case"end":return e.stop()}}),e,this)}))),function(){return o.apply(this,arguments)})},{key:"reset",value:function(){this.chainId=1,this.accounts=[]}},{key:"persist",value:function(){this.session&&this.signer.client.core.storage.setItem("".concat(this.STORAGE_KEY,"/chainId"),this.chainId)}},{key:"parseAccounts",value:function(e){var t=this;return"string"==typeof e||e instanceof String?[this.parseAccount(e)]:e.map((function(s){return t.parseAccount(s)}))}}],[{key:"init",value:(t=Object(h.a)(regeneratorRuntime.mark((function t(n){var s;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return s=new e,t.next=3,s.initialize(n);case 3:return t.abrupt("return",s);case 4:case"end":return t.stop()}}),t)}))),function(e){return t.apply(this,arguments)})}]),e}(),H=$;function B(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,n)}return t}function F(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?B(Object(source),!0).forEach((function(t){Object(r.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):B(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}var V,W={props:{chainId:{type:Number,required:!0}},data:function(){return{ethAddress:"",isConnectionStartedAndModalClosed:!1}},watch:{chainId:{handler:function(){var e,t=this;this.getIsConnected()&&(null===(e=this.provider)||void 0===e?void 0:e.chainId)!==this.chainId&&this.disconnectEth().then((function(){t.connectEth()}))}}},created:function(){this.signClient=null,this.walletConnectModal=null},mounted:function(){var e=this;return Object(h.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if("walletconnect"===e.$store.state.web3Account.selectedAccountType){t.next=2;break}return t.abrupt("return");case 2:return t.next=4,e.initConnector();case 4:e.getIsConnected()&&(e.setEthAddress(e.provider.accounts[0]),e.$emit("update:network",e.provider.chainId));case 5:case"end":return t.stop()}}),t)})))()},methods:{getIsConnected:function(){var e;return!(null===(e=this.provider)||void 0===e||!e.session)},connectEth:function(){var e=this;return Object(h.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,e.provider){t.next=4;break}return t.next=4,e.initConnector();case 4:if(!e.getIsConnected()){t.next=9;break}e.setEthAddress(e.provider.accounts[0]),e.$emit("update:network",e.provider.chainId),t.next=10;break;case 9:return t.abrupt("return",e.provider.connect({chains:[e.chainId]}));case 10:t.next=15;break;case 12:t.prev=12,t.t0=t.catch(0),console.log(t.t0);case 15:case"end":return t.stop()}}),t,null,[[0,12]])})))()},disconnectEth:function(){var e=this;return Object(h.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.provider.disconnect();case 2:e.handleEvent();case 3:case"end":return t.stop()}}),t)})))()},initConnector:function(){var e=this;return Object(h.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,H.init({projectId:"342a302560fea0a0fba30c39b3b3361c",chains:Object.values(f.v).map((function(e){return e.chainId})),showQrModal:!0});case 2:e.provider=t.sent,e.provider.on("connect",e.handleEvent),e.provider.on("session_event",e.handleEvent),e.provider.on("disconnect",e.handleEvent),e.provider.on("modal_closed",(function(){e.isConnectionStartedAndModalClosed=!0}));case 7:case"end":return t.stop()}}),t)})))()},handleEvent:function(data){var e=this.provider.accounts,t=this.provider.chainId;console.log("handleEvent",data,e,t,this.chainId),e?(this.chainId&&this.chainId!==t&&this.$emit("error","Invalid network selected. Expected ".concat(Object(d.f)(this.chainId),", but your wallet is on ").concat(Object(d.f)(t),".")),this.setEthAddress(e[0])):this.setEthAddress(""),t&&this.$emit("update:network",t)},setEthAddress:function(e){this.ethAddress=e,this.$emit("update:address",e)},sendTransaction:function(e){var t="string"==typeof e.value&&0===e.value.indexOf("0x")?e.value:d.m.numberToHex(e.value),n=F(F({},e),{},{value:t,chainId:this.provider.chainId});return console.log("send transaction walletconnect",n),this.provider.request({method:"eth_sendTransaction",params:[n]})}}},z=n(60),K=Object(z.a)(W,(function(){var e=this,t=e._self._c;return t("button",{staticClass:"button",attrs:{type:"button"},on:{click:function(t){return e.connectEth()}}},[t("img",{staticClass:"button__icon",attrs:{alt:"",role:"presentation",src:"".concat(e.BASE_URL_PREFIX,"/img/icon-walletconnect.svg")}}),e._v(" "),t("span",[e._v("WalletConnect")])])}),[],!1,null,null,null).exports,G=(n(140),n(937)),J=n.n(G),Y={props:{chainId:{type:Number,required:!0},disabled:{type:Boolean,default:!1}},data:function(){return{isAvailable:!1,ethAddress:"",ethChainId:0}},computed:{isConnected:function(){return!!this.ethAddress}},watch:{chainId:{handler:function(){this.handleWatchChainId()}},disabled:{handler:function(){this.handleWatchChainId()}}},mounted:function(){var e=this;window.ethereum?(this.isAvailable=!0,"metamask"===this.$store.state.web3Account.selectedAccountType&&(window.ethereum.request({method:"eth_accounts"}).then((function(t){console.log("eth_accounts",t),t.length&&e.setEthAddress(t[0])})),this.fetchChainId()),window.ethereum.on("accountsChanged",(function(t){console.log("accountsChanged",t),e.setEthAddress(t[0]||"")})),window.ethereum.on("chainChanged",(function(t){console.log("chainChanged",t),e.setChainId(t)}))):this.isAvailable=!1},methods:{connectEth:function(){var e=this;window.ethereum.request({method:"wallet_requestPermissions",params:[{eth_accounts:{}}]}).then((function(t){var n,r=t.find((function(e){return"eth_accounts"===e.parentCapability})),o=null===(n=((null==r?void 0:r.caveats)||[])[0])||void 0===n?void 0:n.value;console.log("wallet_requestPermissions",t,o),o.length&&(e.setEthAddress(o[0]),e.fetchChainId())}))},disconnectEth:function(){this.setEthAddress("")},setEthAddress:function(e){this.ethAddress=e,this.$emit("update:address",e)},setChainId:function(e){e=Number(e),this.ethChainId=e,this.$emit("update:network",e)},fetchChainId:function(){var e=this;window.ethereum.request({method:"eth_chainId"}).then((function(t){console.log("eth_chainId",t),e.setChainId(t)}))},handleWatchChainId:function(){this.disabled||this.ethChainId&&this.ethChainId!==this.chainId&&this.requestSwitchChainId(this.chainId)},requestSwitchChainId:function(e){var t=this,n="0x".concat(e.toString(16));window.ethereum.request({method:"wallet_switchEthereumChain",params:[{chainId:n}]}).catch((function(t){if(4902===t.code){var r=f.v[Object(d.h)(e)];return window.ethereum.request({method:"wallet_addEthereumChain",params:[{chainId:n,chainName:Object(d.f)(e),rpcUrls:[r.apiUrl.indexOf("mainnet.infura")>=0?"https://cloudflare-eth.com":r.apiUrl],blockExplorerUrls:[r.explorerHost],nativeCurrency:{name:r.coinSymbol,symbol:r.coinSymbol,decimals:18}}]})}throw t})).then((function(){t.setChainId(e)})).catch((function(e){console.log(e),t.$emit("error",e.message),t.setChainId(t.ethChainId)}))},sendTransaction:function(e){return Object(h.a)(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=new J.a(window.ethereum),t.abrupt("return",new Promise((function(t,r){n.sendTransaction(e).on("transactionHash",(function(e){t(e)})).on("error",(function(e){r(e)}))})));case 2:case"end":return t.stop()}}),t)})))()}}},X=Object(z.a)(Y,(function(){var e=this,t=e._self._c;return e.isAvailable?t("button",{staticClass:"button",attrs:{type:"button"},on:{click:function(t){return e.connectEth()}}},[t("img",{staticClass:"button__icon",attrs:{alt:"",role:"presentation",src:"".concat(e.BASE_URL_PREFIX,"/img/icon-metamask.svg")}}),e._v(" "),t("span",[e._v("Metamask")])]):e._e()}),[],!1,null,null,null).exports,Q=(n(22),n(756));function Z(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,n)}return t}function ee(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?Z(Object(source),!0).forEach((function(t){Object(r.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):Z(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}var te={HUB_DEPOSIT_TX_PURPOSE:f.x,HUB_CHAIN_DATA:f.v,components:{Modal:Q.a},props:{chainId:{type:Number,required:!0},hubCoinList:{type:Array,required:!0},priceList:{type:Array,required:!0},classCustom:{type:String,default:""}},data:function(){return{ethAddress:"",confirmData:{tx:null,info:null,computed:null},isConfirmModalVisible:!1}},computed:{isConnected:function(){return!!this.ethAddress},selectedHubNetwork:function(){return this.chainId===f.m?f.A.ETHEREUM:this.chainId===f.g?f.A.BSC:void 0},gasPriceGwei:function(){var e,t=this,n=this.priceList.find((function(e){return e.name==="".concat(t.selectedHubNetwork,"/gas")}));return e=n?n.value:100,e},isInfiniteUnlock:function(){var e,t;return(null===(e=this.confirmData.info)||void 0===e?void 0:e.type)===f.x.UNLOCK&&(null===(t=this.confirmData.info)||void 0===t?void 0:t.amount)>Math.pow(10,18)}},watch:{chainId:{handler:function(){this.$emit("update:network",this.chainId)}}},mounted:function(){"minter"===this.$store.state.web3Account.selectedAccountType&&this.connectEth()},methods:{pretty:l.s,prettyExact:l.t,getEvmNetworkName:d.f,connectEth:function(e){e="number"==typeof e?e:this.chainId,this.setEthAddress(this.$store.getters.address.replace("Mx","0x")),this.$emit("update:network",e)},disconnectEth:function(){this.cancelConfirmation(),this.setEthAddress("")},setEthAddress:function(e){this.ethAddress=e,this.$emit("update:address",e)},sendTransaction:function(e){var t=this;return Object(h.a)(regeneratorRuntime.mark((function n(){var r,o,c,l,f,h,v;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(r=Object(d.i)(t.chainId),!(o=e.nonce)&&0!==o){n.next=6;break}n.t0=o,n.next=9;break;case 6:return n.next=8,r.getTransactionCount(t.ethAddress,"latest");case 8:n.t0=n.sent;case 9:return o=n.t0,n.next=12,t.estimateTxGas(e);case 12:return c=n.sent,c=Math.ceil(1.5*c),l=(t.gasPriceGwei||1).toString(),f={to:e.to,value:e.value||"0x00",data:e.data,nonce:o,gasPrice:d.m.toWei(l,"gwei"),gas:c,chainId:t.chainId},n.next=18,t.showConfirmation(f,t.chainId);case 18:return console.log("send",JSON.parse(JSON.stringify(f))),n.next=21,r.accounts.signTransaction(f,t.$store.getters.privateKey);case 21:return h=n.sent,v=h.rawTransaction,n.abrupt("return",new Promise((function(e,t){r.sendSignedTransaction(v).on("transactionHash",e).on("error",t)})));case 24:case"end":return n.stop()}}),n)})))()},estimateTxGas:function(e){var t=e.to,n=e.value,data=e.data,r=Object(d.i)(this.chainId),o={from:this.ethAddress,to:t,value:n||"0x00",data:data};return r.estimateGas(o)},showConfirmation:function(e,t){var n=this;return Object(h.a)(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return n.cancelConfirmation(),n.confirmData.tx=e,r.next=4,Object(d.e)(ee(ee({},e),{},{input:e.data}),t,n.hubCoinList);case 4:return n.confirmData.info=r.sent,n.confirmData.computed={gasPriceGwei:d.m.fromWei(e.gasPrice,"gwei"),fee:e.gas*d.m.fromWei(e.gasPrice)},n.isConfirmModalVisible=!0,r.abrupt("return",new Promise((function(e,t){V={resolve:e,reject:t}})));case 8:case"end":return r.stop()}}),r)})))()},acceptConfirmation:function(){var e;"function"==typeof(null===(e=V)||void 0===e?void 0:e.resolve)&&V.resolve(),V=null,this.isConfirmModalVisible=!1},cancelConfirmation:function(){var e;"function"==typeof(null===(e=V)||void 0===e?void 0:e.reject)&&V.reject(new Error("Canceled by user")),V=null,this.isConfirmModalVisible=!1}}},ne=Object(z.a)(te,(function(){var e=this,t=e._self._c;return t("div",[t("button",{staticClass:"button",class:e.classCustom,attrs:{type:"button"},on:{click:function(t){return e.connectEth(t)}}},[t("span",[e._v(e._s(e.$td("Console seed phrase","hub.console-seed-2")))])]),e._v(" "),t("portal",{attrs:{to:"account-minter-confirm-modal"}},[t("Modal",{attrs:{isOpen:e.isConfirmModalVisible},on:{"update:isOpen":function(t){e.isConfirmModalVisible=t},"update:is-open":function(t){e.isConfirmModalVisible=t},"modal-close":function(t){return e.cancelConfirmation()}}},[e.confirmData.tx&&e.confirmData.computed?t("div",{staticClass:"panel u-text-left"},[t("div",{staticClass:"panel__header"},[t("h1",{staticClass:"panel__header-title"},[e._v("\n                        "+e._s(e.$td("Sign transaction","hub.sign"))+"\n                    ")])]),e._v(" "),t("div",{staticClass:"panel__section"},[t("div",{staticClass:"form-row"},[t("div",{staticClass:"form-field form-field--dashed"},[t("div",{staticClass:"form-field__input is-not-empty"},[e._v("\n                                "+e._s(e.getEvmNetworkName(e.chainId))+"\n                            ")]),e._v(" "),t("span",{staticClass:"form-field__label"},[e._v(e._s(e.$td("From network","hub.from-network")))])])]),e._v(" "),t("div",{staticClass:"form-row"},[t("div",{staticClass:"form-field form-field--dashed"},[t("div",{staticClass:"form-field__input is-not-empty"},[e._v("\n                                "+e._s(e.ethAddress)+"\n                            ")]),e._v(" "),t("span",{staticClass:"form-field__label"},[e._v(e._s(e.$td("From your address","hub.from-address")))])])]),e._v(" "),t("div",{staticClass:"form-row"},[t("div",{staticClass:"form-field form-field--dashed"},[t("div",{staticClass:"form-field__input is-not-empty"},[e.confirmData.info.type===e.$options.HUB_DEPOSIT_TX_PURPOSE.SEND?[e._v(e._s(e.$td("Transfer to Minter","hub.transfer-to-minter")))]:[e._v(e._s(e.confirmData.info.type))]],2),e._v(" "),t("span",{staticClass:"form-field__label"},[e._v(e._s(e.$td("Method","hub.method")))])])]),e._v(" "),t("div",{staticClass:"form-row"},[t("div",{staticClass:"form-field form-field--dashed"},[t("div",{staticClass:"form-field__input is-not-empty"},[e.isInfiniteUnlock?[e._v(e._s(e.$td("Infinity","hub.infinity")))]:[e._v("\n                                    "+e._s(e.prettyExact(e.confirmData.info.amount))+" "+e._s(e.confirmData.info.tokenName)+"\n                                ")]],2),e._v(" "),t("span",{staticClass:"form-field__label"},[e._v(e._s(e.$td("Amount","hub.amount")))])])])]),e._v(" "),t("div",{staticClass:"panel__section u-text-left"},[t("div",{staticClass:"u-grid u-grid--small u-grid--vertical-margin--small"},[t("div",{staticClass:"u-cell u-cell--1-2"},[t("div",{staticClass:"form-field form-field--dashed"},[t("div",{staticClass:"form-field__input is-not-empty"},[e._v("\n                                    "+e._s(e.pretty(e.confirmData.computed.gasPriceGwei))+" gwei\n                                ")]),e._v(" "),t("span",{staticClass:"form-field__label"},[e._v(e._s(e.$td("Gas price","form.gas-price")))])])]),e._v(" "),t("div",{staticClass:"u-cell u-cell--1-2"},[t("div",{staticClass:"form-field form-field--dashed"},[t("div",{staticClass:"form-field__input is-not-empty"},[e._v("\n                                    "+e._s(e.confirmData.tx.gas)+"\n                                ")]),e._v(" "),t("span",{staticClass:"form-field__label"},[e._v(e._s(e.$td("Gas limit","form.gas-limit")))])])]),e._v(" "),t("div",{staticClass:"u-cell"},[t("div",{staticClass:"form-field form-field--dashed"},[t("div",{staticClass:"form-field__input is-not-empty"},[e._v("\n                                    "+e._s(e.pretty(e.confirmData.computed.fee))+"\n                                    "+e._s(e.$options.HUB_CHAIN_DATA[e.selectedHubNetwork].coinSymbol)+"\n                                ")]),e._v(" "),t("span",{staticClass:"form-field__label"},[e._v(e._s(e.$td("Fee","hub.coin-table-fee-mobile")))])])])])]),e._v(" "),t("div",{staticClass:"panel__section"},[t("button",{staticClass:"button button--main button--full",attrs:{type:"button","data-focus-on-open":""},on:{click:function(t){return e.acceptConfirmation()}}},[t("span",{staticClass:"button__content"},[e._v(e._s(e.$td("Confirm","form.submit-confirm-button")))])]),e._v(" "),t("button",{staticClass:"button button--ghost-main button--full",attrs:{type:"button"},on:{click:function(t){return e.cancelConfirmation()}}},[e._v("\n                        "+e._s(e.$td("Cancel","form.submit-cancel-button"))+"\n                    ")])])]):e._e()])],1)],1)}),[],!1,null,null,null).exports,re={WALLETCONNECT:"walletconnect",METAMASK:"metamask",MINTER:"minter"},ie={TYPE:re,ETHEREUM_CHAIN_ID:f.m,BSC_CHAIN_ID:f.g,MEGACHAIN_CHAIN_ID:f.G,HUB_NETWORK_SLUG:f.A,HUB_CHAIN_DATA:f.v,components:{HubDepositAccountWalletConnect:K,HubDepositAccountMetamask:X,HubDepositAccountMinter:ne},directives:{checkEmpty:c.a},props:{hubCoinList:{type:Array,required:!0},priceList:{type:Array,required:!0},preferredChainId:{type:Number}},data:function(){var e,t,n=this.preferredChainId||this.$store.state.web3Account.chainId;return{selectedHubNetwork:(null===(e=f.u[n])||void 0===e?void 0:e.hubNetworkSlug)||f.A.BSC,selectedAccountType:"",accountData:(t={},Object(r.a)(t,re.WALLETCONNECT,{}),Object(r.a)(t,re.METAMASK,{}),Object(r.a)(t,re.MINTER,{}),t),isConnectionStartedAndModalClosed:!1,errorMessage:""}},computed:{isConnected:function(){return!!this.ethAddress},ethAddress:function(){var e;return(null===(e=this.accountData[this.selectedAccountType])||void 0===e?void 0:e.ethAddress.toLowerCase())||""},chainId:function(){var e;return(null===(e=this.accountData[this.selectedAccountType])||void 0===e?void 0:e.chainId)||0},selectedChainId:function(){var e;return null===(e=f.v[this.selectedHubNetwork])||void 0===e?void 0:e.chainId},unsupportedNetwork:function(){return this.chainId!==f.m&&this.chainId!==f.g&&this.chainId!==f.G}},watch:{ethAddress:function(e){this.$emit("update:address",e),this.$store.commit("web3Account/setEthAddress",e)},chainId:function(e){this.$emit("update:network",e),this.$store.commit("web3Account/setChainId",e)},selectedAccountType:function(e){this.$store.commit("web3Account/setSelectedAccountType",e)}},mounted:function(){var e=this;o.a.on("account-send-transaction",(function(t){e.sendTransaction(t)}))},destroyed:function(){o.a.off("account-send-transaction")},methods:{getEvmNetworkName:d.f,getAddressUrl:function(address){return Object(l.f)(this.chainId,address)},shortHash:l.y,disconnectEth:function(){var e;null===(e=this.getSelectedAccountRef())||void 0===e||e.disconnectEth(),this.selectedAccountType=""},setChainId:function(e,t){this.$set(this.accountData[t],"chainId",e);var n=Object(d.h)(e);n&&this.selectedHubNetwork!==n&&(this.selectedHubNetwork=n)},setEthAddress:function(e,t){this.$set(this.accountData[t],"ethAddress",e),this.selectedAccountType&&this.selectedAccountType!==t&&e||(e?(this.selectedAccountType=t,this.errorMessage=""):this.selectedAccountType="")},sendTransaction:function(e){var t;return this.selectedChainId!==this.chainId?Promise.reject(new Error("Web3 wallet connected to the wrong chain: ".concat(Object(d.f)(this.selectedChainId),". Expected ").concat(Object(d.f)(this.chainId),"."))):null===(t=this.getSelectedAccountRef())||void 0===t?void 0:t.sendTransaction(e)},getSelectedAccountRef:function(){return!(!this.selectedAccountType||!this.ethAddress)&&(this.selectedAccountType===re.WALLETCONNECT?this.$refs.ethAccountWalletconnect:this.selectedAccountType===re.METAMASK?this.$refs.ethAccountMetamask:this.selectedAccountType===re.MINTER?this.$refs.ethAccountMinter:void 0)}}},oe=Object(z.a)(ie,(function(){var e=this,t=e._self._c;return t("div",{staticClass:"panel__section panel__section--wrap"},[t("div",{directives:[{name:"show",rawName:"v-show",value:!e.isConnected,expression:"!isConnected"}],staticClass:"panel__section"},[t("div",{staticClass:"u-grid u-grid--small u-grid--vertical-margin--small"},[t("div",{staticClass:"u-cell"},[e._v("\n                "+e._s(e.$td("Connect your wallet","hub.connect-wallet"))+"\n            ")]),e._v(" "),t("div",{staticClass:"u-cell u-cell--small--1-2 u-cell--large--1-4"},[t("label",{staticClass:"form-field"},[t("select",{directives:[{name:"model",rawName:"v-model",value:e.selectedHubNetwork,expression:"selectedHubNetwork"},{name:"check-empty",rawName:"v-check-empty"}],staticClass:"form-field__input form-field__input--select",on:{change:function(t){var n=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){return"_value"in e?e._value:e.value}));e.selectedHubNetwork=t.target.multiple?n:n[0]}}},[t("option",{domProps:{value:e.$options.HUB_NETWORK_SLUG.ETHEREUM}},[e._v(e._s(e.$options.HUB_CHAIN_DATA[e.$options.HUB_NETWORK_SLUG.ETHEREUM].name))]),e._v(" "),t("option",{domProps:{value:e.$options.HUB_NETWORK_SLUG.BSC}},[e._v(e._s(e.$options.HUB_CHAIN_DATA[e.$options.HUB_NETWORK_SLUG.BSC].name))]),e._v(" "),t("option",{domProps:{value:e.$options.HUB_NETWORK_SLUG.MEGACHAIN}},[e._v(e._s(e.$options.HUB_CHAIN_DATA[e.$options.HUB_NETWORK_SLUG.MEGACHAIN].name))])]),e._v(" "),t("span",{staticClass:"form-field__label"},[e._v(e._s(e.$td("Select network","hub.select-network")))])])]),e._v(" "),t("div",{staticClass:"u-cell"},[t("div",{staticClass:"button-group"},[t("HubDepositAccountWalletConnect",{ref:"ethAccountWalletconnect",staticClass:"button--ghost-main",attrs:{"chain-id":e.selectedChainId},on:{"update:address":function(t){return e.setEthAddress(t,e.$options.TYPE.WALLETCONNECT)},"update:network":function(t){return e.setChainId(t,e.$options.TYPE.WALLETCONNECT)},error:function(t){e.errorMessage=t}}}),e._v(" "),t("HubDepositAccountMetamask",{ref:"ethAccountMetamask",staticClass:"button--ghost-main",attrs:{"chain-id":e.selectedChainId,disabled:e.selectedAccountType&&e.selectedAccountType!==e.$options.TYPE.METAMASK},on:{"update:address":function(t){return e.setEthAddress(t,e.$options.TYPE.METAMASK)},"update:network":function(t){return e.setChainId(t,e.$options.TYPE.METAMASK)},error:function(t){e.errorMessage=t}}}),e._v(" "),t("HubDepositAccountMinter",{ref:"ethAccountMinter",attrs:{"class-custom":"button--ghost-main","chain-id":e.selectedChainId,"hub-coin-list":e.hubCoinList,"price-list":e.priceList},on:{"update:address":function(t){return e.setEthAddress(t,e.$options.TYPE.MINTER)},"update:network":function(t){return e.setChainId(t,e.$options.TYPE.MINTER)}}})],1)])])]),e._v(" "),e.isConnected?t("div",{staticClass:"panel__section panel__section--tint"},[t("div",{staticClass:"u-grid u-grid--small u-grid--vertical-margin--small"},[t("div",{staticClass:"u-cell u-cell--auto"},[e._v("\n                "+e._s(e.$td("Wallet connected to","hub.wallet-connected-to"))+"\n                "),t("strong",[e._v(e._s(e.getEvmNetworkName(e.chainId)))]),e._v("\n                "+e._s(e.$td("with","hub.with"))+"\n                "),e.selectedAccountType===e.$options.TYPE.WALLETCONNECT?[e._v("WalletConnect")]:e._e(),e._v(" "),e.selectedAccountType===e.$options.TYPE.METAMASK?[e._v("Metamask")]:e._e(),e._v(" "),e.selectedAccountType===e.$options.TYPE.MINTER?[e._v(e._s(e.$td("Console seed phrase","hub.console-seed")))]:e._e(),e._v(" "),t("br"),e._v(" "),t("a",{staticClass:"link--default u-text-break",attrs:{href:e.getAddressUrl(e.ethAddress),target:"_blank"}},[e._v(e._s(e.ethAddress))])],2),e._v(" "),t("div",{staticClass:"u-cell u-cell--auto"},[t("label",{staticClass:"form-field"},[t("select",{directives:[{name:"model",rawName:"v-model",value:e.selectedHubNetwork,expression:"selectedHubNetwork"},{name:"check-empty",rawName:"v-check-empty"}],staticClass:"form-field__input form-field__input--select",on:{change:function(t){var n=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){return"_value"in e?e._value:e.value}));e.selectedHubNetwork=t.target.multiple?n:n[0]}}},[t("option",{domProps:{value:e.$options.HUB_NETWORK_SLUG.ETHEREUM}},[e._v(e._s(e.$options.HUB_CHAIN_DATA[e.$options.HUB_NETWORK_SLUG.ETHEREUM].name))]),e._v(" "),t("option",{domProps:{value:e.$options.HUB_NETWORK_SLUG.BSC}},[e._v(e._s(e.$options.HUB_CHAIN_DATA[e.$options.HUB_NETWORK_SLUG.BSC].name))]),e._v(" "),t("option",{domProps:{value:e.$options.HUB_NETWORK_SLUG.MEGACHAIN}},[e._v(e._s(e.$options.HUB_CHAIN_DATA[e.$options.HUB_NETWORK_SLUG.MEGACHAIN].name))])]),e._v(" "),t("span",{staticClass:"form-field__label"},[e._v(e._s(e.$td("Select network","hub.select-network")))])])]),e._v(" "),t("div",{staticClass:"u-cell u-cell--auto"},[t("button",{staticClass:"button button--ghost",on:{click:e.disconnectEth}},[e._v(e._s(e.$td("Change wallet","hub.change-wallet")))])])]),e._v(" "),e.isConnected&&e.unsupportedNetwork?t("div",{staticClass:"form__error u-mt-10"},[t("div",{staticClass:"u-fw-700"},[e._v(e._s(e.$td("Network ".concat(e.chainId," is not supported, switch to Ethereum, BSC, or Megachain"),"hub.unsupported-network",{network:e.chainId})))]),e._v(" "),t("p",[e._v(e._s(e.$td("Try reconnecting if current network is out of sync with selected network in your wallet","hub.is-not-connected")))])]):e._e(),e._v(" "),e.errorMessage?t("div",{staticClass:"form__error u-mt-10"},[t("div",{staticClass:"u-fw-700"},[e._v(e._s(e.errorMessage))]),e._v(" "),t("p",[e._v(e._s(e.$td("Switch network and connect again","hub.switch-network")))])]):e._e()]):e._e()])}),[],!1,null,null,null);t.a=oe.exports},1401:function(e,t,n){"use strict";n(31),n(32),n(35),n(48),n(30),n(52);var r=n(16),o=n(6),c=(n(1),n(49),n(42),n(41),n(140),n(824)),l=n(409),f=n(100),d=n(784),h=n(4),v=n(399),m=n(745);function y(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,n)}return t}function _(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?y(Object(source),!0).forEach((function(t){Object(o.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):y(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}var w={NOT_FOUND:"not_found",LOADING:"loading",PENDING:"pending",RECEIPT:"receipt",CONFIRMED:"confirmed",CONFIRMED_NOT_FINAL:"confirmed_not_final",FAILED:"failed"},O={TX_STATUS:w,HUB_TRANSFER_STATUS:h.B,components:{Loader:m.a},props:{tx:{type:Object,required:!0},hubCoinList:{type:Array,default:function(){return[]}}},fetch:function(){var e,t,n=this;this.isLoading=!0;var o,d=this.tx.input&&this.tx.to&&void 0!==this.tx.value;this.tx.confirmations>=c.a?t=Promise.resolve(this.tx):(this.txWatcher=Object(c.k)(this.tx.hash,{chainId:Number(this.tx.chainId)}),t=this.txWatcher.once("tx",(function(e){n.$store.commit("hub/saveDeposit",e)})).once("confirmation",(function(e){n.$store.commit("hub/saveDeposit",e)})).then((function(e){return n.$store.commit("hub/saveDeposit",e),e})).catch((function(e){"unsubscribed"!==e.message&&(console.log(e),n.serverError=Object(v.a)(e),n.isLoading=!1)}))),e=d?Promise.resolve(this.tx):new Promise((function(e){n.txWatcher.once("tx",(function(t){e(t)}))})),(o=this.tx.tokenInfo?Promise.resolve(this.tx.tokenInfo):e.then((function(e){return e.tokenInfo?e.tokenInfo:Object(c.e)(e,Number(n.tx.chainId),n.hubCoinList)})).then((function(e){return n.$store.commit("hub/saveDeposit",_(_({},n.tx),{},{tokenInfo:e})),e})).catch((function(e){console.log(e),n.serverError=Object(v.a)(e)}))).finally((function(){return n.isLoading=!1})),this.tx.transfer&&Object(f.r)(this.tx.transfer.status)||Promise.all([t,o]).then((function(e){var t=Object(r.a)(e,2),o=t[0],c=t[1];o&&(null==c?void 0:c.type)===h.x.SEND&&(n.transferWatcher=Object(l.h)(o.hash),n.transferWatcher.on("update",(function(e){n.$store.commit("hub/saveDeposit",_(_({},n.tx),{},{transfer:e}))})).catch((function(e){"unsubscribed"!==e.message&&(n.serverError=Object(v.a)(e),console.log(e))})))}))},data:function(){return{isLoading:!0,txWatcher:null,transferWatcher:null,serverError:""}},computed:{tokenInfo:function(){return this.tx.tokenInfo},transfer:function(){return this.tx.transfer},timeDistance:function(){var e;return Object(f.o)(null===(e=this.tx)||void 0===e?void 0:e.timestamp)},time:function(){var e;return Object(f.p)(null===(e=this.tx)||void 0===e?void 0:e.timestamp)},txStatus:function(){var e,t;if(!this.tx)return w.NOT_FOUND;if(this.tx.blockHash&&!this.tx.confirmations)return w.LOADING;if(!this.tx.blockHash)return w.PENDING;if(!1===this.tx.status)return w.FAILED;var n=(null===(e=this.tokenInfo)||void 0===e?void 0:e.type)===h.x.SEND?c.a:1;return this.tx.confirmations>=n?(null===(t=this.tokenInfo)||void 0===t?void 0:t.type)===h.x.SEND?w.CONFIRMED_NOT_FINAL:w.CONFIRMED:w.RECEIPT},status:function(){var e;return null!==(e=this.transfer)&&void 0!==e&&e.status&&this.transfer.status!==h.B.not_found?this.transfer.status:this.txStatus},isFinished:function(){var e;return Object(f.r)(null===(e=this.transfer)||void 0===e?void 0:e.status)&&this.txStatus===w.CONFIRMED_NOT_FINAL||this.txStatus===w.CONFIRMED||this.txStatus===w.FAILED||this.txStatus===w.NOT_FOUND},symbol:function(){var e=this;if(!this.tokenInfo)return"";var t=Object(c.g)(this.hubCoinList,Number(this.tx.chainId)).find((function(t){return t.externalTokenId===e.tokenInfo.tokenContract}));return t?t.denom.toUpperCase():""},isInfiniteUnlock:function(){return!!this.tokenInfo&&(this.tokenInfo.type===h.x.UNLOCK&&this.tokenInfo.amount>Math.pow(10,18))}},destroyed:function(){var e,t;"function"==typeof(null===(e=this.txWatcher)||void 0===e?void 0:e.unsubscribe)&&this.txWatcher.unsubscribe(),"function"==typeof(null===(t=this.transferWatcher)||void 0===t?void 0:t.unsubscribe)&&this.transferWatcher.unsubscribe()},methods:{pretty:f.s,getExplorerTxUrl:f.l,getEvmNetworkName:c.f,formatHash:function(e){return Object(f.y)(e,13)},getEvmTxUrl:function(e){return Object(f.g)(Number(e.chainId),e.hash)},speedup:function(){var e=this.tx,t=e.from,n=e.to,r=e.value,input=e.input,o=e.nonce;d.a.emit("account-send-transaction",{from:t,to:n,value:r,data:input,nonce:o})}}},x=n(60),component=Object(x.a)(O,(function(){var e=this,t=e._self._c;return e.isLoading?e._e():t("div",{staticClass:"preview__transaction"},[t("div",{staticClass:"hub__preview-transaction-row u-text-overflow"},[t("div",[t("a",{staticClass:"link--main",attrs:{href:e.getEvmTxUrl(e.tx),target:"_blank"}},[e._v(e._s(e.formatHash(e.tx.hash)))])]),e._v(" "),e.tokenInfo?t("div",{staticClass:"u-fw-700"},[e.isInfiniteUnlock?[e._v(e._s(e.$td("Infinite unlock","hub.deposit-unlock-infinite"))+" "+e._s(e.symbol))]:[e._v("\n                "+e._s(e.tokenInfo.type)+"\n                "),e.tokenInfo.amount?[e._v(e._s(e.pretty(e.tokenInfo.amount))+" "+e._s(e.symbol))]:e._e()]],2):e._e()]),e._v(" "),t("div",{staticClass:"hub__preview-transaction-row hub__preview-transaction-meta"},[t("div",[e.tx.timestamp?[e._v(e._s(e.timeDistance)+" "+e._s(e.$td("ago","hub.ago"))+" ("+e._s(e.time)+")")]:e._e(),e._v("\n            from "+e._s(e.getEvmNetworkName(e.tx.chainId))+"\n        ")],2),e._v(" "),t("div",[e.status===e.$options.TX_STATUS.LOADING?[e._v(e._s(e.$td("Loading","hub.loading")))]:e._e(),e._v(" "),e.status===e.$options.TX_STATUS.PENDING?[t("button",{staticClass:"link--default u-semantic-button",on:{click:function(t){return e.speedup()}}},[e._v(e._s(e.$td("Speed up","hub.speed-up")))]),e._v("\n                "+e._s(e.$td("Pending","hub.pending"))+"\n            ")]:e._e(),e._v(" "),e.status===e.$options.TX_STATUS.RECEIPT?[e._v(e._s(e.$td("Received, awaiting confirmations","hub.tx-status-receipt")))]:e._e(),e._v(" "),e.status===e.$options.TX_STATUS.CONFIRMED?[e._v(e._s(e.$td("Confirmed","hub.tx-status-confirmed")))]:e._e(),e._v(" "),e.status===e.$options.TX_STATUS.CONFIRMED_NOT_FINAL?[e._v(e._s(e.$td("Confirmed, waiting for bridge","hub.tx-status-confirmed-not-final")))]:e._e(),e._v(" "),e.status===e.$options.HUB_TRANSFER_STATUS.deposit_to_hub_received?[e._v(e._s(e.$td("Bridge collecting batch","hub.bridge-batch")))]:e._e(),e._v(" "),e.status===e.$options.HUB_TRANSFER_STATUS.batch_created?[e._v(e._s(e.$td("Bridge created batch","hub.batch-created")))]:e._e(),e._v(" "),e.status===e.$options.HUB_TRANSFER_STATUS.batch_executed?[e._v("\n                "+e._s(e.$td("Success","hub.batch-executed"))+"\n                "),t("a",{staticClass:"link--main",attrs:{href:e.getExplorerTxUrl(e.transfer.outTxHash),target:"_blank"}},[e._v(e._s(e.formatHash(e.transfer.outTxHash)))])]:e._e(),e._v(" "),e.status===e.$options.HUB_TRANSFER_STATUS.refund?[e._v(e._s(e.$td("Refunded","hub.refunded")))]:e._e(),e._v(" "),e.status===e.$options.TX_STATUS.FAILED?t("span",{staticClass:"u-text-error"},[e._v(e._s(e.$td("Failed","hub.failed")))]):e._e(),e._v(" "),t("Loader",{staticClass:"hub__preview-loader",attrs:{"is-loading":!e.isFinished}})],2)]),e._v(" "),e.serverError?t("div",{staticClass:"hub__preview-transaction-row form__error"},[e._v("\n        "+e._s(e.serverError)+"\n    ")]):e._e()])}),[],!1,null,null,null);t.a=component.exports},1403:function(e,t,n){"use strict";n.d(t,"a",(function(){return w}));var r=n(13),o=n(55),c=n(56),l=(n(1),n(7),n(74),n(94)),f=n(1297),d=n.n(f),h=n(12);n(8),n(22),n(31),n(76);function v(e){if("string"!=typeof e)throw new Error("Cannot safe json parse value of type ".concat(Object(h.a)(e)));try{return t=e.replace(/([\[:])?(\d{17,}|(?:[9](?:[1-9]07199254740991|0[1-9]7199254740991|00[8-9]199254740991|007[2-9]99254740991|007199[3-9]54740991|0071992[6-9]4740991|00719925[5-9]740991|007199254[8-9]40991|0071992547[5-9]0991|00719925474[1-9]991|00719925474099[2-9])))([,\}\]])/g,'$1"$2n"$3'),JSON.parse(t,(function(e,t){return"string"==typeof t&&t.match(/^\d+n$/)?BigInt(t.substring(0,t.length-1)):t}))}catch(t){return e}var t}function m(e){return"string"==typeof e?e:(data=e,JSON.stringify(data,(function(e,t){return"bigint"==typeof t?t.toString()+"n":t}))||"");var data}var y=n(876),_={headers:{Accept:"application/json","Content-Type":"application/json"},method:"POST"},w=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(Object(o.a)(this,e),this.url=t,this.disableProviderPing=n,this.events=new l.EventEmitter,this.isAvailable=!1,this.registering=!1,!Object(y.isHttpUrl)(t))throw new Error("Provided URL is not compatible with HTTP connection: ".concat(t));this.url=t,this.disableProviderPing=n}var t,n,f,h;return Object(c.a)(e,[{key:"connected",get:function(){return this.isAvailable}},{key:"connecting",get:function(){return this.registering}},{key:"on",value:function(e,t){this.events.on(e,t)}},{key:"once",value:function(e,t){this.events.once(e,t)}},{key:"off",value:function(e,t){this.events.off(e,t)}},{key:"removeListener",value:function(e,t){this.events.removeListener(e,t)}},{key:"open",value:(h=Object(r.a)(regeneratorRuntime.mark((function e(){var t,n=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.length>0&&void 0!==n[0]?n[0]:this.url,e.next=3,this.register(t);case 3:case"end":return e.stop()}}),e,this)}))),function(){return h.apply(this,arguments)})},{key:"close",value:(f=Object(r.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.isAvailable){e.next=2;break}throw new Error("Connection already closed");case 2:this.onClose();case 3:case"end":return e.stop()}}),e,this)}))),function(){return f.apply(this,arguments)})},{key:"send",value:(n=Object(r.a)(regeneratorRuntime.mark((function e(t,n){var body,r,data;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.isAvailable){e.next=3;break}return e.next=3,this.register();case 3:return e.prev=3,body=m(t),e.next=7,d()(this.url,Object.assign(Object.assign({},_),{body:body}));case 7:return r=e.sent,e.next=10,r.json();case 10:data=e.sent,this.onPayload({data:data}),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(3),this.onError(t.id,e.t0);case 17:case"end":return e.stop()}}),e,this,[[3,14]])}))),function(e,t){return n.apply(this,arguments)})},{key:"register",value:(t=Object(r.a)(regeneratorRuntime.mark((function e(){var t,n,body,r,o=this,c=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=c.length>0&&void 0!==c[0]?c[0]:this.url,Object(y.isHttpUrl)(t)){e.next=3;break}throw new Error("Provided URL is not compatible with HTTP connection: ".concat(t));case 3:if(!this.registering){e.next=7;break}return n=this.events.getMaxListeners(),(this.events.listenerCount("register_error")>=n||this.events.listenerCount("open")>=n)&&this.events.setMaxListeners(n+1),e.abrupt("return",new Promise((function(e,t){o.events.once("register_error",(function(e){o.resetMaxListeners(),t(e)})),o.events.once("open",(function(){if(o.resetMaxListeners(),void 0===o.isAvailable)return t(new Error("HTTP connection is missing or invalid"));e()}))})));case 7:if(this.url=t,this.registering=!0,e.prev=9,this.disableProviderPing){e.next=14;break}return body=m({id:1,jsonrpc:"2.0",method:"test",params:[]}),e.next=14,d()(t,Object.assign(Object.assign({},_),{body:body}));case 14:this.onOpen(),e.next=23;break;case 17:throw e.prev=17,e.t0=e.catch(9),r=this.parseError(e.t0),this.events.emit("register_error",r),this.onClose(),r;case 23:case"end":return e.stop()}}),e,this,[[9,17]])}))),function(){return t.apply(this,arguments)})},{key:"onOpen",value:function(){this.isAvailable=!0,this.registering=!1,this.events.emit("open")}},{key:"onClose",value:function(){this.isAvailable=!1,this.registering=!1,this.events.emit("close")}},{key:"onPayload",value:function(e){if(void 0!==e.data){var t="string"==typeof e.data?v(e.data):e.data;this.events.emit("payload",t)}}},{key:"onError",value:function(e,t){var n=this.parseError(t),r=n.message||n.toString(),o=Object(y.formatJsonRpcError)(e,r);this.events.emit("payload",o)}},{key:"parseError",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.url;return Object(y.parseConnectionError)(e,t,"HTTP")}},{key:"resetMaxListeners",value:function(){this.events.getMaxListeners()>10&&this.events.setMaxListeners(10)}}]),e}(),O=w;t.b=O},1404:function(e,t,n){"use strict";var r=n(13),o=n(55),c=n(56),l=(n(1),n(7),n(74),n(94)),f=n(12);n(8),n(22),n(31),n(76);function d(e){if("string"!=typeof e)throw new Error("Cannot safe json parse value of type ".concat(Object(f.a)(e)));try{return t=e.replace(/([\[:])?(\d{17,}|(?:[9](?:[1-9]07199254740991|0[1-9]7199254740991|00[8-9]199254740991|007[2-9]99254740991|007199[3-9]54740991|0071992[6-9]4740991|00719925[5-9]740991|007199254[8-9]40991|0071992547[5-9]0991|00719925474[1-9]991|00719925474099[2-9])))([,\}\]])/g,'$1"$2n"$3'),JSON.parse(t,(function(e,t){return"string"==typeof t&&t.match(/^\d+n$/)?BigInt(t.substring(0,t.length-1)):t}))}catch(t){return e}var t}function h(e){return"string"==typeof e?e:(data=e,JSON.stringify(data,(function(e,t){return"bigint"==typeof t?t.toString()+"n":t}))||"");var data}var v=n(876),m=n(1362),y=Object(m.b)(),_=function(){function e(t){if(Object(o.a)(this,e),this.url=t,this.events=new l.EventEmitter,this.registering=!1,!Object(v.isWsUrl)(t))throw new Error("Provided URL is not compatible with WebSocket connection: ".concat(t));this.url=t}var t,n,f;return Object(c.a)(e,[{key:"connected",get:function(){return void 0!==this.socket}},{key:"connecting",get:function(){return this.registering}},{key:"on",value:function(e,t){this.events.on(e,t)}},{key:"once",value:function(e,t){this.events.once(e,t)}},{key:"off",value:function(e,t){this.events.off(e,t)}},{key:"removeListener",value:function(e,t){this.events.removeListener(e,t)}},{key:"open",value:(f=Object(r.a)(regeneratorRuntime.mark((function e(){var t,n=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.length>0&&void 0!==n[0]?n[0]:this.url,e.next=3,this.register(t);case 3:case"end":return e.stop()}}),e,this)}))),function(){return f.apply(this,arguments)})},{key:"close",value:(n=Object(r.a)(regeneratorRuntime.mark((function e(){var t=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,n){void 0!==t.socket?(t.socket.onclose=function(n){t.onClose(n),e()},t.socket.close()):n(new Error("Connection already closed"))})));case 1:case"end":return e.stop()}}),e)}))),function(){return n.apply(this,arguments)})},{key:"send",value:(t=Object(r.a)(regeneratorRuntime.mark((function e(t,n){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0!==this.socket){e.next=4;break}return e.next=3,this.register();case 3:this.socket=e.sent;case 4:try{this.socket.send(h(t))}catch(e){this.onError(t.id,e)}case 5:case"end":return e.stop()}}),e,this)}))),function(e,n){return t.apply(this,arguments)})},{key:"register",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.url;if(!Object(v.isWsUrl)(t))throw new Error("Provided URL is not compatible with WebSocket connection: ".concat(t));if(this.registering){var n=this.events.getMaxListeners();return(this.events.listenerCount("register_error")>=n||this.events.listenerCount("open")>=n)&&this.events.setMaxListeners(n+1),new Promise((function(t,n){e.events.once("register_error",(function(t){e.resetMaxListeners(),n(t)})),e.events.once("open",(function(){if(e.resetMaxListeners(),void 0===e.socket)return n(new Error("WebSocket connection is missing or invalid"));t(e.socket)}))}))}return this.url=t,this.registering=!0,new Promise((function(n,r){var o=Object(v.isReactNative)()?void 0:{rejectUnauthorized:!Object(v.isLocalhostUrl)(t)},c=new y(t,[],o);Object(m.a)()?c.onerror=function(t){var n=t;r(e.emitError(n.error))}:c.on("error",(function(t){r(e.emitError(t))})),c.onopen=function(){e.onOpen(c),n(c)}}))}},{key:"onOpen",value:function(e){var t=this;e.onmessage=function(e){return t.onPayload(e)},e.onclose=function(e){return t.onClose(e)},this.socket=e,this.registering=!1,this.events.emit("open")}},{key:"onClose",value:function(e){this.socket=void 0,this.registering=!1,this.events.emit("close",e)}},{key:"onPayload",value:function(e){if(void 0!==e.data){var t="string"==typeof e.data?d(e.data):e.data;this.events.emit("payload",t)}}},{key:"onError",value:function(e,t){var n=this.parseError(t),r=n.message||n.toString(),o=Object(v.formatJsonRpcError)(e,r);this.events.emit("payload",o)}},{key:"parseError",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.url;return Object(v.parseConnectionError)(e,Object(m.c)(t),"WS")}},{key:"resetMaxListeners",value:function(){this.events.getMaxListeners()>10&&this.events.setMaxListeners(10)}},{key:"emitError",value:function(e){var t=this.parseError(new Error((null==e?void 0:e.message)||"WebSocket connection failed for host: ".concat(Object(m.c)(this.url))));return this.events.emit("register_error",t),t}}]),e}(),w=_;t.a=w},1416:function(e,t,n){"use strict";n.r(t);var r=n(16),o=(n(1),n(42),n(41),n(397),n(21),n(57),n(766)),c=(n(39),n(31),n(32),n(48),n(30),n(52),n(6)),l=(n(36),n(35),n(87),n(93),n(8),n(22),n(140),n(100)),f=n(4),d=n(745);function h(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,n)}return t}function v(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?h(Object(source),!0).forEach((function(t){Object(c.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):h(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}function m(e,t){var n=e.find((function(e){return e.name===t}));return n?n.value:"0"}var y={HUB_CHAIN_ID:f.w,HUB_CHAIN_DATA:f.v,components:{Loader:d.a},props:{isLoading:{type:Boolean,default:!1},coinList:{type:Array,required:!0},priceList:{type:Array,required:!0}},data:function(){return{}},computed:{coinListMapped:function(){var e=this;return this.coinList.map((function(t){return v(v({},t),{},{price:m(e.priceList,t.denom)})}))},networkList:function(){var e=this;return this.priceList.filter((function(e){return e.name.includes("/gas")&&f.v[e.name.replace("/gas","")]})).map((function(t){var n=t.name.replace("/gas",""),r=f.v[n].coinSymbol;return{network:n,name:f.v[n].name,coinSymbol:r,coinPrice:m(e.priceList,r.toLowerCase()),gasPrice:m(e.priceList,"".concat(n,"/gas"))}}))}},methods:{pretty:l.s,getExplorerCoinUrl:l.j,getEthereumAddressUrl:function(address){return Object(l.f)(f.m,address)},getBscAddressUrl:function(address){return Object(l.f)(f.g,address)}}},_=n(60),w=Object(_.a)(y,(function(){var e=this,t=e._self._c;return t("section",{staticClass:"panel"},[e.isLoading?t("div",{staticClass:"panel__content panel__section u-text-center"},[t("Loader",{attrs:{isLoading:!0}})],1):[e.networkList.length?t("div",{staticClass:"table-wrap u-mb-20"},[t("table",[t("thead",[t("tr",{staticClass:"u-text-nowrap"},[t("th",[t("span",{staticClass:"u-hidden-small-down"},[e._v(e._s(e.$td("Supported networks","hub.network-table-name")))]),e._v(" "),t("span",{staticClass:"u-hidden-small-up"},[e._v(e._s(e.$td("Networks","hub.network-table-name-mobile")))])]),e._v(" "),t("th",[e._v(e._s(e.$td("Coin price","hub.network-table-coin-price")))]),e._v(" "),t("th",[e._v(e._s(e.$td("Gas price","hub.network-table-gas-price")))])])]),e._v(" "),t("tbody",e._l(e.networkList,(function(n){return t("tr",{key:n.network,staticClass:"u-text-nowrap"},[t("td",[e._v("\n                            "+e._s(n.name)+"\n                        ")]),e._v(" "),t("td",[e._v("\n                            1 "+e._s(n.coinSymbol)+" = $"+e._s(e.pretty(n.coinPrice))+"\n                        ")]),e._v(" "),t("td",[e._v("\n                            "+e._s(n.gasPrice)+" gwei\n                        ")])])})),0)])]):e._e(),e._v(" "),e.coinList.length?t("div",{staticClass:"table-wrap"},[t("table",[t("thead",[t("tr",{staticClass:"u-text-nowrap"},[t("th",{attrs:{width:"25%"}},[t("span",{staticClass:"u-hidden-small-down"},[e._v(e._s(e.$td("Available tokens","hub.coin-table-name")))]),e._v(" "),t("span",{staticClass:"u-hidden-small-up"},[e._v(e._s(e.$td("Tokens","hub.coin-table-name-mobile")))])]),e._v(" "),t("th",{attrs:{width:"20%"}},[e._v("\n                            "+e._s(e.$options.HUB_CHAIN_DATA[e.$options.HUB_CHAIN_ID.ETHEREUM].shortName)+"\n                            "+e._s(e.$td("contract","hub.coin-table-contract"))+"\n                        ")]),e._v(" "),t("th",{attrs:{width:"20%"}},[e._v("\n                            "+e._s(e.$options.HUB_CHAIN_DATA[e.$options.HUB_CHAIN_ID.BSC].shortName)+"\n                            "+e._s(e.$td("contract","hub.coin-table-contract"))+"\n                        ")]),e._v(" "),t("th",{attrs:{width:"20%"}},[e._v(e._s(e.$td("Price","hub.coin-table-price")))]),e._v(" "),t("th",{attrs:{width:"15%"}},[t("span",{staticClass:"u-hidden-small-down"},[e._v(e._s(e.$td("Hub fee","hub.coin-table-fee")))]),e._v(" "),t("span",{staticClass:"u-hidden-small-up"},[e._v(e._s(e.$td("Fee","hub.coin-table-fee-mobile")))])])])]),e._v(" "),t("tbody",e._l(e.coinListMapped,(function(n){return t("tr",{key:n.minterId,staticClass:"u-text-nowrap"},[t("td",[t("a",{staticClass:"link--default",attrs:{href:e.getExplorerCoinUrl(n.symbol),target:"_blank",rel:"noopener"}},[e._v(e._s(n.symbol))])]),e._v(" "),t("td",[n.ethereum?t("a",{staticClass:"link--default",attrs:{href:e.getEthereumAddressUrl(n.ethereum.externalTokenId),target:"_blank",rel:"noopener"}},[e._v(e._s(n.denom.toUpperCase()))]):e._e()]),e._v(" "),t("td",[n.bsc?t("a",{staticClass:"link--default",attrs:{href:e.getBscAddressUrl(n.bsc.externalTokenId),target:"_blank",rel:"noopener"}},[e._v(e._s(n.denom.toUpperCase()))]):e._e()]),e._v(" "),t("td",[e._v("\n                            $"+e._s(e.pretty(n.price))+"\n                        ")]),e._v(" "),t("td",[e._v("\n                            "+e._s(e.pretty(100*n.commission))+"%\n                        ")])])})),0)])]):t("div",{staticClass:"panel__content panel__section u-text-center"},[e._v(e._s(e.$td("No Coins","hub.no-coins")))])]],2)}),[],!1,null,null,null).exports,O=(n(266),n(13)),x=(n(74),n(7),n(101)),E=n(748),j=n(747),k=n(779),S=n(786),R=n(750),C=n(760),I=n(773),P=n(27),A=n(109),T=n(751),N=n(409),U=n(743),M=n(399),L=n(775),D=n(778),$=n(1044),H=n(764),B=n(754),F=n(756);function V(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,n)}return t}function W(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?V(Object(source),!0).forEach((function(t){Object(c.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):V(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}var z,K="fast",G={SPEED_MIN:"min",SPEED_FAST:K,HUB_CHAIN_ID:f.w,HUB_CHAIN_DATA:f.v,components:{FieldQr:H.a,FieldUseMax:L.a,FieldCoin:B.a,Loader:d.a,Modal:F.a},directives:{autosize:C.a,checkEmpty:U.a},mixins:[E.a],props:{hubCoinList:{type:Array,required:!0},priceList:{type:Array,required:!0}},setup:function(){var e=Object(D.a)(),t=e.fee,n=e.feeProps,r=Object($.a)();return{fee:t,feeProps:n,discount:r.discount,discountUpsidePercent:r.discountUpsidePercent,setDiscountProps:r.setDiscountProps}},fetch:function(){return this.getDestinationFee()},data:function(){return{destinationFee:{min:0,fast:0},form:{coin:"",amount:"",address:this.$store.getters.address.replace("Mx","0x"),speed:K,networkTo:f.w.ETHEREUM},isFormSending:!1,serverSuccess:null,serverError:"",serverWarning:"",isConfirmModalVisible:!1,isSuccessModalVisible:!1}},computed:{coinItem:function(){var e=this;return this.hubCoinList.find((function(t){return t.symbol===e.form.coin}))},coinId:function(){var e;return null===(e=this.coinItem)||void 0===e?void 0:e.minterId},externalToken:function(){var e;return null===(e=this.coinItem)||void 0===e?void 0:e[this.form.networkTo]},hubFeeRate:function(){var e,t=1-this.discount;return new x.c((null===(e=this.coinItem)||void 0===e?void 0:e.commission)||.01).times(t).toString()},hubFeeRatePercent:function(){return new x.c(this.hubFeeRate).times(100).toString()},coinPrice:function(){var e=this,t=this.priceList.find((function(t){var n;return t.name===(null===(n=e.externalToken)||void 0===n?void 0:n.denom)}));return t?t.value:"0"},coinFee:function(){if("0"===this.coinPrice)return 0;var e="min"===this.form.speed?this.destinationFee.min:this.destinationFee.fast;return new x.c(e).div(this.coinPrice).toString()},hubFee:function(){var e=new x.c(this.coinFee).plus(this.form.amount||0),t=new x.c(this.hubFeeRate).div(new x.c(1).minus(this.hubFeeRate));return e.times(t).toString()},amountToSend:function(){return new x.c(this.form.amount||0).plus(this.coinFee).plus(this.hubFee).toString()},amountToSpend:function(){return this.form.coin===this.fee.coinSymbol?new x.c(this.amountToSend).plus(this.fee.value).toString():this.amountToSend},maxAmount:function(){var e=this,t=this.$store.getters.balance.find((function(t){return t.coin.symbol===e.form.coin}));if(!t)return 0;var n=Object(L.b)(t,this.fee),r=new x.c(n).times(this.hubFeeRate),o=new x.c(n).minus(r).minus(this.coinFee);return o.lt(0)?0:o.toString()},minAmount:function(){return function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.01,r=new x.c(n).minus(t).div(new x.c(1).minus(n).times(new x.c(1).minus(t))).toString(),o=new x.c(e).times(r).div(new x.c(1).minus(r)).toString();return new x.c(o).plus(1e-18).toString()}(this.coinFee,this.hubFeeRate)},suggestionList:function(){var e=this;return this.hubCoinList.filter((function(t){return!!t[e.form.networkTo]})).map((function(e){return e.symbol}))},feeBusParams:function(){var e;return{txParams:{type:P.a.SEND,data:{to:f.z,value:0,coin:this.coinId},payload:JSON.stringify({recipient:this.form.address,type:"send_to_"+this.form.networkTo,fee:Object(A.b)(this.coinFee)})},baseCoinAmount:null===(e=this.$store.getters.baseCoin)||void 0===e?void 0:e.amount,fallbackToCoinToSpend:!0,isOffline:this.$store.getters.isOfflineMode,precision:I.a.PRECISE}}},validations:function(){var e=this;return{form:{address:{required:j.a,validAddress:function(address){return/^0x[0-9a-fA-F]{40}$/.test(address)}},coin:{required:j.a,minLength:Object(R.a)(3),supported:function(){return!!e.externalToken}},amount:{required:j.a,minValue:Object(k.a)(this.minAmount),maxValue:Object(S.a)(this.maxAmount||0)}}}},watch:{"form.networkTo":{handler:function(){this.destinationFee={min:0,fast:0},this.getDestinationFee()}},"form.address":{handler:function(e){this.setDiscountProps({ethAddress:e})},immediate:!0},"$store.getters.address":{handler:function(e){this.setDiscountProps({minterAddress:e})},immediate:!0},feeBusParams:{handler:function(e){Object.assign(this.feeProps,e)},deep:!0,immediate:!0}},mounted:function(){var e=this;z=setInterval((function(){e.getDestinationFee()}),3e4)},destroyed:function(){clearInterval(z)},methods:{pretty:l.s,prettyPrecise:l.v,prettyRound:l.x,getExplorerTxUrl:l.l,getDestinationFee:function(){var e=this,t=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).checkWarning;return this.form.networkTo?Object(N.d)(this.form.networkTo).then((function(n){t&&new x.c(n.fast).gt(e.destinationFee.fast)&&(e.serverWarning=!0),e.destinationFee=n})):0},submitConfirm:function(){var e=this;if(!this.isFormSending){if(!this.$v.$invalid)return this.serverError="",this.serverWarning="",this.serverSuccess=null,this.isFormSending=!0,this.getDestinationFee({checkWarning:!0}).then((function(){e.isFormSending=!1,e.serverWarning||(e.isConfirmModalVisible=!0)})).catch((function(t){console.log(t),e.isFormSending=!1,e.serverError=Object(M.a)(t)}));this.$v.$touch()}},submit:function(){var e=this;return Object(O.a)(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.isConfirmModalVisible=!1,!e.$v.$invalid){t.next=4;break}return e.$v.$touch(),t.abrupt("return");case 4:return e.serverError="",e.serverWarning="",e.serverSuccess=null,e.isFormSending=!0,t.next=10,e.getDestinationFee({checkWarning:!0});case 10:if(!e.serverWarning){t.next=13;break}return e.isFormSending=!1,t.abrupt("return");case 13:return n={type:P.a.SEND,data:{to:f.z,value:e.amountToSend,coin:e.coinId},payload:JSON.stringify({recipient:e.form.address,type:"send_to_"+e.form.networkTo,fee:Object(A.b)(e.coinFee)}),gasCoin:e.fee.coin},t.abrupt("return",Object(T.h)(n,{privateKey:e.$store.getters.privateKey}).then((function(t){e.$store.commit("hub/saveWithdrawFromGate",W(W({},t),{},{bridgeFee:e.hubFee})),e.isFormSending=!1,e.serverSuccess=t,e.isSuccessModalVisible=!0,e.clearForm()})).catch((function(t){console.log(t),e.isFormSending=!1,e.serverError=Object(M.a)(t)})));case 15:case"end":return t.stop()}}),t)})))()},clearForm:function(){this.$v.$reset(),this.form.address="",this.form.amount="",this.form.coin=""}}};var J=G,Y=Object(_.a)(J,(function(){var e=this,t=e._self._c;return t("div",{staticClass:"panel"},[t("div",{staticClass:"panel__header"},[t("h1",{staticClass:"panel__header-title"},[e._v("\n            "+e._s(e.$td("Withdraw","hub.withdraw-title"))+"\n        ")]),e._v(" "),t("p",{staticClass:"panel__header-description"},[e._v("\n            "+e._s(e.$td("Send coins from Minter to another network","hub.withdraw-description"))+"\n        ")])]),e._v(" "),t("form",{staticClass:"panel__section",on:{submit:function(t){return t.preventDefault(),e.submitConfirm.apply(null,arguments)}}},[t("div",{staticClass:"u-grid u-grid--small u-grid--vertical-margin--small"},[t("div",{staticClass:"u-cell u-cell--large--1-2"},[t("FieldQr",{attrs:{$value:e.$v.form.address,label:e.$td("Withdraw to address","hub.withdraw-address")},on:{blur:function(t){return e.$v.form.address.$touch()}},model:{value:e.form.address,callback:function(t){e.$set(e.form,"address","string"==typeof t?t.trim():t)},expression:"form.address"}}),e._v(" "),e.$v.form.address.$error?e.$v.form.address.$dirty&&!e.$v.form.address.required?t("span",{staticClass:"form-field__error"},[e._v(e._s(e.$td("Enter","hub.withdraw-address-required"))+" "+e._s(e.$options.HUB_CHAIN_DATA[e.form.networkTo].shortName)+" "+e._s(e.$td("address","hub.withdraw-address-title")))]):e.$v.form.address.$dirty&&!e.$v.form.address.validAddress?t("span",{staticClass:"form-field__error"},[e._v(e._s(e.$td("Invalid","hub.withdraw-address-invalid"))+" "+e._s(e.$options.HUB_CHAIN_DATA[e.form.networkTo].shortName)+" "+e._s(e.$td("address","hub.withdraw-address-title")))]):e._e():t("span",{staticClass:"form-field__help"},[e._v(e._s(e.$options.HUB_CHAIN_DATA[e.form.networkTo].shortName)+" "+e._s(e.$td("address starting with 0x…","hub.withdraw-address-description")))])],1),e._v(" "),t("div",{staticClass:"u-cell u-cell--large--1-4 u-cell--small--1-2"},[t("FieldCoin",{attrs:{$value:e.$v.form.coin,label:e.$td("Coin","form.coin"),"coin-list":e.suggestionList,"select-mode":!0},model:{value:e.form.coin,callback:function(t){e.$set(e.form,"coin",t)},expression:"form.coin"}}),e._v(" "),e.$v.form.coin.$dirty&&!e.$v.form.coin.required?t("span",{staticClass:"form-field__error"},[e._v(e._s(e.$td("Enter coin symbol","form.coin-error-required")))]):e.$v.form.coin.$dirty&&!e.$v.form.coin.minLength?t("span",{staticClass:"form-field__error"},[e._v(e._s(e.$td("Min. 3 letters","form.coin-error-min")))]):e.$v.form.coin.$dirty&&!e.$v.form.coin.supported?t("span",{staticClass:"form-field__error"},[e._v("\n                    "+e._s(e.$td("Can't be transferred to","hub.coin-error-supported"))+"\n                    "+e._s(e.$options.HUB_CHAIN_DATA[e.form.networkTo].shortName)+"\n                ")]):e._e()],1),e._v(" "),t("div",{staticClass:"u-cell u-cell--large--1-4 u-cell--small--1-2"},[t("FieldUseMax",{attrs:{$value:e.$v.form.amount,label:e.$td("Amount","hub.amount"),"max-value":e.maxAmount},model:{value:e.form.amount,callback:function(t){e.$set(e.form,"amount",t)},expression:"form.amount"}}),e._v(" "),e.$v.form.amount.$dirty&&!e.$v.form.amount.required?t("span",{staticClass:"form-field__error"},[e._v(e._s(e.$td("Enter amount","form.amount-error-required")))]):e.$v.form.amount.$dirty&&!e.$v.form.amount.minValue?t("span",{staticClass:"form-field__error"},[e._v(e._s(e.$td("Minimum ".concat(e.minAmount),"form.amount-error-min",{min:e.minAmount})))]):e.$v.form.amount.$dirty&&!e.$v.form.amount.maxValue?t("span",{staticClass:"form-field__error"},[e._v(e._s(e.$td("Not enough","form.amount-error-not-enough"))+" "+e._s(e.form.coin)+" ("+e._s(e.$td("max.","hub.max"))+" "+e._s(e.pretty(e.maxAmount))+")")]):e._e()],1),e._v(" "),t("div",{staticClass:"u-cell u-cell--large--1-2 u-cell--large-down--order-minus"},[t("label",{staticClass:"form-field"},[t("select",{directives:[{name:"model",rawName:"v-model",value:e.form.networkTo,expression:"form.networkTo"},{name:"check-empty",rawName:"v-check-empty"}],staticClass:"form-field__input form-field__input--select",on:{change:function(t){var n=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){return"_value"in e?e._value:e.value}));e.$set(e.form,"networkTo",t.target.multiple?n:n[0])}}},[t("option",{domProps:{value:e.$options.HUB_CHAIN_ID.ETHEREUM}},[e._v(e._s(e.$options.HUB_CHAIN_DATA[e.$options.HUB_CHAIN_ID.ETHEREUM].name))]),e._v(" "),t("option",{domProps:{value:e.$options.HUB_CHAIN_ID.BSC}},[e._v(e._s(e.$options.HUB_CHAIN_DATA[e.$options.HUB_CHAIN_ID.BSC].name))]),e._v(" "),t("option",{domProps:{value:e.$options.HUB_CHAIN_ID.MEGACHAIN}},[e._v(e._s(e.$options.HUB_CHAIN_DATA[e.$options.HUB_CHAIN_ID.MEGACHAIN].name))])]),e._v(" "),t("span",{staticClass:"form-field__label"},[e._v(e._s(e.$td("Destination network","hub.destination")))])])]),e._v(" "),t("div",{staticClass:"u-cell u-cell--large--1-2"},[t("button",{staticClass:"button button--main button--full",class:{"is-disabled":e.$v.$invalid,"is-loading":e.isFormSending}},[t("span",{staticClass:"button__content"},[e._v(e._s(e.$td("Withdraw","hub.withdraw-button-title")))]),e._v(" "),t("Loader",{staticClass:"button__loader",attrs:{isLoading:!0}})],1),e._v(" "),e.serverError?t("div",{staticClass:"form-field__error"},[e._v(e._s(e.serverError))]):e._e(),e._v(" "),e.serverWarning?t("div",{staticClass:"form-field__help"},[t("span",{staticClass:"u-emoji"},[e._v("⚠️")]),e._v(" "+e._s(e.$options.HUB_CHAIN_DATA[e.form.networkTo].shortName)+" "+e._s(e.$td("fee has updated","hub.fee-updated")))]):e._e()])])]),e._v(" "),t("div",{staticClass:"panel__section panel__section--tint"},[t("div",{staticClass:"u-grid u-grid--small u-grid--vertical-margin--small"},[t("div",{staticClass:"u-cell u-cell--1-2 u-cell--large--1-4"},[t("div",{staticClass:"form-field form-field--dashed"},[t("div",{staticClass:"form-field__input is-not-empty"},[e._v(e._s(e.prettyPrecise(e.amountToSpend))+" "+e._s(e.form.coin))]),e._v(" "),t("span",{staticClass:"form-field__label"},[e._v(e._s(e.$td("Total spend","hub.withdraw-estimate")))])])]),e._v(" "),t("div",{staticClass:"u-cell u-cell--1-2 u-cell--large--1-4"},[t("div",{staticClass:"form-field form-field--dashed"},[t("div",{staticClass:"form-field__input is-not-empty"},[e._v(e._s(e.pretty(e.coinFee))+" "+e._s(e.form.coin))]),e._v(" "),t("span",{staticClass:"form-field__label"},[e._v(e._s(e.$options.HUB_CHAIN_DATA[e.form.networkTo].shortName)+" "+e._s(e.$td("fee","hub.withdraw-eth-fee")))])])]),e._v(" "),t("div",{staticClass:"u-cell u-cell--1-2 u-cell--large--1-4"},[t("div",{staticClass:"form-field form-field--dashed"},[t("div",{staticClass:"form-field__input is-not-empty"},[e._v(e._s(e.pretty(e.hubFee))+" "+e._s(e.form.coin))]),e._v(" "),t("span",{staticClass:"form-field__label"},[e._v("\n                        "+e._s(e.$td("Bridge fee","hub.withdraw-hub-fee"))+"\n                        ("+e._s(e.hubFeeRatePercent)+"%)\n                    ")])])]),e._v(" "),t("div",{staticClass:"u-cell u-cell--1-2 u-cell--large--1-4"},[t("div",{staticClass:"form-field form-field--dashed"},[t("div",{staticClass:"form-field__input is-not-empty"},[e._v(e._s(e.pretty(e.fee.value))+" "+e._s(e.fee.coinSymbol))]),e._v(" "),t("span",{staticClass:"form-field__label"},[e._v(e._s(e.$td("Minter fee","hub.withdraw-minter-fee")))])])]),e._v(" "),t("div",{staticClass:"u-cell"},["en"===e.$i18n.locale?[e._m(0),e._v(" "),t("ul",{staticClass:"list-simple"},[t("li",[e._v("Withdraw to the wallet you own first (the one you have a seed phrase to);")]),e._v(" "),t("li",[e._v("Do not withdraw to an exchange because many do not accept deposits from smart contracts and your tokens will be lost;")]),e._v(" "),t("li",[e._v("Pay attention to "+e._s(e.$options.HUB_CHAIN_DATA[e.form.networkTo].shortName)+" and Minter Hub fees;")]),e._v(" "),t("li",[e._v("\n                            "+e._s(e.$td("Minter Hub is","hub.warning-description-2"))+"\n                            "),t("a",{staticClass:"link--default",attrs:{href:"https://github.com/MinterTeam/mhub2",target:"_blank"}},[e._v(e._s(e.$td("open-source","hub.warning-description-3")))]),e._v(".\n                            "+e._s(e.$td("If needed, you may investigate its code before making use of the features offered on this page.","hub.warning-description-4"))+"\n                        ")])])]:e._e(),e._v(" "),"ru"===e.$i18n.locale?[e._m(1),e._v(" "),t("ul",{staticClass:"list-simple"},[t("li",[e._v("Вывод средств возможен только на ваш персональный адрес;")]),e._v(" "),t("li",[e._v("Не допускается вывод средств на смарт-контракты, адреса бирж или адреса, к которым у вас нет прямого доступа;")]),e._v(" "),t("li",[e._v("Всегда обращайте внимание на комиссии в "+e._s(e.$options.HUB_CHAIN_DATA[e.form.networkTo].shortName)+" и Minter Hub;")]),e._v(" "),e._m(2)])]:e._e()],2)])]),e._v(" "),t("Modal",{attrs:{isOpen:e.isConfirmModalVisible},on:{"update:isOpen":function(t){e.isConfirmModalVisible=t},"update:is-open":function(t){e.isConfirmModalVisible=t}}},[t("div",{staticClass:"panel"},[t("div",{staticClass:"panel__header"},[t("h1",{staticClass:"panel__header-title"},[e._v("\n                    "+e._s(e.$td("Withdraw","hub.withdraw-title"))+"\n                ")])]),e._v(" "),t("div",{staticClass:"panel__section u-text-left"},[t("div",{staticClass:"u-grid u-grid--vertical-margin"},[t("div",{staticClass:"u-cell"},[t("div",{staticClass:"form-field form-field--dashed"},[t("div",{staticClass:"form-field__input is-not-empty"},[e._v(e._s(e.prettyPrecise(e.form.amount))+" "+e._s(e.form.coin))]),e._v(" "),t("span",{staticClass:"form-field__label"},[e._v(e._s(e.$td("You send","form.wallet-send-confirm-amount")))])])]),e._v(" "),t("div",{staticClass:"u-cell"},[t("div",{staticClass:"form-field form-field--dashed"},[t("div",{staticClass:"form-field__input is-not-empty"},[e._v(e._s(e.form.address))]),e._v(" "),t("span",{staticClass:"form-field__label"},[e._v(e._s(e.$td("To the address","form.wallet-send-confirm-address")))])])]),e._v(" "),t("div",{staticClass:"u-cell"},[t("div",{staticClass:"form-field form-field--dashed"},[t("div",{staticClass:"form-field__input is-not-empty"},[e._v(e._s(e.pretty(e.coinFee))+" "+e._s(e.form.coin))]),e._v(" "),t("span",{staticClass:"form-field__label"},[e._v(e._s(e.$options.HUB_CHAIN_DATA[e.form.networkTo].shortName)+" "+e._s(e.$td("fee","hub.withdraw-eth-fee")))])])]),e._v(" "),t("div",{staticClass:"u-cell"},[t("div",{staticClass:"form-field form-field--dashed"},[t("div",{staticClass:"form-field__input is-not-empty"},[e._v(e._s(e.pretty(e.hubFee))+" "+e._s(e.form.coin))]),e._v(" "),t("span",{staticClass:"form-field__label"},[e._v("\n                                "+e._s(e.$td("Bridge fee","hub.withdraw-hub-fee"))+"\n                                ("+e._s(e.hubFeeRatePercent)+"%)\n                            ")])])]),e._v(" "),t("div",{staticClass:"u-cell"},[t("div",{staticClass:"form-field form-field--dashed"},[t("div",{staticClass:"form-field__input is-not-empty"},[e._v(e._s(e.pretty(e.fee.value))+" "+e._s(e.fee.coinSymbol))]),e._v(" "),t("span",{staticClass:"form-field__label"},[e._v(e._s(e.$td("Minter fee","hub.withdraw-minter-fee")))])])]),e._v(" "),t("div",{staticClass:"u-cell"},[t("div",{staticClass:"form-field form-field--dashed"},[t("div",{staticClass:"form-field__input is-not-empty"},[e._v(e._s(e.prettyPrecise(e.amountToSpend))+" "+e._s(e.form.coin))]),e._v(" "),t("span",{staticClass:"form-field__label"},[e._v(e._s(e.$td("Total spend","hub.withdraw-estimate")))])])])])]),e._v(" "),t("div",{staticClass:"panel__section"},[t("button",{staticClass:"button button--main button--full",class:{"is-loading":e.isFormSending},attrs:{type:"button","data-focus-on-open":""},on:{click:e.submit}},[t("span",{staticClass:"button__content"},[e._v(e._s(e.$td("Confirm","form.submit-confirm-button")))]),e._v(" "),t("Loader",{staticClass:"button__loader",attrs:{isLoading:!0}})],1),e._v(" "),e.isFormSending?e._e():t("button",{staticClass:"button button--ghost-main button--full",attrs:{type:"button"},on:{click:function(t){e.isConfirmModalVisible=!1}}},[e._v("\n                    "+e._s(e.$td("Cancel","form.submit-cancel-button"))+"\n                ")])]),e._v(" "),t("div",{staticClass:"panel__section u-text-left"},["en"===e.$i18n.locale?[t("span",{staticClass:"u-emoji"},[e._v("⚠️")]),e._v(" "),t("strong",[e._v("DO NOT")]),e._v(" withdraw to an exchange because many do not accept deposits from smart contracts and your tokens will be lost.\n                    Withdraw to the wallet you own first (the one you "),t("strong",[e._v("have a seed phrase")]),e._v(" to).\n                ")]:e._e(),e._v(" "),"ru"===e.$i18n.locale?[t("span",{staticClass:"u-emoji"},[e._v("⚠️")]),e._v(" "),t("strong",[e._v("НЕ")]),e._v(" делайте вывод на биржи, так как многие не зачисляют средства из смарт-контрактов. Вы потеряете свои токены.\n                    Выводите на кошелек, которым владеете (от которого у вас "),t("strong",[e._v("есть сид-фраза")]),e._v(").\n                ")]:e._e()],2)])]),e._v(" "),t("Modal",{attrs:{isOpen:e.isSuccessModalVisible},on:{"update:isOpen":function(t){e.isSuccessModalVisible=t},"update:is-open":function(t){e.isSuccessModalVisible=t}}},[t("div",{staticClass:"panel"},[t("div",{staticClass:"panel__header"},[t("h1",{staticClass:"panel__header-title"},[e._v("\n                    "+e._s(e.$td("Success!","form.success-title"))+"\n                ")])]),e._v(" "),t("div",{staticClass:"panel__section u-text-left"},[t("strong",[e._v(e._s(e.$td("Tx sent:","form.tx-sent")))]),e._v(" "),e.serverSuccess?t("a",{staticClass:"link--default u-text-break",attrs:{href:e.getExplorerTxUrl(e.serverSuccess.hash),target:"_blank"}},[e._v(e._s(e.serverSuccess.hash))]):e._e()]),e._v(" "),t("div",{staticClass:"panel__section"},[e.serverSuccess?t("a",{staticClass:"button button--main button--full",attrs:{href:e.getExplorerTxUrl(e.serverSuccess.hash),target:"_blank"}},[e._v("\n                    "+e._s(e.$td("View transaction","form.success-view-button"))+"\n                ")]):e._e(),e._v(" "),t("button",{staticClass:"button button--ghost-main button--full",attrs:{type:"button"},on:{click:function(t){e.isSuccessModalVisible=!1}}},[e._v("\n                    "+e._s(e.$td("Close","form.success-close-button"))+"\n                ")])])])])],1)}),[function(){var e=this,t=e._self._c;return t("p",{staticClass:"u-mb-05"},[t("span",{staticClass:"u-emoji"},[e._v("⚠️")]),e._v(" "),t("strong",[e._v("Withdrawal notice")])])},function(){var e=this,t=e._self._c;return t("p",{staticClass:"u-mb-05"},[t("span",{staticClass:"u-emoji"},[e._v("⚠️")]),e._v(" "),t("strong",[e._v("Внимание")])])},function(){var e=this,t=e._self._c;return t("li",[e._v("Minter Hub имеет открытый "),t("a",{staticClass:"link--default",attrs:{href:"https://github.com/MinterTeam/mhub2",target:"_blank"}},[e._v("исходный код")]),e._v(", изучите его при необходимости.")])}],!1,null,null,null),X=Y.exports,Q=(n(189),n(190),n(431)),Z=n(824);function ee(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,n)}return t}function te(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?ee(Object(source),!0).forEach((function(t){Object(c.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):ee(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}var ne,re={WITHDRAW_STATUS:f.B,HUB_CHAIN_DATA:f.v,components:{Loader:d.a},mixins:[Object(Q.a)(5e3)],fetch:function(){this.$store.dispatch("hub/loadWithdrawList")},data:function(){return{txPollList:{}}},computed:{hasTx:function(){return Object.keys(this.$store.state.hub.minterList).length},withdrawList:function(){return Object.values(this.$store.state.hub.minterList).sort((function(a,b){return new Date(b.timestamp)-new Date(a.timestamp)}))}},watch:{"$store.state.hub.minterList":{handler:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Object.keys(t).forEach((function(n){if(!e.txPollList[n]){var r=t[n];Object(l.r)(null==r?void 0:r.status)||(e.txPollList[n]=Object(N.h)(n,r.timestamp).on("update",(function(t){e.$store.commit("hub/updateWithdraw",t)})).then((function(t){return delete e.txPollList[n],Object(N.f)(n).then((function(e){return te(te({},t),{},{bridgeFee:e.valCommission})}))})).then((function(t){e.$store.commit("hub/updateWithdraw",t)})).catch((function(t){"unsubscribed"!==t.message?console.log(t):delete e.txPollList[n]})))}}))},deep:!0,immediate:!0}},destroyed:function(){Object.values(this.txPollList).forEach((function(e){"function"==typeof e.unsubscribe&&e.unsubscribe()}))},methods:{getTime:l.p,getTimeDistance:l.o,getExplorerTxUrl:l.l,convertFromPip:A.a,pretty:l.s,formatHash:function(e){return Object(l.y)(e||"",13)},isHubTransferFinished:l.r,getAmount:function(e){return new x.c(e.tx.data.value).minus(e.bridgeFee||0).minus(e.networkFee||0).toString()},getDestinationUrl:function(e){return Object(l.g)(Object(Z.d)(e.destination),e.outTxHash)}}},ie=re,oe=Object(_.a)(ie,(function(){var e=this,t=e._self._c;return e.hasTx?t("div",{staticClass:"panel"},[t("div",{staticClass:"panel__header panel__header-title"},[e._v(e._s(e.$td("Transactions","hub.txs")))]),e._v(" "),e._l(e.withdrawList,(function(n){return t("div",{key:n.tx.hash,staticClass:"panel__section preview__transaction"},[t("div",{staticClass:"hub__preview-transaction-row u-text-overflow"},[t("div",[t("a",{staticClass:"link--main",attrs:{href:e.getExplorerTxUrl(n.tx.hash),target:"_blank"}},[e._v(e._s(e.formatHash(n.tx.hash)))])]),e._v(" "),t("div",{staticClass:"u-fw-700"},[e._v("\n                "+e._s(e.pretty(e.getAmount(n)))+" "+e._s(n.tx.data.coin.symbol)+"\n            ")])]),e._v(" "),t("div",{staticClass:"hub__preview-transaction-row hub__preview-transaction-meta"},[t("div",[e._v("\n                "+e._s(e.getTimeDistance(n.timestamp||0,void 0,e.$now))+" "+e._s(e.$td("ago","hub.ago"))+" ("+e._s(e.getTime(n.timestamp||0))+")\n                "+e._s(e.$td("to","hub.to"))+" "+e._s(e.$options.HUB_CHAIN_DATA[n.destination].shortName)+"\n            ")]),e._v(" "),t("div",[n.status&&n.status!==e.$options.WITHDRAW_STATUS.not_found?e._e():[e._v(e._s(e.$td("Sending to Hub bridge","hub.sending-to-bridge")))],e._v(" "),n.status===e.$options.WITHDRAW_STATUS.not_found_long?[e._v(e._s(e.$td("Not found","hub.not-found")))]:e._e(),e._v(" "),n.status===e.$options.WITHDRAW_STATUS.deposit_to_hub_received?[e._v(e._s(e.$td("Bridge collecting batch","hub.bridge-batch")))]:e._e(),e._v(" "),n.status===e.$options.WITHDRAW_STATUS.batch_created?[e._v(e._s(e.$td("Sent to","hub.sent-to"))+" "+e._s(e.$options.HUB_CHAIN_DATA[n.destination].shortName)+", "+e._s(e.$td("waiting confirmation","hub.waiting-confirmation")))]:e._e(),e._v(" "),n.status===e.$options.WITHDRAW_STATUS.batch_executed?[e._v("\n                    "+e._s(e.$td("Success","form.success-title"))+"\n                    "),t("a",{staticClass:"link--main",attrs:{href:e.getDestinationUrl(n),target:"_blank"}},[e._v(e._s(e.formatHash(n.outTxHash)))])]:e._e(),e._v(" "),n.status===e.$options.WITHDRAW_STATUS.refund?[e._v(e._s(e.$td("Refunded","hub.refunded")))]:e._e(),e._v(" "),t("Loader",{staticClass:"hub__preview-loader",attrs:{"is-loading":!e.isHubTransferFinished(n.status)}})],2)])])}))],2):e._e()}),[],!1,null,null,null).exports,ae=(n(14),n(49),n(956).a),se=Object(_.a)(ae,(function(){var e=this,t=e._self._c;return t("div",{staticClass:"panel-wrap"},[t("div",{staticClass:"panel"},[t("div",{staticClass:"panel__header"},[t("h1",{staticClass:"panel__header-title"},[e._v("\n                "+e._s(e.$td("Deposit","hub.deposit-title"))+"\n            ")]),e._v(" "),t("p",{staticClass:"panel__header-description"},[e._v("\n                "+e._s(e.$td("Send coins from ".concat(e.chainId?e.getEvmNetworkName(e.chainId):"another network"," to Minter"),"hub.deposit-description",{network:e.chainId?e.getEvmNetworkName(e.chainId):"других сетей"}))+"\n            ")])]),e._v(" "),e.isConnected?t("form",{staticClass:"panel__section",on:{submit:function(t){return t.preventDefault(),e.submit.apply(null,arguments)}}},[t("div",{staticClass:"u-grid u-grid--small u-grid--vertical-margin--small"},[t("div",{staticClass:"u-cell u-cell--large--1-2"},[t("FieldQr",{attrs:{$value:e.$v.form.address,label:e.$td("Deposit to address","hub.deposit-address")},on:{blur:function(t){return e.$v.form.address.$touch()}},model:{value:e.form.address,callback:function(t){e.$set(e.form,"address","string"==typeof t?t.trim():t)},expression:"form.address"}}),e._v(" "),e.$v.form.address.$error?e.$v.form.address.$dirty&&!e.$v.form.address.required?t("span",{staticClass:"form-field__error"},[e._v(e._s(e.$td("Enter Minter address","hub.deposit-address-required")))]):e.$v.form.address.$dirty&&!e.$v.form.address.validAddress?t("span",{staticClass:"form-field__error"},[e._v(e._s(e.$td("Invalid Minter address","hub.deposit-address-invalid")))]):e._e():t("span",{staticClass:"form-field__help"},[e._v(e._s(e.$td("Minter address starting with Mx…","hub.deposit-address-mx")))])],1),e._v(" "),t("div",{staticClass:"u-cell u-cell--large--1-4 u-cell--small--1-2"},[t("FieldCoin",{attrs:{readonly:e.isFormSending,$value:e.$v.form.coin,label:e.$td("Coin","form.coin"),"coin-list":e.suggestionList,"select-mode":!0},model:{value:e.form.coin,callback:function(t){e.$set(e.form,"coin",t)},expression:"form.coin"}}),e._v(" "),e.$v.form.coin.$dirty&&!e.$v.form.coin.required?t("span",{staticClass:"form-field__error"},[e._v(e._s(e.$td("Enter coin symbol","form.coin-error-required")))]):e.$v.form.coin.$dirty&&!e.$v.form.coin.minLength?t("span",{staticClass:"form-field__error"},[e._v(e._s(e.$td("Min. 3 letters","form.coin-error-min")))]):e.$v.form.coin.$dirty&&!e.$v.form.coin.supported?t("span",{staticClass:"form-field__error"},[e._v("\n                        "+e._s(e.$td("Can't be deposited from","hub.deposit0coin-error-supported"))+"\n                        "+e._s(e.getEvmNetworkName(e.chainId))+"\n                    ")]):e._e()],1),e._v(" "),t("div",{staticClass:"u-cell u-cell--large--1-4 u-cell--small--1-2"},[t("FieldUseMax",{attrs:{readonly:e.isFormSending,$value:e.$v.form.amount,label:e.$td("Amount","hub.amount"),"max-value":e.maxAmount},model:{value:e.form.amount,callback:function(t){e.$set(e.form,"amount",t)},expression:"form.amount"}}),e._v(" "),e.$v.form.amount.$dirty&&!e.$v.form.amount.required?t("span",{staticClass:"form-field__error"},[e._v(e._s(e.$td("Enter amount","form.amount-error-required")))]):!e.$v.form.amount.$dirty||e.$v.form.amount.validAmount&&e.$v.form.amount.minValue?e.$v.form.amount.$dirty&&!e.$v.form.amount.maxValue?t("span",{staticClass:"form-field__error"},[e._v(e._s(e.$td("Not enough","form.amount-error-not-enough"))+" "+e._s(e.form.coin)+" ("+e._s(e.$td("max.","hub.max"))+" "+e._s(e.pretty(e.maxAmount))+")")]):e._e():t("span",{staticClass:"form-field__error"},[e._v(e._s(e.$td("Invalid amount","form.amount-error-invalid")))])],1),e._v(" "),t("div",{staticClass:"u-cell u-cell--large--1-2"},[t("div",{staticClass:"form-check-group"},[t("label",{staticClass:"form-check"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.form.isIgnorePending,expression:"form.isIgnorePending"}],staticClass:"form-check__input",attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.form.isIgnorePending)?e._i(e.form.isIgnorePending,null)>-1:e.form.isIgnorePending},on:{change:function(t){var n=e.form.isIgnorePending,r=t.target,o=!!r.checked;if(Array.isArray(n)){var c=e._i(n,null);r.checked?c<0&&e.$set(e.form,"isIgnorePending",n.concat([null])):c>-1&&e.$set(e.form,"isIgnorePending",n.slice(0,c).concat(n.slice(c+1)))}else e.$set(e.form,"isIgnorePending",o)}}}),e._v(" "),t("span",{staticClass:"form-check__label form-check__label--checkbox"},[e._v(e._s(e.$td("Ignore pending txs","hub.deposit-ignore-pending")))])]),e._v(" "),e.stage===e.$options.TX_APPROVE?t("label",{staticClass:"form-check"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.form.isInfiniteUnlock,expression:"form.isInfiniteUnlock"}],staticClass:"form-check__input",attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.form.isInfiniteUnlock)?e._i(e.form.isInfiniteUnlock,null)>-1:e.form.isInfiniteUnlock},on:{change:function(t){var n=e.form.isInfiniteUnlock,r=t.target,o=!!r.checked;if(Array.isArray(n)){var c=e._i(n,null);r.checked?c<0&&e.$set(e.form,"isInfiniteUnlock",n.concat([null])):c>-1&&e.$set(e.form,"isInfiniteUnlock",n.slice(0,c).concat(n.slice(c+1)))}else e.$set(e.form,"isInfiniteUnlock",o)}}}),e._v(" "),t("span",{staticClass:"form-check__label form-check__label--checkbox"},[e._v(e._s(e.$td("Infinite unlock","hub.deposit-unlock-infinite")))])]):e._e(),e._v(" "),e.stage===e.$options.TX_UNWRAP?t("label",{staticClass:"form-check"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.form.isUnwrapAll,expression:"form.isUnwrapAll"}],staticClass:"form-check__input",attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.form.isUnwrapAll)?e._i(e.form.isUnwrapAll,null)>-1:e.form.isUnwrapAll},on:{change:function(t){var n=e.form.isUnwrapAll,r=t.target,o=!!r.checked;if(Array.isArray(n)){var c=e._i(n,null);r.checked?c<0&&e.$set(e.form,"isUnwrapAll",n.concat([null])):c>-1&&e.$set(e.form,"isUnwrapAll",n.slice(0,c).concat(n.slice(c+1)))}else e.$set(e.form,"isUnwrapAll",o)}}}),e._v(" "),t("span",{staticClass:"form-check__label form-check__label--checkbox"},[e._v(e._s(e.$td("Unwrap all","hub.deposit-unwrap-all")))])]):e._e()])]),e._v(" "),e.stage!==e.$options.TX_TRANSFER?t("div",{staticClass:"u-cell u-cell--small--1-2 u-cell--large--1-4"},[e.isEthSelected?e._e():t("button",{staticClass:"button button--main button--full",class:{"is-loading":e.isFormSending&&e.stage===e.$options.TX_APPROVE,"is-disabled":e.$v.$invalid||e.stage===e.$options.TX_TRANSFER}},[t("span",{staticClass:"button__content"},[e.form.isInfiniteUnlock?[e._v(e._s(e.$td("Infinite unlock","hub.deposit-unlock-infinite")))]:[e._v(e._s(e.$td("Unlock","hub.deposit-unlock-button"))+" "),e.form.coin?[e._v(e._s(e.pretty(e.amountToUnlock))+" "+e._s(e.form.coin))]:e._e()]],2),e._v(" "),t("Loader",{staticClass:"button__loader",attrs:{isLoading:!0}})],1),e._v(" "),e.isEthSelected?t("button",{staticClass:"button button--main button--full",class:{"is-loading":e.isFormSending&&e.stage===e.$options.TX_UNWRAP,"is-disabled":e.$v.$invalid||e.stage===e.$options.TX_TRANSFER}},[t("span",{staticClass:"button__content"},[e._v("\n                            "+e._s(e.$td("Unwrap","hub.deposit-unwrap-button"))+" "),e.amountToUnwrap>0?[e._v(e._s(e.pretty(e.amountToUnwrap)))]:e._e(),e._v("\n                            "+e._s(e.hubChainData.coinSymbol)+"\n                        ")],2),e._v(" "),t("Loader",{staticClass:"button__loader",attrs:{isLoading:!0}})],1):e._e()]):e._e(),e._v(" "),t("div",{staticClass:"u-cell",class:e.stage===e.$options.TX_TRANSFER?"u-cell--large--1-2":"u-cell--small--1-2 u-cell--large--1-4"},[t("button",{staticClass:"button button--main button--full",class:{"is-loading":e.isFormSending&&e.stage===e.$options.TX_TRANSFER,"is-disabled":e.$v.$invalid||e.stage!==e.$options.TX_TRANSFER}},[t("span",{staticClass:"button__content"},[e._v(e._s(e.$td("Deposit","form.hub-deposit-button")))]),e._v(" "),t("Loader",{staticClass:"button__loader",attrs:{isLoading:!0}})],1)]),e._v(" "),e.serverError?t("div",{staticClass:"u-cell form__error send__text"},[e._v("\n                    "+e._s(e.serverError)+"\n                ")]):e._e()])]):e._e(),e._v(" "),e.isConnected?t("div",{staticClass:"panel__section panel__section--tint"},[t("div",{staticClass:"u-grid u-grid--small u-grid--vertical-margin--small"},[t("div",{staticClass:"u-cell u-cell--large--1-4 u-cell--small--1-2"},[t("div",{staticClass:"form-field form-field--dashed"},[t("div",{staticClass:"form-field__input is-not-empty"},[e._v(e._s(e.prettyPrecise(e.amountToSpend))+" "+e._s(e.form.coin))]),e._v(" "),t("span",{staticClass:"form-field__label"},[e._v(e._s(e.$td("Total spend","hub.withdraw-estimate")))])])]),e._v(" "),t("div",{staticClass:"u-cell u-cell--large--1-4 u-cell--small--1-2"},[t("div",{staticClass:"form-field form-field--dashed"},[t("div",{staticClass:"form-field__input is-not-empty"},[e._v(e._s(e.pretty(e.hubFee))+" "+e._s(e.form.coin))]),e._v(" "),t("span",{staticClass:"form-field__label"},[e._v("\n                            "+e._s(e.$td("Bridge fee","hub.withdraw-hub-fee"))+"\n                            ("+e._s(e.hubFeeRatePercent)+"%)\n                        ")])])]),e._v(" "),t("div",{staticClass:"u-cell u-cell--large--1-4 u-cell--small--1-2"},[t("div",{staticClass:"form-field form-field--dashed"},[t("div",{staticClass:"form-field__input is-not-empty"},[e._v(e._s(e.prettyPrecise(e.selectedBalance)))]),e._v(" "),t("div",{staticClass:"form-field__label"},[e._v(e._s(e.$td("Token balance","hub.deposit-selected-balance")))])])]),e._v(" "),t("div",{staticClass:"u-cell u-cell--large--1-4 u-cell--small--1-2"},[t("div",{staticClass:"form-field form-field--dashed"},[t("div",{staticClass:"form-field__input is-not-empty"},[e.selectedUnlockedInfinity?[e._v(e._s(e.$td("Infinity","hub.infinity")))]:[e._v(e._s(e.prettyPrecise(e.selectedUnlocked)))]],2),e._v(" "),t("div",{staticClass:"form-field__label"},[e._v(e._s(e.$td("Tokens unlocked","hub.deposit-selected-unlocked")))])])]),e._v(" "),e.isEthSelected?t("div",{staticClass:"u-cell u-cell--large--1-4 u-cell--small--1-2"},[t("div",{staticClass:"form-field form-field--dashed"},[t("div",{staticClass:"form-field__input is-not-empty"},[e._v(e._s(e.prettyPrecise(e.selectedNative)))]),e._v(" "),t("div",{staticClass:"form-field__label"},[e._v(e._s(e.$td("Native ".concat(e.hubChainData.coinSymbol),"hub.deposit-native-eth-balance",{symbol:e.hubChainData.coinSymbol})))])])]):e._e(),e._v(" "),e.isEthSelected?t("div",{staticClass:"u-cell u-cell--large--1-4 u-cell--small--1-2"},[t("div",{staticClass:"form-field form-field--dashed"},[t("div",{staticClass:"form-field__input is-not-empty"},[e._v(e._s(e.prettyPrecise(e.selectedWrapped)))]),e._v(" "),t("div",{staticClass:"form-field__label"},[e._v(e._s(e.$td("Wrapped W".concat(e.hubChainData.coinSymbol),"hub.deposit-weth-balance",{symbol:e.hubChainData.coinSymbol})))])])]):e._e()])]):e._e(),e._v(" "),t("Account",{ref:"ethAccount",attrs:{"hub-coin-list":e.hubCoinList,"price-list":e.priceList,"preferred-chain-id":Number(e.$route.query.chainId||0)},on:{"update:address":e.handleAccount,"update:network":e.handleChainId}}),e._v(" "),t("portal-target",{attrs:{name:"account-minter-confirm-modal"}})],1),e._v(" "),e.$store.getters["hub/depositList"].length?t("div",{staticClass:"panel"},[t("div",{staticClass:"panel__header panel__header-title"},[e._v(e._s(e.$td("Latest transactions","wallet.tx-title")))]),e._v(" "),e._l(e.$store.getters["hub/depositList"],(function(n){return t("TxListItem",{key:n.hash,staticClass:"panel__section",attrs:{tx:n,"hub-coin-list":e.hubCoinList}})}))],2):e._e()])}),[],!1,null,null,null),ce={components:{HubCoinList:w,HubWithdrawForm:X,HubWithdrawTxList:oe,HubDepositForm:se.exports},middleware:function(e){var t=e.app;e.store.commit("SET_SECTION_NAME",t.$td("Deposit and withdraw","common.page-deposit"))},fetch:function(){var e=this;return Promise.all([Object(N.c)(),Object(N.e)()]).then((function(t){var n=Object(r.a)(t,2),o=n[0],c=n[1];e.coinList=Object.freeze(o),e.priceList=Object.freeze(c)}))},head:function(){var title=Object(o.a)(this.$store.state.sectionName,this.$i18n.locale),e=this.$td("","deposit.seo-description"),t="en"===this.$i18n.locale?"":"-"+this.$i18n.locale;return{title:title,meta:[{hid:"og-title",name:"og:title",content:title},{hid:"description",name:"description",content:e},{hid:"og-description",name:"og:description",content:e},{hid:"og-image",name:"og:image",content:"".concat(this.BASE_URL_PREFIX,"/img/social-share-wallet").concat(t,".png")}]}},data:function(){return{coinList:[],priceList:[]}},computed:{},mounted:function(){var e=this;ne=setInterval((function(){Object(N.e)().then((function(t){e.priceList=t}))}),15e3)},destroyed:function(){clearInterval(ne)},methods:{}},ue=Object(_.a)(ce,(function(){var e=this,t=e._self._c;return t("section",{staticClass:"u-section u-container"},[t("HubDepositForm",{attrs:{"hub-coin-list":e.coinList,"price-list":e.priceList}}),e._v(" "),t("HubWithdrawForm",{attrs:{"hub-coin-list":e.coinList,"price-list":e.priceList}}),e._v(" "),t("HubWithdrawTxList"),e._v(" "),t("HubCoinList",{attrs:{"coin-list":e.coinList,"price-list":e.priceList,"is-loading":e.$fetchState.pending}})],1)}),[],!1,null,null,null);t.default=ue.exports},743:function(e,t,n){"use strict";n(57);function r(e){return"SELECT"===e.nodeName.toUpperCase()}function o(e){c(e.target)}function c(e){setTimeout((function(){e.value.length?e.classList.add("is-not-empty"):e.classList.remove("is-not-empty")}),0)}t.a={bind:function(e,t,n){c(e),r(e)?e.addEventListener("change",o):e.addEventListener("input",o),t.value&&e.addEventListener(t.value,o)},componentUpdated:function(e,t){c(e),t.oldValue!==t.value&&e.removeEventListener(t.oldValue,o),t.value&&e.addEventListener(t.value,o)},unbind:function(e,t){r(e)?e.removeEventListener("change",o):e.removeEventListener("input",o),t.value&&e.removeEventListener(t.value,o)}}},745:function(e,t,n){"use strict";var r={props:{isLoading:{type:Boolean,default:!1}}},o=(n(774),n(60)),component=Object(o.a)(r,(function(){var e=this,t=e._self._c;return e.isLoading?t("svg",{staticClass:"loader",attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 28 28"}},[t("circle",{staticClass:"loader__path",attrs:{cx:"14",cy:"14",r:"12"}})]):e._e()}),[],!1,null,null,null);t.a=component.exports},751:function(e,t,n){"use strict";n.d(t,"h",(function(){return T})),n.d(t,"g",(function(){return N})),n.d(t,"f",(function(){return U})),n.d(t,"a",(function(){return M})),n.d(t,"c",(function(){return H})),n.d(t,"b",(function(){return B})),n.d(t,"d",(function(){return V})),n.d(t,"i",(function(){return W})),n.d(t,"j",(function(){return z})),n.d(t,"e",(function(){return K}));n(31),n(32),n(35),n(48),n(30),n(52);var r=n(16),o=n(6),c=(n(49),n(1),n(42),n(41),n(14),n(36),n(736)),l=n(265),f=n(805),d=n(806),h=n(795),v=n(796),m=n(808),y=n(810),_=n(811),w=n(773),O=n(233),x=n(789),E=(n(797),n(799)),j=n(4),k=n(206),S=n(536),R=n(81);function C(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,n)}return t}function I(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?C(Object(source),!0).forEach((function(t){Object(o.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):C(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}var P=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Object(k.a)();return e=Object(c.a)(e,{enabledByDefault:!1}),e=Object(S.a)(e,{time:500,leading:!1})}(),A=new f.a({apiType:"gate",baseURL:j.r,chainId:j.i,adapter:P}),T=Object(d.b)(A),N=Object(h.a)(A),U=Object(v.a)(A),M=Object(d.a)(A),L=new l.a({ttl:5e3,max:100}),D=function(e,t){return e.sellAll?Object(y.a)(A,{cache:L})(e,t):Object(m.a)(A,{cache:L})(e,t)},$=new _.a(A,{cache:L});function H(e,t){return e.valueToSell&&Number(e.valueToSell)?e.findRoute&&e.swapFrom!==O.c.BANCOR?Object(R.m)(e.coinToSell,e.coinToBuy,{sellAmount:e.valueToSell,swapFrom:e.swapFrom},I(I({},t),{},{cache:L})).then((function(n){var r;return Promise.all([D(I(I({},e),{},{route:null===(r=n.coins)||void 0===r?void 0:r.map((function(e){return e.id})).slice(1,-1),swapFrom:n.swapType}),t),Promise.resolve(n.coins)])})).then((function(e){var t=Object(r.a)(e,2),n=t[0],o=t[1];return I(I({},n),{},{route:o})})):D(e,t):Promise.reject(new Error("Value to sell not specified"))}function B(e,t){return e.valueToBuy&&Number(e.valueToBuy)?e.findRoute&&e.swapFrom!==O.c.BANCOR?Object(R.m)(e.coinToSell,e.coinToBuy,{buyAmount:e.valueToBuy,swapFrom:e.swapFrom},I(I({},t),{},{cache:L})).then((function(n){var r;return Promise.all([$(I(I({},e),{},{route:null===(r=n.coins)||void 0===r?void 0:r.map((function(e){return e.id})).slice(1,-1),swapFrom:n.swapType}),t),Promise.resolve(n.coins)])})).then((function(e){var t=Object(r.a)(e,2),n=t[0],o=t[1];return I(I({},n),{},{route:o})})):$(e,t):Promise.reject(new Error("Value to buy not specified"))}var F=new l.a({ttl:6e4,max:100}),V=new w.b(A,{cache:L},{cache:F}),W=Object(x.b)(A,{cache:F}),z=Object(x.c)(A,{cache:F}),K=(new x.a(A,{cache:F}),new E.a(A,{cache:F}))},753:function(e,t,n){"use strict";var r=n(6),o=n(398),c=(n(49),n(31),n(32),n(35),n(1),n(48),n(30),n(52),n(802),n(813)),l=["input"];function f(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,n)}return t}function d(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?f(Object(source),!0).forEach((function(t){Object(r.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):f(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}var h={imaskAmount:{mask:Number,scale:18,signed:!1,thousandsSeparator:"",padFractionalZeros:!1,normalizeZeros:!1,radix:".",mapToRadix:[",","ю","Ю","б","Б"]},directives:{imask:c.a},props:{value:{type:[String,Number],default:""},scale:{type:[String,Number]}},emits:["input"],data:function(){return{maskedValue:""}},computed:{listeners:function(){var e=this.$listeners,t=(e.input,Object(o.a)(e,l));return t},imaskOptions:function(){var e;return d(d({},this.$options.imaskAmount),{},{scale:null!==(e=this.scale)&&void 0!==e?e:this.$options.imaskAmount.scale})}},watch:{value:function(e){e!==this.maskedValue&&this.updateMaskState(e)}},mounted:function(){this.updateMaskState(this.value)},methods:{updateMaskState:function(e){if(this.$refs.input.maskRef){this.$refs.input.maskRef.typedValue=e;var t=this.$refs.input.maskRef._value.length;this.$refs.input.maskRef._selection={start:t,end:t}}},onAcceptInput:function(e){this.maskedValue=e.detail._unmaskedValue,this.$emit("input",e.detail._unmaskedValue)}}},v=n(60),component=Object(v.a)(h,(function(){var e=this;return(0,e._self._c)("input",e._g({directives:[{name:"imask",rawName:"v-imask",value:e.imaskOptions,expression:"imaskOptions"}],ref:"input",attrs:{type:"text",autocapitalize:"off",inputmode:"decimal"},on:{accept:function(t){return e.onAcceptInput(t)}}},e.listeners))}),[],!1,null,null,null);t.a=component.exports},754:function(e,t,n){"use strict";var r=n(12),o=n(398),c=(n(36),n(35),n(1),n(30),n(189),n(14),n(776)),l=n(743),f=n(100),d=n(4),h=n(745),v=n(772),m=["input"];var y={ideFix:null,MAX_ITEM_COUNT:6,components:{VueSimpleSuggest:c.a,Loader:h.a,InputUppercase:v.a},directives:{checkEmpty:l.a},inheritAttrs:!1,props:{value:{type:String,default:""},$value:{type:Object,required:!0},label:{type:String,required:!0},coinList:{type:Array},coinType:{type:String,default:d.j.ANY},selectMode:{type:Boolean,default:!1},isLoading:{type:Boolean,default:!1}},data:function(){return{}},computed:{listeners:function(){var e=this.$listeners,t=(e.input,Object(o.a)(e,m));return t},currentCoinList:function(){var e=this;return(this.coinList||this.$store.state.explorer.coinList).filter((function(t){return"object"!==Object(r.a)(t)||function(e,t){var n,r=(null===(n=e.coin)||void 0===n?void 0:n.type)||e.type;if(!r)return!0;return t===d.j.ANY||(t===d.j.ANY_TOKEN?r===d.j.TOKEN||r===d.j.POOL_TOKEN:r===t)}(t,e.coinType)})).map((function(e){return e.coin?e:e.symbol?e.symbol:e}))},maxSuggestions:function(){return this.selectMode?50:6},verifiedMap:function(){var map={};return this.$store.state.explorer.coinList.forEach((function(e){e.verified&&(map[e.symbol]=!0)})),map}},watch:{currentCoinList:function(){var e=this.$refs.vss;e.canSend?e.research():e.getSuggestions(e.text).then((function(t){e.$set(e,"suggestions",t)}))}},methods:{getCoinIconUrl:function(e){return this.$store.getters["explorer/getCoinIcon"](e)},suggestionOrder:function(e){return e?this.currentCoinList.slice(0).sort((function(a,b){return a===e?-1:b===e?1:0})):this.currentCoinList},suggestionFilter:function(e,t){return!t||0===this.getSuggestionCoin(e).indexOf(t)},handleSuggestionClick:function(e,t){t.preventDefault()},getSuggestionCoin:function(e){var t;return(null===(t=e.coin)||void 0===t?void 0:t.symbol)||e},getSuggestionAmount:function(e){var t=e.value||e.amount;return t?"(".concat(Object(f.s)(t),")"):""},getIsVerified:function(e){var symbol=this.getSuggestionCoin(e);return this.verifiedMap[symbol]}}},_=n(60),component=Object(_.a)(y,(function(){var e=this,t=e._self._c;return t("label",{staticClass:"form-field",class:{"is-error":e.$value.$error}},[t("VueSimpleSuggest",{ref:"vss",attrs:{value:e.value,list:e.suggestionOrder,"max-suggestions":e.maxSuggestions,"min-length":0,"filter-by-query":!0,filter:e.suggestionFilter,"display-attribute":"coin.symbol","value-attribute":"coin.symbol",destyled:!0,controls:{showList:[38,40]}},on:{input:function(t){return e.$emit("input",t)},blur:function(t){e.$value.$touch(),e.$emit("blur",t)},"suggestion-click":e.handleSuggestionClick},scopedSlots:e._u([{key:"suggestion-item",fn:function(n){var r=n.suggestion;return t("div",{},[t("img",{staticClass:"suggestion__coin-icon",attrs:{src:e.getCoinIconUrl(e.getSuggestionCoin(r)),width:"20",height:"20",alt:"",role:"presentation"}}),e._v(" "),t("span",{staticClass:"suggestion__coin-symbol"},[e._v(e._s(e.getSuggestionCoin(r)))]),e._v(" "),e.getIsVerified(r)?t("img",{staticClass:"suggestion__coin-verified",attrs:{src:"".concat(e.BASE_URL_PREFIX,"/img/icon-verified.svg"),alt:"Verified",width:"12",height:"12"}}):e._e(),e._v(" "),e.getSuggestionAmount(r)?t("span",[e._v(e._s(e.getSuggestionAmount(r)))]):e._e()])}}])},[t("InputUppercase",e._b({directives:[{name:"check-empty",rawName:"v-check-empty"}],staticClass:"form-field__input",attrs:{type:"text",value:e.value}},"InputUppercase",e.$attrs,!1)),e._v(" "),t("span",{staticClass:"form-field__label"},[e._v(e._s(e.label))])],1),e._v(" "),t("Loader",{staticClass:"form-field__icon form-field__icon--loader",attrs:{isLoading:e.isLoading}})],1)}),[],!1,null,null,null);t.a=component.exports},756:function(e,t,n){"use strict";n(57);var r={props:{isOpen:{type:Boolean,default:!1},hideCloseButton:{type:Boolean,default:!1},modalClass:{type:String,default:""},modalContainerClass:{type:String,default:""},keepMarkup:{type:Boolean,default:!1}},data:function(){return{elFocusedBeforeOpen:null}},watch:{isOpen:function(e){var t=this;e?(this.elFocusedBeforeOpen=document.activeElement,setTimeout((function(){if("function"==typeof t.$el.querySelector){var e=t.$el.querySelector("[data-focus-on-open]");e&&e.focus()}}),0)):setTimeout((function(){t.elFocusedBeforeOpen&&setTimeout((function(){t.elFocusedBeforeOpen.focus(),t.elFocusedBeforeOpen=null}),0)}),0)}},methods:{closeModal:function(){this.$emit("update:isOpen",!1),this.$emit("modal-close")},handleModalClick:function(e){this.hideCloseButton||this.$refs.modalContainer&&e.target!==this.$refs.modalContainer&&!this.$refs.modalContainer.contains(e.target)&&this.closeModal()},handleModalKeydown:function(e){this.hideCloseButton||"Escape"!==e.code&&27!==e.keyCode||(e.preventDefault(),this.closeModal())}}},o=n(60),component=Object(o.a)(r,(function(){var e=this,t=e._self._c;return t("transition",{attrs:{name:"v-transition-modal"}},[e.isOpen||e.keepMarkup?t("div",{staticClass:"modal-wrap"},[t("transition",{attrs:{name:"v-transition-modal"}},[t("div",{directives:[{name:"show",rawName:"v-show",value:e.isOpen||!e.keepMarkup,expression:"isOpen || !keepMarkup"}],staticClass:"modal u-container u-container--wide",class:e.modalClass,attrs:{tabindex:"-1",role:"dialog"},on:{click:e.handleModalClick,keydown:e.handleModalKeydown}},[e.hideCloseButton?e._e():t("button",{staticClass:"modal__close u-semantic-button link--opacity",attrs:{type:"button"}},[t("span",{staticClass:"modal__close-icon"},[e._v("Close")])]),e._v(" "),t("div",{staticClass:"modal__wrap"},[t("div",{ref:"modalContainer",staticClass:"modal__container",class:e.modalContainerClass},[e._t("default")],2)])])])],1):e._e()])}),[],!1,null,null,null);t.a=component.exports},758:function(e,t,n){"use strict";n(49);var r={components:{InputMaskedAmount:n(753).a},props:{value:{type:[String,Number],default:""}},computed:{inputListeners:function(){var e=Object.assign({},this.$listeners);return delete e.input,e}}},o=n(60),component=Object(o.a)(r,(function(){var e=this;return(0,e._self._c)("InputMaskedAmount",e._g({attrs:{inputmode:"numeric",value:e.value,scale:0},on:{input:function(t){return e.$emit("input",t)}}},e.inputListeners))}),[],!1,null,null,null);t.a=component.exports},759:function(e,t,n){e.exports={}},764:function(e,t,n){"use strict";n(14),n(49);var r=n(776),o=n(743),c=n(800),l=n(801),f=n(745),d=n(756);c.a.WORKER_PATH=l.a;var h={components:{Loader:f.a,Modal:d.a},props:{qrVisible:{type:Boolean,default:!1}},data:function(){return{qrScanner:null,cameraError:!1,isModalVisible:!1,isPlaying:!1}},mounted:function(){var e=this;c.a.hasCamera().then((function(){e.$emit("update:qrVisible",!0),e.qrScanner=new c.a(e.$refs.qrVideo,(function(t){e.stopScanQr(),e.isModalVisible=!1,e.$emit("qr-scanned",t)}))})).catch((function(){e.$emit("update:qrVisible",!1)}))},destroyed:function(){this.qrScanner&&this.qrScanner.destroy()},methods:{scanQr:function(){var e=this;this.isModalVisible=!0,this.$refs.qrVideo.addEventListener("canplay",this.handlePlayStart),this.qrScanner.start().then((function(){e.cameraError=!1})).catch((function(){e.cameraError=!0}))},stopScanQr:function(){this.qrScanner.stop(),this.isPlaying=!1,window.removeEventListener("resize",this.repositionOverlay)},handlePlayStart:function(){this.repositionOverlay(),this.isPlaying=!0,window.addEventListener("resize",this.repositionOverlay),this.$refs.qrVideo.removeEventListener("canplay",this.handlePlayStart)},repositionOverlay:function(){var e=this;requestAnimationFrame((function(){if(e.$refs.qrVideo){var t=e.$refs.qrVideo.offsetHeight,n=e.$refs.qrVideo.offsetWidth,r=Math.min(t,n);if(0!==r){var o=Math.ceil(2/3*r),c=e.$refs.overlay;c.style.width=o+"px",c.style.height=o+"px",c.style.top=(t-o)/2+"px",c.style.left=(n-o)/2+"px"}}}))}}},v=n(60),component=Object(v.a)(h,(function(){var e=this,t=e._self._c;return t("div",{directives:[{name:"show",rawName:"v-show",value:e.qrScanner,expression:"qrScanner"}],on:{click:function(e){e.preventDefault()}}},[t("button",{staticClass:"form-field__icon u-semantic-button link--opacity",attrs:{type:"button"},on:{click:function(t){return t.preventDefault(),e.scanQr.apply(null,arguments)}}},[t("img",{attrs:{src:"".concat(e.BASE_URL_PREFIX,"/img/icon-qr.svg"),alt:"Scan QR Code",width:"24",height:"24"}})]),e._v(" "),t("Modal",{staticClass:"qr-scan__modal",attrs:{"modal-container-class":"qr-scan__modal-container",isOpen:e.isModalVisible,keepMarkup:!0},on:{"update:isOpen":function(t){e.isModalVisible=t},"update:is-open":function(t){e.isModalVisible=t},"modal-close":e.stopScanQr}},[t("div",{staticClass:"qr-scan__wrap"},[t("div",{staticClass:"qr-scan__notice"},[t("Loader",{attrs:{isLoading:!0}}),e._v(" "),e.cameraError?t("div",[e._v("Allow camera access")]):e._e()],1),e._v(" "),t("video",{ref:"qrVideo",staticClass:"qr-scan__video",attrs:{autoplay:"",playsinline:"",muted:""},domProps:{muted:!0}}),e._v(" "),t("div",{directives:[{name:"show",rawName:"v-show",value:e.isPlaying,expression:"isPlaying"}],ref:"overlay",staticClass:"qr-scan__overlay"},[t("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 238 238"}},[t("path",{attrs:{fill:"none","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"3",d:"M31.3 2H10a8 8 0 0 0-8 8v21.3M206.8 2H228a8 8 0 0 1 8 8v21.3m0 175.4V228a8 8 0 0 1-8 8h-21.3m-175.4 0H10a8 8 0 0 1-8-8v-21.3"}})])])])])],1)}),[],!1,null,null,null),m=component.exports,y=n(758),_={ideFix:null,MAX_ITEM_COUNT:5,components:{VueSimpleSuggest:r.a,QrScan:m,Loader:f.a,InputMaskedInteger:y.a},directives:{checkEmpty:o.a},inheritAttrs:!1,props:{value:{type:[String,Number],required:!0},$value:{type:Object,required:!0},label:{type:String,required:!0},isInteger:{type:Boolean,default:!1},suggestionList:{type:Array,default:function(){return[]}},suggestionFilter:{type:Function,default:void 0},suggestionContent:{type:Function,default:void 0},suggestionMinInputLength:{type:Number,default:1}},data:function(){return{hasCamera:!1}},methods:{handleQrScanned:function(e){this.$emit("input",e),this.$value.$touch()},handleSuggestionClick:function(e,t){t.preventDefault()}}},w=Object(v.a)(_,(function(){var e=this,t=e._self._c;return t("label",{staticClass:"form-field form-field--qr",class:{"is-error":e.$value.$error,"form-field--with-icon":e.hasCamera}},[e.suggestionList&&e.suggestionList.length?t("VueSimpleSuggest",e._b({attrs:{value:e.value,list:e.suggestionList.slice(0),"max-suggestions":e.$options.MAX_ITEM_COUNT,"min-length":e.suggestionMinInputLength,"filter-by-query":!0,filter:e.suggestionFilter,destyled:!0,controls:{showList:[38,40]},"value-attribute":"value","display-attribute":"value"},on:{input:function(t){return e.$emit("input",t)},blur:function(t){e.$value.$touch(),e.$emit("blur",t)},"suggestion-click":e.handleSuggestionClick},scopedSlots:e._u([e.suggestionContent?{key:"suggestion-item",fn:function(n){return[t("span",{domProps:{innerHTML:e._s(e.suggestionContent(n))}})]}}:null],null,!0)},"VueSimpleSuggest",e.$attrs,!1),[t("input",e._b({directives:[{name:"check-empty",rawName:"v-check-empty"}],staticClass:"form-field__input",attrs:{type:"text",spellcheck:"false"},domProps:{value:e.value}},"input",e.$attrs,!1)),e._v(" "),t("span",{staticClass:"form-field__label"},[e._v(e._s(e.label))])]):[e.isInteger?t("InputMaskedInteger",e._b({directives:[{name:"check-empty",rawName:"v-check-empty"}],staticClass:"form-field__input",attrs:{value:e.value},on:{input:function(t){return e.$emit("input",t)},blur:function(t){e.$value.$touch(),e.$emit("blur",t)}}},"InputMaskedInteger",e.$attrs,!1)):t("input",e._b({directives:[{name:"check-empty",rawName:"v-check-empty"}],staticClass:"form-field__input",attrs:{type:"text",autocapitalize:"off",spellcheck:"false"},domProps:{value:e.value},on:{input:function(t){return e.$emit("input",t.target.value)},blur:function(t){e.$value.$touch(),e.$emit("blur",t)}}},"input",e.$attrs,!1)),e._v(" "),t("span",{staticClass:"form-field__label"},[e._v(e._s(e.label))])],e._v(" "),t("Loader",{staticClass:"form-field__icon form-field__icon--loader form-field__icon--second",attrs:{isLoading:e.$value.$pending}}),e._v(" "),t("QrScan",{attrs:{qrVisible:e.hasCamera},on:{"qr-scanned":e.handleQrScanned,"update:qrVisible":function(t){e.hasCamera=t},"update:qr-visible":function(t){e.hasCamera=t}}})],2)}),[],!1,null,null,null);t.a=w.exports},766:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(4);function o(text,e){var t="ru"===e?"Консоль":"Console";return text?r.d+t+". "+text+r.c:r.d+t+r.c}},772:function(e,t,n){"use strict";var r=n(398),o=["input","blur","focus"],c={props:{value:{type:String,default:""}},computed:{listeners:function(){var e=this.$listeners,t=(e.input,e.blur,e.focus,Object(r.a)(e,o));return t}},mounted:function(){this.updateValue(this.$refs.input.value)},methods:{updateValue:function(e){(e=e.toUpperCase())!==this.value&&this.$emit("input",e)}}},l=n(60),component=Object(l.a)(c,(function(){var e=this;return(0,e._self._c)("input",e._g({ref:"input",domProps:{value:e.value},on:{input:function(t){return e.updateValue(t.target.value)},blur:function(t){return e.$emit("blur",t)},focus:function(t){return e.$emit("focus",t)}}},e.listeners))}),[],!1,null,null,null);t.a=component.exports},774:function(e,t,n){"use strict";n(759)},775:function(e,t,n){"use strict";n.d(t,"b",(function(){return f}));n(49),n(140),n(1),n(8),n(22),n(7);var r=n(101),o=n(746),c=n(743),l=n(100);function f(e,t){if(!function(e,t){var n=Object(o.m)(t);if(!n&&e.symbol===t)return!0;if(n&&e.id===t)return!0;return!1}(e.coin,null==t?void 0:t.coin))return e.amount;var n=(null==t?void 0:t.value)||0,c=new r.c(e.amount).minus(n).toString();return c>0?c:"0"}var d={components:{InputMaskedAmount:n(753).a},directives:{checkEmpty:c.a},inheritAttrs:!1,props:{value:{type:[String,Number],required:!0},$value:{type:Object,required:!0},label:{type:String,required:!0},maxValue:{type:[String,Number],default:void 0},addressBalance:{type:Array,default:function(){return[]}},selectedCoinSymbol:{type:String,default:""},fee:{type:[Object,null],default:null}},data:function(){return{isUseMax:!1}},computed:{maxValueComputed:function(){var e=this;if(void 0!==this.maxValue)return this.maxValue;var t=this.addressBalance.find((function(t){return t.coin.symbol===e.selectedCoinSymbol}));return t?f(t,this.fee):void 0},isMaxValueDefined:function(){return void 0!==this.maxValueComputed&&this.maxValueComputed>0},isMaxValueRounded:function(){return this.isMaxValueDefined&&!new r.c(this.maxValueComputed).eq(Object(l.s)(this.maxValueComputed).replace(/\s/g,""))}},watch:{value:function(e){(e||0===e)&&this.isMaxValueDefined&&new r.c(e).eq(this.maxValueComputed)||(this.isUseMax=!1)},maxValueComputed:function(e){this.isMaxValueDefined&&this.isUseMax&&this.useMax()}},methods:{pretty:l.s,useMax:function(){if(!this.isMaxValueDefined)return!1;this.isUseMax=!0,this.$emit("input",this.maxValueComputed),this.$emit("use-max"),this.$value.$touch()}}},h=n(60),component=Object(h.a)(d,(function(){var e=this,t=e._self._c;return t("label",{staticClass:"form-field",class:{"is-error":e.$value.$error,"form-field--with-use-max":e.isMaxValueDefined}},[t("InputMaskedAmount",e._b({directives:[{name:"check-empty",rawName:"v-check-empty"}],staticClass:"form-field__input",attrs:{type:"text",inputmode:"decimal",value:e.value},on:{input:function(t){return e.$emit("input",t)},blur:function(t){e.$value.$touch(),e.$emit("blur",t)}},nativeOn:{input:function(t){return e.$emit("input-native",t)}}},"InputMaskedAmount",e.$attrs,!1)),e._v(" "),e.isMaxValueDefined?t("button",{staticClass:"form-field__use-max link--main link--opacity u-semantic-button",attrs:{type:"button"},on:{click:e.useMax}},[e._v("Use max")]):e._e(),e._v(" "),e.isMaxValueDefined&&!e.isUseMax?t("span",{staticClass:"form-field__max-available"},[e._v("\n        "+e._s(e.isMaxValueRounded?"≈":"")+e._s(e.pretty(e.maxValueComputed))+"\n    ")]):e._e(),e._v(" "),t("span",{staticClass:"form-field__label"},[e._v(e._s(e.label))])],1)}),[],!1,null,null,null);t.a=component.exports},778:function(e,t,n){"use strict";n.d(t,"a",(function(){return S}));n(32),n(35),n(48),n(52);var r=n(6),o=n(13),c=(n(74),n(1),n(7),n(30),n(397),n(31),n(3)),l=n(101),f=n(402),d=n(27),h=n(818),v=n(804),m=n(773),y=n(746),_=n(4),w=n(751),O=n(81),x=n(399),E=n(404);function j(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,n)}return t}function k(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?j(Object(source),!0).forEach((function(t){Object(r.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):j(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}function S(){var e=Math.random().toString(),t=Math.random().toString(),n=Object(c.g)({txParams:{},baseCoinAmount:0,fallbackToCoinToSpend:!1,isOffline:!1,precision:m.a.AUTO}),r=Object(c.i)({}),v=Object(c.g)({priceCoinFeeValue:0,baseCoinFeeValue:0,isBaseCoinEnough:!0,feeCoin:_.b,feeValue:"",feeError:"",commissionPriceData:null,isLoading:!1}),j=Object(c.a)((function(){var e,t=M(v.feeCoin),n=function(){if(!v.commissionPriceData)return!1;var e=new f.a(v.commissionPriceData).getFeeValue(d.a.SEND);return e&&v.priceCoinFeeValue/e>=1e4}(),o=Object(y.m)(v.feeCoin)?r.value[v.feeCoin]:v.feeCoin;return{priceCoinValue:v.priceCoinFeeValue,priceCoin:(null===(e=v.commissionPriceData)||void 0===e?void 0:e.coin)||{},baseCoinValue:v.baseCoinFeeValue,isBaseCoin:t,isBaseCoinEnough:v.isBaseCoinEnough,value:v.feeValue,coin:v.feeCoin,coinSymbol:o,isHighFee:n,error:v.feeError,isLoading:v.isLoading}}));function S(){return U(n.txParams.gasCoin)?n.txParams.gasCoin:n.isOffline?0:_.b}function P(){if(!n.fallbackToCoinToSpend||U(n.txParams.gasCoin))return"";try{var e=I(n.txParams),t=Object(h.a)(e,{setGasCoinAsCoinToSpend:!0}).gasCoin;if(void 0!==t&&!M(t))return t}catch(e){}return""}function A(e,t,n){return T.apply(this,arguments)}function T(){return(T=Object(o.a)(regeneratorRuntime.mark((function e(t,r,o){var c,l;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(w.i)(I(C(n.txParams)));case 2:return c=e.sent,l=n.precision===m.a.AUTO?R(c.type,c.data)?m.a.PRECISE:m.a.IMPRECISE:n.precision,e.abrupt("return",Object(w.d)(k(k({},c),{},{chainId:_.i,gasCoin:t}),{needGasCoinFee:l,needBaseCoinFee:m.a.IMPRECISE,needPriceCoinFee:m.a.PRECISE},{idDebounce:r}).then((function(e){return L(o)?Promise.reject(new E.a):k(k({},e),{},{gasCoin:t})})));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function N(){return(N=Object(o.a)(regeneratorRuntime.mark((function r(o,c){var f,d,h,m,y;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(o!==c){r.next=2;break}return r.abrupt("return");case 2:if(!n.isOffline){r.next=5;break}return v.feeCoin=S(),r.abrupt("return");case 5:return f=JSON.stringify(n),d=S(),h=P(),v.isLoading=!0,v.feeError="",r.prev=10,r.next=13,A(d,e,f);case 13:if(m=r.sent,y=new l.c(n.baseCoinAmount||0).gte(m.baseCoinCommission||0),!(!y&&h&&h!==d)){r.next=20;break}return r.next=19,A(h,t,f).catch((function(e){if(e.isCanceled)throw e;return m}));case 19:m=r.sent;case 20:v.priceCoinFeeValue=m.priceCoinCommission,v.baseCoinFeeValue=m.baseCoinCommission,v.isBaseCoinEnough=y,v.feeCoin=m.gasCoin,v.feeValue=m.commission,v.commissionPriceData=m.commissionPriceData,v.feeError="",v.isLoading=!1,r.next=38;break;case 30:if(r.prev=30,r.t0=r.catch(10),!r.t0.isCanceled){r.next=34;break}return r.abrupt("return");case 34:v.feeError=Object(x.a)(r.t0),"not possible to exchange"===v.feeError.toLowerCase()&&(v.feeError+=" to pay fee"),v.isLoading=!1,console.debug(r.t0);case 38:case"end":return r.stop()}}),r,null,[[10,30]])})))).apply(this,arguments)}function U(e){return!!e||0===e}function M(e){return e===_.b||0===e||"0"===e}function L(e){return e!==JSON.stringify(n)}return Object(c.k)((function(){return JSON.stringify(n)}),(function(e,t){return N.apply(this,arguments)}),{deep:!0}),Object(c.k)((function(){return n.isOffline}),(function(){n.isOffline||r.value[0]||Object(O.f)({skipMeta:!0}).then((function(e){var t={};e.forEach((function(e){t[e.id]=e.symbol})),r.value=Object.freeze(t)}))}),{deep:!0,immediate:!0}),{feeProps:n,fee:j}}function R(e,t){try{return new(Object(v.b)(e))(t),!0}catch(e){return!1}}function C(e){var t,n={};for(var r in e)""===(t=e[r])||null===t?n[r]=void 0:o(e[r])?n[r]=C(e[r]):n[r]=e[r];return n;function o(e){return"[object Object]"===Object.prototype.toString.call(e)}}function I(e){return JSON.parse(JSON.stringify(e))}},779:function(e,t,n){"use strict";n(8);var r=n(286),o=n(792);t.a=function(e){return Object(r.a)({type:"minValue",min:e},(function(t){return!Object(o.c)(t)||(!/\s/.test(t)||t instanceof Date)&&+t>=+e}))}},784:function(e,t,n){"use strict";var r=n(410),o=new r.TinyEmitter;t.a=o},786:function(e,t,n){"use strict";n(8);var r=n(286),o=n(792);t.a=function(e){return Object(r.a)({type:"maxValue",max:e},(function(t){return!Object(o.c)(t)||(!/\s/.test(t)||t instanceof Date)&&+t<=+e}))}},800:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n(55),o=n(56),c=(n(1),n(57),n(8),n(42),n(41),n(835),n(407),function(){function e(video,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.DEFAULT_CANVAS_SIZE;Object(r.a)(this,e),this.$video=video,this.$canvas=document.createElement("canvas"),this._onDecode=t,this._active=!1,this._paused=!1,this.$canvas.width=n,this.$canvas.height=n,this._sourceRect={x:0,y:0,width:n,height:n},this._onCanPlay=this._onCanPlay.bind(this),this._onPlay=this._onPlay.bind(this),this._onVisibilityChange=this._onVisibilityChange.bind(this),this.$video.addEventListener("canplay",this._onCanPlay),this.$video.addEventListener("play",this._onPlay),document.addEventListener("visibilitychange",this._onVisibilityChange),this._qrWorker=new Worker(e.WORKER_PATH)}return Object(o.a)(e,[{key:"destroy",value:function(){this.$video.removeEventListener("canplay",this._onCanPlay),this.$video.removeEventListener("play",this._onPlay),document.removeEventListener("visibilitychange",this._onVisibilityChange),this.stop(),this._qrWorker.postMessage({type:"close"})}},{key:"start",value:function(){var e=this;if(this._active&&!this._paused)return Promise.resolve();if("https:"!==window.location.protocol&&console.warn("The camera stream is only accessible if the page is transferred via https."),this._active=!0,this._paused=!1,document.hidden)return Promise.resolve();if(clearTimeout(this._offTimeout),this._offTimeout=null,this.$video.srcObject)return this.$video.play(),Promise.resolve();var t="environment";return this._getCameraStream("environment",!0).catch((function(){return t="user",e._getCameraStream()})).then((function(n){e._isUserFacing(n)&&(t="user"),e.$video.srcObject=n,e._setVideoMirror(t)})).catch((function(t){throw e._active=!1,t}))}},{key:"stop",value:function(){this.pause(),this._active=!1}},{key:"pause",value:function(){var e=this;this._paused=!0,this._active&&(this.$video.pause(),this._offTimeout||(this._offTimeout=setTimeout((function(){var track=e.$video.srcObject&&e.$video.srcObject.getTracks()[0];track&&(track.stop(),e.$video.srcObject=null,e._offTimeout=null)}),300)))}},{key:"setGrayscaleWeights",value:function(e,t,n){var r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];this._qrWorker.postMessage({type:"grayscaleWeights",data:{red:e,green:t,blue:n,useIntegerApproximation:r}})}},{key:"setInversionMode",value:function(e){this._qrWorker.postMessage({type:"inversionMode",data:e})}},{key:"_onCanPlay",value:function(){this._updateSourceRect(),this.$video.play()}},{key:"_onPlay",value:function(){this._updateSourceRect(),this._scanFrame()}},{key:"_onVisibilityChange",value:function(){document.hidden?this.pause():this._active&&this.start()}},{key:"_updateSourceRect",value:function(){var e=Math.min(this.$video.videoWidth,this.$video.videoHeight),t=Math.round(2/3*e);this._sourceRect.width=this._sourceRect.height=t,this._sourceRect.x=(this.$video.videoWidth-t)/2,this._sourceRect.y=(this.$video.videoHeight-t)/2}},{key:"_scanFrame",value:function(){var t=this;if(!this._active||this.$video.paused||this.$video.ended)return!1;requestAnimationFrame((function(){t.$video.readyState<=1?t._scanFrame():e.scanImage(t.$video,t._sourceRect,t._qrWorker,t.$canvas,!0).then(t._onDecode,(function(e){t._active&&"QR code not found."!==e&&console.error(e)})).then((function(){return t._scanFrame()}))}))}},{key:"_getCameraStream",value:function(e){var t=[{width:{min:1024}},{width:{min:768}},{}];return e&&(arguments.length>1&&void 0!==arguments[1]&&arguments[1]&&(e={exact:e}),t.forEach((function(t){return t.facingMode=e}))),this._getMatchingCameraStream(t)}},{key:"_getMatchingCameraStream",value:function(e){var t=this;return 0===e.length?Promise.reject("Camera not found."):navigator.mediaDevices.getUserMedia({video:e.shift()}).catch((function(){return t._getMatchingCameraStream(e)}))}},{key:"_setVideoMirror",value:function(e){var t="user"===e?-1:1;this.$video.style.transform="scaleX("+t+")"}},{key:"_isUserFacing",value:function(e){return/front|user|face/i.test(e.getVideoTracks()[0].label)}}],[{key:"hasCamera",value:function(){return navigator.mediaDevices?navigator.mediaDevices.enumerateDevices().then((function(e){return e.some((function(e){return"videoinput"===e.kind}))})).catch((function(){return!1})):Promise.reject(!1)}},{key:"scanImage",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,canvas=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,o=arguments.length>4&&void 0!==arguments[4]&&arguments[4],c=arguments.length>5&&void 0!==arguments[5]&&arguments[5],l=!1,f=new Promise((function(c,f){var d,h,v;r||(r=new Worker(e.WORKER_PATH),l=!0,r.postMessage({type:"inversionMode",data:"both"})),h=function(e){"qrResult"===e.data.type&&(r.removeEventListener("message",h),r.removeEventListener("error",v),clearTimeout(d),null!==e.data.data?c(e.data.data):f("QR code not found."))},v=function(e){r.removeEventListener("message",h),r.removeEventListener("error",v),clearTimeout(d);var t=e?e.message||e:"Unknown Error";f("Scanner error: "+t)},r.addEventListener("message",h),r.addEventListener("error",v),d=setTimeout((function(){return v("timeout")}),3e3),e._loadImage(t).then((function(image){var t=e._getImageData(image,n,canvas,o);r.postMessage({type:"decode",data:t},[t.data.buffer])})).catch(v)}));return n&&c&&(f=f.catch((function(){return e.scanImage(t,null,r,canvas,o)}))),f=f.finally((function(){l&&r.postMessage({type:"close"})}))}},{key:"_getImageData",value:function(image){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,canvas=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,t=arguments.length>3&&void 0!==arguments[3]&&arguments[3];canvas=canvas||document.createElement("canvas");var n=e&&e.x?e.x:0,r=e&&e.y?e.y:0,o=e&&e.width?e.width:image.width||image.videoWidth,c=e&&e.height?e.height:image.height||image.videoHeight;t||canvas.width===o&&canvas.height===c||(canvas.width=o,canvas.height=c);var l=canvas.getContext("2d",{alpha:!1});return l.imageSmoothingEnabled=!1,l.drawImage(image,n,r,o,c,0,0,canvas.width,canvas.height),l.getImageData(0,0,canvas.width,canvas.height)}},{key:"_loadImage",value:function(t){if(t instanceof HTMLCanvasElement||t instanceof HTMLVideoElement||window.ImageBitmap&&t instanceof window.ImageBitmap||window.OffscreenCanvas&&t instanceof window.OffscreenCanvas)return Promise.resolve(t);if(t instanceof Image)return e._awaitImageLoad(t).then((function(){return t}));if(t instanceof File||t instanceof URL||"string"==typeof t){var image=new Image;return t instanceof File?image.src=URL.createObjectURL(t):image.src=t,e._awaitImageLoad(image).then((function(){return t instanceof File&&URL.revokeObjectURL(image.src),image}))}return Promise.reject("Unsupported image type.")}},{key:"_awaitImageLoad",value:function(image){return new Promise((function(e,t){var n,r;image.complete&&0!==image.naturalWidth?e():(n=function(){image.removeEventListener("load",n),image.removeEventListener("error",r),e()},r=function(){image.removeEventListener("load",n),image.removeEventListener("error",r),t("Image load error")},image.addEventListener("load",n),image.addEventListener("error",r))}))}}]),e}());c.DEFAULT_CANVAS_SIZE=400,c.WORKER_PATH="qr-scanner-worker.min.js"},801:function(e,t,n){"use strict";t.a=n.p+"6b7d1afd4fb85864e691672bb54a14d3.js"},809:function(e,t){},821:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.wipe=function(e){for(var i=0;i<e.length;i++)e[i]=0;return e}},824:function(e,t,n){"use strict";n.d(t,"a",(function(){return x})),n.d(t,"m",(function(){return E})),n.d(t,"c",(function(){return C})),n.d(t,"l",(function(){return I})),n.d(t,"k",(function(){return P})),n.d(t,"j",(function(){return U})),n.d(t,"e",(function(){return M})),n.d(t,"g",(function(){return H})),n.d(t,"i",(function(){return B})),n.d(t,"h",(function(){return F})),n.d(t,"d",(function(){return V})),n.d(t,"f",(function(){return W}));n(31),n(32),n(48),n(52);var r=n(13),o=n(6),c=n(16),l=(n(74),n(1),n(30),n(207),n(49),n(42),n(41),n(57),n(140),n(35),n(190),n(862),n(863),n(36),n(7),n(14),n(101)),f=n(937),d=n.n(f),h=n(803),v=n.n(h),m=n(410),y=n(4),_=n(870);function w(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,n)}return t}function O(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?w(Object(source),!0).forEach((function(t){Object(o.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):w(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}var x=5,E=v.a,j=new d.a(y.f),k=new d.a(y.l),S=new d.a(y.f);t.b={eth:j,utils:v.a};[j,k,S].forEach((function(e){return e.transactionPollingInterval=5e3}));var R=18;function C(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:18,n=Math.max(R-t,0);return e=new l.c(10).pow(n).times(e).toFixed(0),v.a.fromWei(e,"ether")}function I(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:18;e=new l.c(e).toFixed(Number(t)),e=v.a.toWei(e,"ether");var n=Math.max(R-t,0),r=new l.c(10).pow(n);return new l.c(e).div(r).toFixed(0)}function P(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.confirmationCount,o=void 0===r?x:r,l=n.chainId,f=n.needReceipt,h=void 0===f||f,v=n.needExactConfirmationCount,_=void 0===v?x>1:v,w=n.needExactTimestamp,E=void 0===w||w,k=new m.TinyEmitter;try{var S=function(e){var t;if(z(e),!e)return j.currentProvider.host;return null===(t=y.v[F(e)])||void 0===t?void 0:t.apiUrl}(l);if(S)t=function(e,t){var n=t.confirmationCount,r=t.ethProvider,o=t.emitter,l=t.needReceipt,f=t.needExactConfirmationCount,d=t.needExactTimestamp,h=!1;return v(e).then((function(t){return Promise.all([l?r.getTransactionReceipt(e):Promise.resolve(),d?r.getBlock(t.blockNumber):Promise.resolve(),f?y(t):Promise.resolve(1),Promise.resolve(t)])})).then((function(e){var t=Object(c.a)(e,4),r=t[0],h=t[1],v=t[2],y=O(O(O({},t[3]),r),{},{confirmations:v,timestamp:d?1e3*h.timestamp:Date.now()});if(o.emit("confirmation",y),l&&!y.status)throw new Error("Transaction failed");return v>=n||!f?y:m(y)})).then((function(e){return o.emit("confirmed",e),e}));function v(e){return r.getTransaction(e).then((function(t){if(h)throw new Error("unsubscribed");return t&&o.emit("tx",t),t&&t.blockHash?t:A(1e4).then((function(){return v(e)}))}))}function m(e){return A(1e4).then((function(){return y(e)})).then((function(t){if(h)throw new Error("unsubscribed");return e=O(O({},e),{},{confirmations:t}),o.emit("confirmation",e),t>=n?e:m(e)}))}function y(e){return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e,t=e.currentProvider.host,n=t===T.providerHost;if(T.isLoading&&n)return T.promise;if(Date.now()-T.timestamp<5e3&&n)return T.promise;var r=e.getBlockNumber();return T.isLoading=!0,T.providerHost=t,T.promise=r,r.then((function(){t===T.providerHost&&(T.isLoading=!1,T.timestamp=Date.now())})).catch((function(e){throw t===T.providerHost&&(T.isLoading=!1),e})),r}(r).then((function(t){return t-e.blockNumber+1}))}}(e,{confirmationCount:o,ethProvider:new d.a(S),emitter:k,needReceipt:h,needExactConfirmationCount:_,needExactTimestamp:E});else t=Promise.reject(new Error("Can't subscribe to tx, chainId ".concat(l," is not supported")))}catch(e){t=Promise.reject(e)}return function(e,t){e.on=function(){return t.on.apply(t,arguments),e},e.once=function(){return t.once.apply(t,arguments),e}}(t,k),t.unsubscribe=function(){!0,k.off("tx"),k.off("confirmation"),k.off("confirmed")},t}function A(time){return new Promise((function(e){setTimeout(e,time)}))}var T={isLoading:!1,timestamp:0,providerHost:"",promise:null};var N={};function U(e,t){var n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];if(!t)return Promise.reject(new Error("chainId not specified"));if(null!==(n=N[t])&&void 0!==n&&n[e])return N[t][e];var o=H(r,t).find((function(t){return t.externalTokenId===e}));if(o)return Promise.resolve(Number(o.externalDecimals));var c=new(B(t).Contract)(_.a,e).methods.decimals().call().then((function(e){return Number(e)})).catch((function(n){return console.log(n),delete N[t][e],R}));return N[t]||(N[t]={}),N[t][e]=c,c}function M(e,t,n,r){return L.apply(this,arguments)}function L(){return(L=Object(r.a)(regeneratorRuntime.mark((function e(t,n,r,o){var c,l,f,input,d,h,m,_,w,O,x,E,k,S,R;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=Number(t.chainId||n),input=t.input.slice(10),d=input.length/64,h=null===(c=y.u[n])||void 0===c?void 0:c.hubContractAddress,m=null===(l=y.u[n])||void 0===l?void 0:l.wrappedNativeContractAddress,2!==d){e.next=25;break}if(x="0x"+input.slice(0,64),E=j.abi.decodeParameter("address",x),!(E.toLowerCase()===h)){e.next=22;break}if(_=y.x.UNLOCK,w=t.to,!o){e.next=16;break}e.t0=0,e.next=19;break;case 16:return e.next=18,D(input.slice(64*(d-1)),w,n,r);case 18:e.t0=e.sent;case 19:O=e.t0,e.next=23;break;case 22:return e.abrupt("return",{type:y.x.OTHER});case 23:e.next=65;break;case 25:if(t.to.toLowerCase()!==h||5!==d){e.next=39;break}if(_=y.x.SEND,k="0x"+input.slice(0,64),w=j.abi.decodeParameter("address",k),!o){e.next=33;break}e.t1=0,e.next=36;break;case 33:return e.next=35,D(input.slice(64*(d-2)),w,n,r);case 35:e.t1=e.sent;case 36:O=e.t1,e.next=65;break;case 39:if(t.to.toLowerCase()!==h||3!==d){e.next=45;break}_=y.x.SEND,w=m,O=v.a.fromWei(t.value),e.next=65;break;case 45:if(t.to.toLowerCase()!==m||1!==d){e.next=58;break}if(_=y.x.UNWRAP,w=t.to,!o){e.next=52;break}e.t2=0,e.next=55;break;case 52:return e.next=54,D(input,w,n,r);case 54:e.t2=e.sent;case 55:O=e.t2,e.next=65;break;case 58:if(t.to.toLowerCase()!==m||0!==d){e.next=64;break}_=y.x.WRAP,w=t.to,O=v.a.fromWei(t.value),e.next=65;break;case 64:return e.abrupt("return",{type:y.x.OTHER});case 65:return w=null===(f=w)||void 0===f?void 0:f.toLowerCase(),S=H(r,n).find((function(e){return e.externalTokenId===w})),R=null==S?void 0:S.denom.toUpperCase(),e.abrupt("return",{type:_,tokenContract:w,tokenName:R,amount:O});case 69:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function D(e,t,n,r){return $.apply(this,arguments)}function $(){return($=Object(r.a)(regeneratorRuntime.mark((function e(t,n,r,o){var c,l,f;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c="0x"+t,e.next=3,U(n,r,o);case 3:return l=e.sent,f=C(j.abi.decodeParameter("uint256",c),l),e.abrupt("return",f);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function H(e,t){var n=Object.values(y.w);return t&&(n=n.filter((function(e){return e===F(t)}))),e.map((function(e){return n.map((function(t){return e[t]}))})).flat().filter((function(e){return!!e}))}function B(e){return z(e),e?e===y.m?k:e===y.g?S:void 0:j}function F(e){var t;return z(e),null===(t=y.u[e])||void 0===t?void 0:t.hubChainId}function V(e){return y.v[e].chainId}function W(e){switch(e=Number(e)){case 1:return"Ethereum";case 3:return"Ropsten";case 4:return"Rinkeby";case 42:return"Kovan";case 11155111:return"Sepolia";case 56:return"BSC";case 97:return"BSC Testnet";case 3333:return"Megachain Testnet";default:return e.toString()}}function z(e){if(e&&"number"!=typeof e)throw new Error("chainId should be a number")}},825:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1315),o=n(832);class c{constructor(e,t,n){this.name=e,this.prefix=t,this.baseEncode=n}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}}class l{constructor(e,t,n){if(this.name=e,this.prefix=t,void 0===t.codePointAt(0))throw new Error("Invalid prefix character");this.prefixCodePoint=t.codePointAt(0),this.baseDecode=n}decode(text){if("string"==typeof text){if(text.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(text)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(text.slice(this.prefix.length))}throw Error("Can only multibase decode strings")}or(e){return d(this,e)}}class f{constructor(e){this.decoders=e}or(e){return d(this,e)}decode(input){const e=input[0],t=this.decoders[e];if(t)return t.decode(input);throw RangeError(`Unable to decode multibase string ${JSON.stringify(input)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}const d=(e,t)=>new f({...e.decoders||{[e.prefix]:e},...t.decoders||{[t.prefix]:t}});class h{constructor(e,t,n,r){this.name=e,this.prefix=t,this.baseEncode=n,this.baseDecode=r,this.encoder=new c(e,t,n),this.decoder=new l(e,t,r)}encode(input){return this.encoder.encode(input)}decode(input){return this.decoder.decode(input)}}const v=({name:e,prefix:t,encode:n,decode:r})=>new h(e,t,n,r);t.Codec=h,t.baseX=({prefix:e,name:t,alphabet:n})=>{const{encode:c,decode:l}=r(n,t);return v({prefix:e,name:t,encode:c,decode:text=>o.coerce(l(text))})},t.from=v,t.or=d,t.rfc4648=({name:e,prefix:t,bitsPerChar:n,alphabet:r})=>v({prefix:t,name:e,encode:input=>((data,e,t)=>{const n="="===e[e.length-1],mask=(1<<t)-1;let r="",o=0,c=0;for(let i=0;i<data.length;++i)for(c=c<<8|data[i],o+=8;o>t;)o-=t,r+=e[mask&c>>o];if(o&&(r+=e[mask&c<<t-o]),n)for(;r.length*t&7;)r+="=";return r})(input,r,n),decode:input=>((e,t,n,r)=>{const o={};for(let i=0;i<t.length;++i)o[t[i]]=i;let c=e.length;for(;"="===e[c-1];)--c;const l=new Uint8Array(c*n/8|0);let f=0,d=0,h=0;for(let i=0;i<c;++i){const t=o[e[i]];if(void 0===t)throw new SyntaxError(`Non-${r} character`);d=d<<n|t,f+=n,f>=8&&(f-=8,l[h++]=255&d>>f)}if(f>=n||255&d<<8-f)throw new SyntaxError("Unexpected end of data");return l})(input,r,n,e)})},832:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=new Uint8Array(0);t.coerce=e=>{if(e instanceof Uint8Array&&"Uint8Array"===e.constructor.name)return e;if(e instanceof ArrayBuffer)return new Uint8Array(e);if(ArrayBuffer.isView(e))return new Uint8Array(e.buffer,e.byteOffset,e.byteLength);throw new Error("Unknown type, must be binary type")},t.empty=r,t.equals=(e,t)=>{if(e===t)return!0;if(e.byteLength!==t.byteLength)return!1;for(let n=0;n<e.byteLength;n++)if(e[n]!==t[n])return!1;return!0},t.fromHex=e=>{const t=e.match(/../g);return t?new Uint8Array(t.map((b=>parseInt(b,16)))):r},t.fromString=e=>(new TextEncoder).encode(e),t.isBinary=e=>e instanceof ArrayBuffer||ArrayBuffer.isView(e),t.toHex=e=>e.reduce(((e,t)=>e+t.toString(16).padStart(2,"0")),""),t.toString=b=>(new TextDecoder).decode(b)},833:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(898);r.__exportStar(n(1330),t),r.__exportStar(n(1335),t),r.__exportStar(n(1336),t),r.__exportStar(n(1060),t)},846:function(e,t,n){"use strict";var r=n(10),o=n(95),c=n(46),l=n(415),f=n(82),d=r(l),h=r("".slice),v=Math.ceil,m=function(e){return function(t,n,r){var l,m,y=c(f(t)),_=o(n),w=y.length,O=void 0===r?" ":c(r);return _<=w||""==O?y:((m=d(O,v((l=_-w)/O.length))).length>l&&(m=h(m,0,l)),e?y+m:m+y)}};e.exports={start:m(!1),end:m(!0)}},847:function(e,t,n){"use strict";var r=n(128);e.exports=/Version\/10(?:\.\d+){1,2}(?: [\w./]+)?(?: Mobile\/\w+)? Safari\//.test(r)},848:function(e,t,n){"use strict";e.exports=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=void 0,o=void 0,c=void 0,l=[];return function(){var d=function(e){return"function"==typeof e?e():e}(t),h=(new Date).getTime(),v=!r||h-r>d;r=h;for(var m=arguments.length,y=Array(m),_=0;_<m;_++)y[_]=arguments[_];if(v&&n.leading)return n.accumulate?Promise.resolve(e.call(this,[y])).then((function(e){return e[0]})):Promise.resolve(e.call.apply(e,[this].concat(y)));if(o?clearTimeout(c):o=function(){var e={};return e.promise=new Promise((function(t,n){e.resolve=t,e.reject=n})),e}(),l.push(y),c=setTimeout(f.bind(this),d),n.accumulate){var w=l.length-1;return o.promise.then((function(e){return e[w]}))}return o.promise};function f(){var t=o;clearTimeout(c),Promise.resolve(n.accumulate?e.call(this,l):e.apply(this,l[l.length-1])).then(t.resolve,t.reject),l=[],o=null}}},849:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.randomStringForEntropy=t.randomString=t.randomUint32=t.randomBytes=t.defaultRandomSource=void 0;const r=n(1307),o=n(877),c=n(821);function l(e,n=t.defaultRandomSource){return n.randomBytes(e)}t.defaultRandomSource=new r.SystemRandomSource,t.randomBytes=l,t.randomUint32=function(e=t.defaultRandomSource){const n=l(4,e),r=(0,o.readUint32LE)(n);return(0,c.wipe)(n),r};const f="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz";function d(e,n=f,r=t.defaultRandomSource){if(n.length<2)throw new Error("randomString charset is too short");if(n.length>256)throw new Error("randomString charset is too long");let o="";const d=n.length,h=256-256%d;for(;e>0;){const t=l(Math.ceil(256*e/h),r);for(let i=0;i<t.length&&e>0;i++){const r=t[i];r<h&&(o+=n.charAt(r%d),e--)}(0,c.wipe)(t)}return o}t.randomString=d,t.randomStringForEntropy=function(e,n=f,r=t.defaultRandomSource){return d(Math.ceil(e/(Math.log(n.length)/Math.LN2)),n,r)}},870:function(e,t,n){"use strict";t.a=[{constant:!0,inputs:[{name:"_owner",type:"address"}],name:"balanceOf",outputs:[{name:"balance",type:"uint256"}],type:"function"},{constant:!0,inputs:[],name:"decimals",outputs:[{name:"",type:"uint8"}],payable:!1,type:"function"},{constant:!0,inputs:[{name:"_owner",type:"address"},{name:"_spender",type:"address"}],name:"allowance",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"_spender",type:"address"},{name:"_value",type:"uint256"}],name:"approve",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"}]},872:function(e,t,n){"use strict";var r=n(2),o=n(846).start;r({target:"String",proto:!0,forced:n(847)},{padStart:function(e){return o(this,e,arguments.length>1?arguments[1]:void 0)}})},873:function(e,t,n){"use strict";n(2)({target:"Object",stat:!0},{setPrototypeOf:n(210)})},874:function(e,t,n){"use strict";var r=n(2),o=n(1293),c=n(44),l=o.toKey,f=o.set;r({target:"Reflect",stat:!0},{metadata:function(e,t){return function(n,r){f(e,t,c(n),l(r))}}})},875:function(e,t,n){"use strict";n(414)("asyncIterator")},876:function(e,t,n){"use strict";n(894);var r=n(958);n.d(t,"parseConnectionError",(function(){return r.d}));var o=n(1048);n.o(o,"IJsonRpcProvider")&&n.d(t,"IJsonRpcProvider",(function(){return o.IJsonRpcProvider})),n.o(o,"formatJsonRpcError")&&n.d(t,"formatJsonRpcError",(function(){return o.formatJsonRpcError})),n.o(o,"formatJsonRpcRequest")&&n.d(t,"formatJsonRpcRequest",(function(){return o.formatJsonRpcRequest})),n.o(o,"formatJsonRpcResult")&&n.d(t,"formatJsonRpcResult",(function(){return o.formatJsonRpcResult})),n.o(o,"getBigIntRpcId")&&n.d(t,"getBigIntRpcId",(function(){return o.getBigIntRpcId})),n.o(o,"isHttpUrl")&&n.d(t,"isHttpUrl",(function(){return o.isHttpUrl})),n.o(o,"isJsonRpcError")&&n.d(t,"isJsonRpcError",(function(){return o.isJsonRpcError})),n.o(o,"isJsonRpcRequest")&&n.d(t,"isJsonRpcRequest",(function(){return o.isJsonRpcRequest})),n.o(o,"isJsonRpcResponse")&&n.d(t,"isJsonRpcResponse",(function(){return o.isJsonRpcResponse})),n.o(o,"isJsonRpcResult")&&n.d(t,"isJsonRpcResult",(function(){return o.isJsonRpcResult})),n.o(o,"isLocalhostUrl")&&n.d(t,"isLocalhostUrl",(function(){return o.isLocalhostUrl})),n.o(o,"isReactNative")&&n.d(t,"isReactNative",(function(){return o.isReactNative})),n.o(o,"isWsUrl")&&n.d(t,"isWsUrl",(function(){return o.isWsUrl}));var c=n(1049);n.d(t,"formatJsonRpcError",(function(){return c.a})),n.d(t,"formatJsonRpcRequest",(function(){return c.b})),n.d(t,"formatJsonRpcResult",(function(){return c.c})),n.d(t,"getBigIntRpcId",(function(){return c.d}));n(1050);var l=n(1081);n.d(t,"IJsonRpcProvider",(function(){return l.a}));var f=n(1051);n.d(t,"isHttpUrl",(function(){return f.a})),n.d(t,"isLocalhostUrl",(function(){return f.b})),n.d(t,"isWsUrl",(function(){return f.c}));var d=n(1052);n.d(t,"isJsonRpcError",(function(){return d.a})),n.d(t,"isJsonRpcRequest",(function(){return d.b})),n.d(t,"isJsonRpcResponse",(function(){return d.c})),n.d(t,"isJsonRpcResult",(function(){return d.d}))},877:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1303);function o(e,t,n){return void 0===t&&(t=new Uint8Array(2)),void 0===n&&(n=0),t[n+0]=e>>>8,t[n+1]=e>>>0,t}function c(e,t,n){return void 0===t&&(t=new Uint8Array(2)),void 0===n&&(n=0),t[n+0]=e>>>0,t[n+1]=e>>>8,t}function l(e,t){return void 0===t&&(t=0),e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3]}function f(e,t){return void 0===t&&(t=0),(e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3])>>>0}function d(e,t){return void 0===t&&(t=0),e[t+3]<<24|e[t+2]<<16|e[t+1]<<8|e[t]}function h(e,t){return void 0===t&&(t=0),(e[t+3]<<24|e[t+2]<<16|e[t+1]<<8|e[t])>>>0}function v(e,t,n){return void 0===t&&(t=new Uint8Array(4)),void 0===n&&(n=0),t[n+0]=e>>>24,t[n+1]=e>>>16,t[n+2]=e>>>8,t[n+3]=e>>>0,t}function m(e,t,n){return void 0===t&&(t=new Uint8Array(4)),void 0===n&&(n=0),t[n+0]=e>>>0,t[n+1]=e>>>8,t[n+2]=e>>>16,t[n+3]=e>>>24,t}function y(e,t,n){return void 0===t&&(t=new Uint8Array(8)),void 0===n&&(n=0),v(e/4294967296>>>0,t,n),v(e>>>0,t,n+4),t}function _(e,t,n){return void 0===t&&(t=new Uint8Array(8)),void 0===n&&(n=0),m(e>>>0,t,n),m(e/4294967296>>>0,t,n+4),t}t.readInt16BE=function(e,t){return void 0===t&&(t=0),(e[t+0]<<8|e[t+1])<<16>>16},t.readUint16BE=function(e,t){return void 0===t&&(t=0),(e[t+0]<<8|e[t+1])>>>0},t.readInt16LE=function(e,t){return void 0===t&&(t=0),(e[t+1]<<8|e[t])<<16>>16},t.readUint16LE=function(e,t){return void 0===t&&(t=0),(e[t+1]<<8|e[t])>>>0},t.writeUint16BE=o,t.writeInt16BE=o,t.writeUint16LE=c,t.writeInt16LE=c,t.readInt32BE=l,t.readUint32BE=f,t.readInt32LE=d,t.readUint32LE=h,t.writeUint32BE=v,t.writeInt32BE=v,t.writeUint32LE=m,t.writeInt32LE=m,t.readInt64BE=function(e,t){void 0===t&&(t=0);var n=l(e,t),r=l(e,t+4);return 4294967296*n+r-4294967296*(r>>31)},t.readUint64BE=function(e,t){return void 0===t&&(t=0),4294967296*f(e,t)+f(e,t+4)},t.readInt64LE=function(e,t){void 0===t&&(t=0);var n=d(e,t);return 4294967296*d(e,t+4)+n-4294967296*(n>>31)},t.readUint64LE=function(e,t){void 0===t&&(t=0);var n=h(e,t);return 4294967296*h(e,t+4)+n},t.writeUint64BE=y,t.writeInt64BE=y,t.writeUint64LE=_,t.writeInt64LE=_,t.readUintBE=function(e,t,n){if(void 0===n&&(n=0),e%8!=0)throw new Error("readUintBE supports only bitLengths divisible by 8");if(e/8>t.length-n)throw new Error("readUintBE: array is too short for the given bitLength");for(var r=0,o=1,i=e/8+n-1;i>=n;i--)r+=t[i]*o,o*=256;return r},t.readUintLE=function(e,t,n){if(void 0===n&&(n=0),e%8!=0)throw new Error("readUintLE supports only bitLengths divisible by 8");if(e/8>t.length-n)throw new Error("readUintLE: array is too short for the given bitLength");for(var r=0,o=1,i=n;i<n+e/8;i++)r+=t[i]*o,o*=256;return r},t.writeUintBE=function(e,t,n,o){if(void 0===n&&(n=new Uint8Array(e/8)),void 0===o&&(o=0),e%8!=0)throw new Error("writeUintBE supports only bitLengths divisible by 8");if(!r.isSafeInteger(t))throw new Error("writeUintBE value must be an integer");for(var div=1,i=e/8+o-1;i>=o;i--)n[i]=t/div&255,div*=256;return n},t.writeUintLE=function(e,t,n,o){if(void 0===n&&(n=new Uint8Array(e/8)),void 0===o&&(o=0),e%8!=0)throw new Error("writeUintLE supports only bitLengths divisible by 8");if(!r.isSafeInteger(t))throw new Error("writeUintLE value must be an integer");for(var div=1,i=o;i<o+e/8;i++)n[i]=t/div&255,div*=256;return n},t.readFloat32BE=function(e,t){return void 0===t&&(t=0),new DataView(e.buffer,e.byteOffset,e.byteLength).getFloat32(t)},t.readFloat32LE=function(e,t){return void 0===t&&(t=0),new DataView(e.buffer,e.byteOffset,e.byteLength).getFloat32(t,!0)},t.readFloat64BE=function(e,t){return void 0===t&&(t=0),new DataView(e.buffer,e.byteOffset,e.byteLength).getFloat64(t)},t.readFloat64LE=function(e,t){return void 0===t&&(t=0),new DataView(e.buffer,e.byteOffset,e.byteLength).getFloat64(t,!0)},t.writeFloat32BE=function(e,t,n){return void 0===t&&(t=new Uint8Array(4)),void 0===n&&(n=0),new DataView(t.buffer,t.byteOffset,t.byteLength).setFloat32(n,e),t},t.writeFloat32LE=function(e,t,n){return void 0===t&&(t=new Uint8Array(4)),void 0===n&&(n=0),new DataView(t.buffer,t.byteOffset,t.byteLength).setFloat32(n,e,!0),t},t.writeFloat64BE=function(e,t,n){return void 0===t&&(t=new Uint8Array(8)),void 0===n&&(n=0),new DataView(t.buffer,t.byteOffset,t.byteLength).setFloat64(n,e),t},t.writeFloat64LE=function(e,t,n){return void 0===t&&(t=new Uint8Array(8)),void 0===n&&(n=0),new DataView(t.buffer,t.byteOffset,t.byteLength).setFloat64(n,e,!0),t}},878:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(832),o=n(897);class c{constructor(code,e,t,n){this.code=code,this.size=e,this.digest=t,this.bytes=n}}t.Digest=c,t.create=(code,e)=>{const t=e.byteLength,n=o.encodingLength(code),r=n+o.encodingLength(t),l=new Uint8Array(r+t);return o.encodeTo(code,l,0),o.encodeTo(t,l,n),l.set(e,r),new c(code,t,e,l)},t.decode=e=>{const t=r.coerce(e),[code,n]=o.decode(t),[l,f]=o.decode(t.subarray(n)),d=t.subarray(n+f);if(d.byteLength!==l)throw new Error("Incorrect length");return new c(code,l,d,t)},t.equals=(a,b)=>a===b||a.code===b.code&&a.size===b.size&&r.equals(a.bytes,b.bytes)},894:function(e,t,n){"use strict";n.d(t,"b",(function(){return c})),n.d(t,"d",(function(){return l})),n.d(t,"c",(function(){return f})),n.d(t,"e",(function(){return d})),n.d(t,"f",(function(){return h})),n.d(t,"a",(function(){return v}));var r,o=n(6),c="INTERNAL_ERROR",l="SERVER_ERROR",f=[-32700,-32600,-32601,-32602,-32603],d=[-32e3,-32099],h=(r={},Object(o.a)(r,"PARSE_ERROR",{code:-32700,message:"Parse error"}),Object(o.a)(r,"INVALID_REQUEST",{code:-32600,message:"Invalid Request"}),Object(o.a)(r,"METHOD_NOT_FOUND",{code:-32601,message:"Method not found"}),Object(o.a)(r,"INVALID_PARAMS",{code:-32602,message:"Invalid params"}),Object(o.a)(r,c,{code:-32603,message:"Internal error"}),Object(o.a)(r,l,{code:-32e3,message:"Server error"}),r),v=l},895:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1311),o=n(1053),c=n(1312),l=n(1054),f=n(1059),d=n(1329);t.compare=r.compare,t.concat=o.concat,t.equals=c.equals,t.fromString=l.fromString,t.toString=f.toString,t.xor=d.xor},896:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.asUint8Array=function(e){return null!=globalThis.Buffer?new Uint8Array(e.buffer,e.byteOffset,e.byteLength):e}},897:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1324);t.decode=(data,e=0)=>[r.decode(data,e),r.decode.bytes],t.encodeTo=(e,t,n=0)=>(r.encode(e,t,n),t),t.encodingLength=e=>r.encodingLength(e)},898:function(e,t,n){"use strict";n.r(t),n.d(t,"__extends",(function(){return c})),n.d(t,"__assign",(function(){return l})),n.d(t,"__rest",(function(){return f})),n.d(t,"__decorate",(function(){return d})),n.d(t,"__param",(function(){return h})),n.d(t,"__metadata",(function(){return v})),n.d(t,"__awaiter",(function(){return m})),n.d(t,"__generator",(function(){return y})),n.d(t,"__createBinding",(function(){return _})),n.d(t,"__exportStar",(function(){return w})),n.d(t,"__values",(function(){return O})),n.d(t,"__read",(function(){return x})),n.d(t,"__spread",(function(){return E})),n.d(t,"__spreadArrays",(function(){return j})),n.d(t,"__await",(function(){return k})),n.d(t,"__asyncGenerator",(function(){return S})),n.d(t,"__asyncDelegator",(function(){return R})),n.d(t,"__asyncValues",(function(){return C})),n.d(t,"__makeTemplateObject",(function(){return I})),n.d(t,"__importStar",(function(){return P})),n.d(t,"__importDefault",(function(){return A})),n.d(t,"__classPrivateFieldGet",(function(){return T})),n.d(t,"__classPrivateFieldSet",(function(){return N}));var r=n(12),o=(n(873),n(32),n(48),n(1),n(874),n(61),n(69),n(42),n(41),n(21),n(875),function(e,b){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,b){e.__proto__=b}||function(e,b){for(var p in b)b.hasOwnProperty(p)&&(e[p]=b[p])},o(e,b)});function c(e,b){function t(){this.constructor=e}o(e,b),e.prototype=null===b?Object.create(b):(t.prototype=b.prototype,new t)}var l=function(){return l=Object.assign||function(e){for(var s,i=1,t=arguments.length;i<t;i++)for(var p in s=arguments[i])Object.prototype.hasOwnProperty.call(s,p)&&(e[p]=s[p]);return e},l.apply(this,arguments)};function f(s,e){var t={};for(var p in s)Object.prototype.hasOwnProperty.call(s,p)&&e.indexOf(p)<0&&(t[p]=s[p]);if(null!=s&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(p=Object.getOwnPropertySymbols(s);i<p.length;i++)e.indexOf(p[i])<0&&Object.prototype.propertyIsEnumerable.call(s,p[i])&&(t[p[i]]=s[p[i]])}return t}function d(e,t,n,desc){var o,c=arguments.length,l=c<3?t:null===desc?desc=Object.getOwnPropertyDescriptor(t,n):desc;if("object"===("undefined"==typeof Reflect?"undefined":Object(r.a)(Reflect))&&"function"==typeof Reflect.decorate)l=Reflect.decorate(e,t,n,desc);else for(var i=e.length-1;i>=0;i--)(o=e[i])&&(l=(c<3?o(l):c>3?o(t,n,l):o(t,n))||l);return c>3&&l&&Object.defineProperty(t,n,l),l}function h(e,t){return function(n,r){t(n,r,e)}}function v(e,t){if("object"===("undefined"==typeof Reflect?"undefined":Object(r.a)(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}function m(e,t,n,r){return new(n||(n=Promise))((function(o,c){function l(e){try{d(r.next(e))}catch(e){c(e)}}function f(e){try{d(r.throw(e))}catch(e){c(e)}}function d(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(l,f)}d((r=r.apply(e,t||[])).next())}))}function y(e,body){var t,n,r,g,o={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return g={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(g[Symbol.iterator]=function(){return this}),g;function c(c){return function(l){return function(c){if(t)throw new TypeError("Generator is already executing.");for(;o;)try{if(t=1,n&&(r=2&c[0]?n.return:c[0]?n.throw||((r=n.return)&&r.call(n),0):n.next)&&!(r=r.call(n,c[1])).done)return r;switch(n=0,r&&(c=[2&c[0],r.value]),c[0]){case 0:case 1:r=c;break;case 4:return o.label++,{value:c[1],done:!1};case 5:o.label++,n=c[1],c=[0];continue;case 7:c=o.ops.pop(),o.trys.pop();continue;default:if(!(r=o.trys,(r=r.length>0&&r[r.length-1])||6!==c[0]&&2!==c[0])){o=0;continue}if(3===c[0]&&(!r||c[1]>r[0]&&c[1]<r[3])){o.label=c[1];break}if(6===c[0]&&o.label<r[1]){o.label=r[1],r=c;break}if(r&&o.label<r[2]){o.label=r[2],o.ops.push(c);break}r[2]&&o.ops.pop(),o.trys.pop();continue}c=body.call(e,o)}catch(e){c=[6,e],n=0}finally{t=r=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,l])}}}function _(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}function w(e,t){for(var p in e)"default"===p||t.hasOwnProperty(p)||(t[p]=e[p])}function O(e){var s="function"==typeof Symbol&&Symbol.iterator,t=s&&e[s],i=0;if(t)return t.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&i>=e.length&&(e=void 0),{value:e&&e[i++],done:!e}}};throw new TypeError(s?"Object is not iterable.":"Symbol.iterator is not defined.")}function x(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),c=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)c.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return c}function E(){for(var e=[],i=0;i<arguments.length;i++)e=e.concat(x(arguments[i]));return e}function j(){for(var s=0,i=0,e=arguments.length;i<e;i++)s+=arguments[i].length;var t=Array(s),n=0;for(i=0;i<e;i++)for(var a=arguments[i],r=0,o=a.length;r<o;r++,n++)t[n]=a[r];return t}function k(e){return this instanceof k?(this.v=e,this):new k(e)}function S(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,g=n.apply(e,t||[]),q=[];return i={},r("next"),r("throw"),r("return"),i[Symbol.asyncIterator]=function(){return this},i;function r(e){g[e]&&(i[e]=function(t){return new Promise((function(a,b){q.push([e,t,a,b])>1||o(e,t)}))})}function o(e,t){try{(n=g[e](t)).value instanceof k?Promise.resolve(n.value.v).then(c,l):f(q[0][2],n)}catch(e){f(q[0][3],e)}var n}function c(e){o("next",e)}function l(e){o("throw",e)}function f(e,t){e(t),q.shift(),q.length&&o(q[0][0],q[0][1])}}function R(e){var i,p;return i={},t("next"),t("throw",(function(e){throw e})),t("return"),i[Symbol.iterator]=function(){return this},i;function t(t,n){i[t]=e[t]?function(r){return(p=!p)?{value:k(e[t](r)),done:"return"===t}:n?n(r):r}:n}}function C(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,t=e[Symbol.asyncIterator];return t?t.call(e):(e=O(e),i={},n("next"),n("throw"),n("return"),i[Symbol.asyncIterator]=function(){return this},i);function n(t){i[t]=e[t]&&function(n){return new Promise((function(r,o){(function(e,t,n,r){Promise.resolve(r).then((function(t){e({value:t,done:n})}),t)})(r,o,(n=e[t](n)).done,n.value)}))}}}function I(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}function P(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function A(e){return e&&e.__esModule?e:{default:e}}function T(e,t){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)}function N(e,t,n){if(!t.has(e))throw new TypeError("attempted to set private field on non-instance");return t.set(e,n),n}},899:function(e,t,n){"use strict";n.r(t),n.d(t,"__extends",(function(){return c})),n.d(t,"__assign",(function(){return l})),n.d(t,"__rest",(function(){return f})),n.d(t,"__decorate",(function(){return d})),n.d(t,"__param",(function(){return h})),n.d(t,"__metadata",(function(){return v})),n.d(t,"__awaiter",(function(){return m})),n.d(t,"__generator",(function(){return y})),n.d(t,"__createBinding",(function(){return _})),n.d(t,"__exportStar",(function(){return w})),n.d(t,"__values",(function(){return O})),n.d(t,"__read",(function(){return x})),n.d(t,"__spread",(function(){return E})),n.d(t,"__spreadArrays",(function(){return j})),n.d(t,"__await",(function(){return k})),n.d(t,"__asyncGenerator",(function(){return S})),n.d(t,"__asyncDelegator",(function(){return R})),n.d(t,"__asyncValues",(function(){return C})),n.d(t,"__makeTemplateObject",(function(){return I})),n.d(t,"__importStar",(function(){return P})),n.d(t,"__importDefault",(function(){return A})),n.d(t,"__classPrivateFieldGet",(function(){return T})),n.d(t,"__classPrivateFieldSet",(function(){return N}));var r=n(12),o=(n(873),n(32),n(48),n(1),n(874),n(61),n(69),n(42),n(41),n(21),n(875),function(e,b){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,b){e.__proto__=b}||function(e,b){for(var p in b)b.hasOwnProperty(p)&&(e[p]=b[p])},o(e,b)});function c(e,b){function t(){this.constructor=e}o(e,b),e.prototype=null===b?Object.create(b):(t.prototype=b.prototype,new t)}var l=function(){return l=Object.assign||function(e){for(var s,i=1,t=arguments.length;i<t;i++)for(var p in s=arguments[i])Object.prototype.hasOwnProperty.call(s,p)&&(e[p]=s[p]);return e},l.apply(this,arguments)};function f(s,e){var t={};for(var p in s)Object.prototype.hasOwnProperty.call(s,p)&&e.indexOf(p)<0&&(t[p]=s[p]);if(null!=s&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(p=Object.getOwnPropertySymbols(s);i<p.length;i++)e.indexOf(p[i])<0&&Object.prototype.propertyIsEnumerable.call(s,p[i])&&(t[p[i]]=s[p[i]])}return t}function d(e,t,n,desc){var o,c=arguments.length,l=c<3?t:null===desc?desc=Object.getOwnPropertyDescriptor(t,n):desc;if("object"===("undefined"==typeof Reflect?"undefined":Object(r.a)(Reflect))&&"function"==typeof Reflect.decorate)l=Reflect.decorate(e,t,n,desc);else for(var i=e.length-1;i>=0;i--)(o=e[i])&&(l=(c<3?o(l):c>3?o(t,n,l):o(t,n))||l);return c>3&&l&&Object.defineProperty(t,n,l),l}function h(e,t){return function(n,r){t(n,r,e)}}function v(e,t){if("object"===("undefined"==typeof Reflect?"undefined":Object(r.a)(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}function m(e,t,n,r){return new(n||(n=Promise))((function(o,c){function l(e){try{d(r.next(e))}catch(e){c(e)}}function f(e){try{d(r.throw(e))}catch(e){c(e)}}function d(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(l,f)}d((r=r.apply(e,t||[])).next())}))}function y(e,body){var t,n,r,g,o={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return g={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(g[Symbol.iterator]=function(){return this}),g;function c(c){return function(l){return function(c){if(t)throw new TypeError("Generator is already executing.");for(;o;)try{if(t=1,n&&(r=2&c[0]?n.return:c[0]?n.throw||((r=n.return)&&r.call(n),0):n.next)&&!(r=r.call(n,c[1])).done)return r;switch(n=0,r&&(c=[2&c[0],r.value]),c[0]){case 0:case 1:r=c;break;case 4:return o.label++,{value:c[1],done:!1};case 5:o.label++,n=c[1],c=[0];continue;case 7:c=o.ops.pop(),o.trys.pop();continue;default:if(!(r=o.trys,(r=r.length>0&&r[r.length-1])||6!==c[0]&&2!==c[0])){o=0;continue}if(3===c[0]&&(!r||c[1]>r[0]&&c[1]<r[3])){o.label=c[1];break}if(6===c[0]&&o.label<r[1]){o.label=r[1],r=c;break}if(r&&o.label<r[2]){o.label=r[2],o.ops.push(c);break}r[2]&&o.ops.pop(),o.trys.pop();continue}c=body.call(e,o)}catch(e){c=[6,e],n=0}finally{t=r=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,l])}}}function _(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}function w(e,t){for(var p in e)"default"===p||t.hasOwnProperty(p)||(t[p]=e[p])}function O(e){var s="function"==typeof Symbol&&Symbol.iterator,t=s&&e[s],i=0;if(t)return t.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&i>=e.length&&(e=void 0),{value:e&&e[i++],done:!e}}};throw new TypeError(s?"Object is not iterable.":"Symbol.iterator is not defined.")}function x(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),c=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)c.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return c}function E(){for(var e=[],i=0;i<arguments.length;i++)e=e.concat(x(arguments[i]));return e}function j(){for(var s=0,i=0,e=arguments.length;i<e;i++)s+=arguments[i].length;var t=Array(s),n=0;for(i=0;i<e;i++)for(var a=arguments[i],r=0,o=a.length;r<o;r++,n++)t[n]=a[r];return t}function k(e){return this instanceof k?(this.v=e,this):new k(e)}function S(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,g=n.apply(e,t||[]),q=[];return i={},r("next"),r("throw"),r("return"),i[Symbol.asyncIterator]=function(){return this},i;function r(e){g[e]&&(i[e]=function(t){return new Promise((function(a,b){q.push([e,t,a,b])>1||o(e,t)}))})}function o(e,t){try{(n=g[e](t)).value instanceof k?Promise.resolve(n.value.v).then(c,l):f(q[0][2],n)}catch(e){f(q[0][3],e)}var n}function c(e){o("next",e)}function l(e){o("throw",e)}function f(e,t){e(t),q.shift(),q.length&&o(q[0][0],q[0][1])}}function R(e){var i,p;return i={},t("next"),t("throw",(function(e){throw e})),t("return"),i[Symbol.iterator]=function(){return this},i;function t(t,n){i[t]=e[t]?function(r){return(p=!p)?{value:k(e[t](r)),done:"return"===t}:n?n(r):r}:n}}function C(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,t=e[Symbol.asyncIterator];return t?t.call(e):(e=O(e),i={},n("next"),n("throw"),n("return"),i[Symbol.asyncIterator]=function(){return this},i);function n(t){i[t]=e[t]&&function(n){return new Promise((function(r,o){(function(e,t,n,r){Promise.resolve(r).then((function(t){e({value:t,done:n})}),t)})(r,o,(n=e[t](n)).done,n.value)}))}}}function I(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}function P(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function A(e){return e&&e.__esModule?e:{default:e}}function T(e,t){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)}function N(e,t,n){if(!t.has(e))throw new TypeError("attempted to set private field on non-instance");return t.set(e,n),n}},900:function(e,t,n){"use strict";n.d(t,"h",(function(){return r})),n.d(t,"i",(function(){return o})),n.d(t,"f",(function(){return c})),n.d(t,"g",(function(){return l})),n.d(t,"e",(function(){return f})),n.d(t,"a",(function(){return d})),n.d(t,"b",(function(){return h})),n.d(t,"d",(function(){return v})),n.d(t,"c",(function(){return m})),n.d(t,"l",(function(){return y})),n.d(t,"k",(function(){return _})),n.d(t,"m",(function(){return w})),n.d(t,"n",(function(){return O})),n.d(t,"j",(function(){return x}));var r="EdDSA",o="JWT",c=".",l="base64url",f="utf8",d="utf8",h=":",v="did",m="key",y="base58btc",_="z",w="K36",O=32,x=32},954:function(e,t,n){"use strict";t.a=[{inputs:[{internalType:"bytes32",name:"_gravityId",type:"bytes32"},{internalType:"uint256",name:"_powerThreshold",type:"uint256"},{internalType:"address[]",name:"_validators",type:"address[]"},{internalType:"uint256[]",name:"_powers",type:"uint256[]"},{internalType:"address[]",name:"_validators2",type:"address[]"},{internalType:"uint256[]",name:"_powers2",type:"uint256[]"},{internalType:"address",name:"_wethAddress",type:"address"},{internalType:"address",name:"_guardian",type:"address"}],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!1,internalType:"bytes32",name:"_invalidationId",type:"bytes32"},{indexed:!1,internalType:"uint256",name:"_invalidationNonce",type:"uint256"},{indexed:!1,internalType:"uint256",name:"_eventNonce",type:"uint256"},{indexed:!1,internalType:"bytes",name:"_returnData",type:"bytes"}],name:"LogicCallEvent",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"_batchNonce",type:"uint256"},{indexed:!0,internalType:"address",name:"_token",type:"address"},{indexed:!1,internalType:"uint256",name:"_eventNonce",type:"uint256"}],name:"TransactionBatchExecutedEvent",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"_tokenContract",type:"address"},{indexed:!0,internalType:"address",name:"_sender",type:"address"},{indexed:!0,internalType:"bytes32",name:"_destinationChain",type:"bytes32"},{indexed:!1,internalType:"bytes32",name:"_destination",type:"bytes32"},{indexed:!1,internalType:"uint256",name:"_amount",type:"uint256"},{indexed:!1,internalType:"uint256",name:"_fee",type:"uint256"},{indexed:!1,internalType:"uint256",name:"_eventNonce",type:"uint256"}],name:"TransferToChainEvent",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"_newValsetNonce",type:"uint256"},{indexed:!1,internalType:"uint256",name:"_eventNonce",type:"uint256"},{indexed:!1,internalType:"address[]",name:"_validators",type:"address[]"},{indexed:!1,internalType:"uint256[]",name:"_powers",type:"uint256[]"}],name:"ValsetUpdatedEvent",type:"event"},{inputs:[{internalType:"address",name:"_guardian",type:"address"}],name:"changeGuardian",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"guardian",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_erc20Address",type:"address"}],name:"lastBatchNonce",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"_invalidation_id",type:"bytes32"}],name:"lastLogicCallNonce",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address[]",name:"_tokenContracts",type:"address[]"},{internalType:"address",name:"_safeAddress",type:"address"}],name:"panicHalt",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"state_gravityId",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"",type:"bytes32"}],name:"state_invalidationMapping",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"state_lastBatchNonces",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"state_lastEventNonce",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"state_lastValsetCheckpoint",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[],name:"state_lastValsetNonce",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"state_powerThreshold",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address[]",name:"_currentValidators",type:"address[]"},{internalType:"uint256[]",name:"_currentPowers",type:"uint256[]"},{internalType:"uint256",name:"_currentValsetNonce",type:"uint256"},{internalType:"uint8[]",name:"_v",type:"uint8[]"},{internalType:"bytes32[]",name:"_r",type:"bytes32[]"},{internalType:"bytes32[]",name:"_s",type:"bytes32[]"},{internalType:"uint256[]",name:"_amounts",type:"uint256[]"},{internalType:"address payable[]",name:"_destinations",type:"address[]"},{internalType:"uint256[]",name:"_fees",type:"uint256[]"},{internalType:"uint256",name:"_batchNonce",type:"uint256"},{internalType:"address",name:"_tokenContract",type:"address"},{internalType:"uint256",name:"_batchTimeout",type:"uint256"}],name:"submitBatch",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address[]",name:"_currentValidators",type:"address[]"},{internalType:"uint256[]",name:"_currentPowers",type:"uint256[]"},{internalType:"uint256",name:"_currentValsetNonce",type:"uint256"},{internalType:"uint8[]",name:"_v",type:"uint8[]"},{internalType:"bytes32[]",name:"_r",type:"bytes32[]"},{internalType:"bytes32[]",name:"_s",type:"bytes32[]"},{components:[{internalType:"uint256[]",name:"transferAmounts",type:"uint256[]"},{internalType:"address[]",name:"transferTokenContracts",type:"address[]"},{internalType:"uint256[]",name:"feeAmounts",type:"uint256[]"},{internalType:"address[]",name:"feeTokenContracts",type:"address[]"},{internalType:"address",name:"logicContractAddress",type:"address"},{internalType:"bytes",name:"payload",type:"bytes"},{internalType:"uint256",name:"timeOut",type:"uint256"},{internalType:"bytes32",name:"invalidationId",type:"bytes32"},{internalType:"uint256",name:"invalidationNonce",type:"uint256"}],internalType:"struct LogicCallArgs",name:"_args",type:"tuple"}],name:"submitLogicCall",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"_destinationChain",type:"bytes32"},{internalType:"bytes32",name:"_destination",type:"bytes32"},{internalType:"uint256",name:"_fee",type:"uint256"}],name:"transferETHToChain",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"address",name:"_tokenContract",type:"address"},{internalType:"bytes32",name:"_destinationChain",type:"bytes32"},{internalType:"bytes32",name:"_destination",type:"bytes32"},{internalType:"uint256",name:"_amount",type:"uint256"},{internalType:"uint256",name:"_fee",type:"uint256"}],name:"transferToChain",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address[]",name:"_newValidators",type:"address[]"},{internalType:"uint256[]",name:"_newPowers",type:"uint256[]"},{internalType:"uint256",name:"_newValsetNonce",type:"uint256"},{internalType:"address[]",name:"_currentValidators",type:"address[]"},{internalType:"uint256[]",name:"_currentPowers",type:"uint256[]"},{internalType:"uint256",name:"_currentValsetNonce",type:"uint256"},{internalType:"uint8[]",name:"_v",type:"uint8[]"},{internalType:"bytes32[]",name:"_r",type:"bytes32[]"},{internalType:"bytes32[]",name:"_s",type:"bytes32[]"}],name:"updateValset",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"wethAddress",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{stateMutability:"payable",type:"receive"}]},955:function(e,t,n){"use strict";t.a=[{constant:!0,inputs:[],name:"name",outputs:[{name:"",type:"string"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"guy",type:"address"},{name:"wad",type:"uint256"}],name:"approve",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[],name:"totalSupply",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"src",type:"address"},{name:"dst",type:"address"},{name:"wad",type:"uint256"}],name:"transferFrom",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{name:"wad",type:"uint256"}],name:"withdraw",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[],name:"decimals",outputs:[{name:"",type:"uint8"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{name:"",type:"address"}],name:"balanceOf",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"symbol",outputs:[{name:"",type:"string"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"dst",type:"address"},{name:"wad",type:"uint256"}],name:"transfer",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[],name:"deposit",outputs:[],payable:!0,stateMutability:"payable",type:"function"},{constant:!0,inputs:[{name:"",type:"address"},{name:"",type:"address"}],name:"allowance",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{payable:!0,stateMutability:"payable",type:"fallback"},{anonymous:!1,inputs:[{indexed:!0,name:"src",type:"address"},{indexed:!0,name:"guy",type:"address"},{indexed:!1,name:"wad",type:"uint256"}],name:"Approval",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"src",type:"address"},{indexed:!0,name:"dst",type:"address"},{indexed:!1,name:"wad",type:"uint256"}],name:"Transfer",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"dst",type:"address"},{indexed:!1,name:"wad",type:"uint256"}],name:"Deposit",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"src",type:"address"},{indexed:!1,name:"wad",type:"uint256"}],name:"Withdrawal",type:"event"}]},956:function(e,t,n){"use strict";(function(e){var r=n(13),o=n(6),c=n(16),l=(n(74),n(8),n(140),n(1),n(7),n(36),n(35),n(57),n(42),n(41),n(21),n(22),n(31),n(32),n(48),n(30),n(52),n(748)),f=n(747),d=n(786),h=n(750),v=n(286),m=(n(788),n(760)),y=n(824),_=n(101),w=n(100),O=n(870),x=n(954),E=n(955),j=n(4),k=n(399),S=n(743),R=n(1044),C=n(745),I=n(1401),P=n(1397),A=n(775),T=n(764),N=n(754);function U(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,n)}return t}var M,L="finished",D="rejected",$="pending",H="unwrap",B="approve",F="transfer";function V(e){return new y.b.eth.Contract(O.a,e)}var W=Object(v.a)({type:"validAmount"},(function(e){return parseFloat(e)>=0}));t.a={TX_UNWRAP:H,TX_APPROVE:B,TX_TRANSFER:F,components:{Loader:C.a,TxListItem:I.a,Account:P.a,FieldUseMax:A.a,FieldQr:T.a,FieldCoin:N.a},directives:{autosize:m.a,checkEmpty:S.a},mixins:[l.a],props:{hubCoinList:{type:Array,required:!0},priceList:{type:Array,required:!0}},setup:function(){var e=Object(R.a)();return{discount:e.discount,discountUpsidePercent:e.discountUpsidePercent,setDiscountProps:e.setDiscountProps}},data:function(){return{balances:{},decimals:{},balanceRequest:null,allowanceList:{},allowanceRequest:null,form:{coin:this.$route.query.coin||"",amount:"",address:this.$store.getters.address,isInfiniteUnlock:!0,isIgnorePending:!0,isUnwrapAll:!0},isFormSending:!1,serverError:"",waitUnwrapConfirmation:!1,waitApproveConfirmation:!1,isConnectionStartedAndModalClosed:!1}},validations:function(){var e=this;return{form:{address:{required:f.a,validAddress:function(address){return/^Mx[0-9a-fA-F]{40}$/.test(address)}},coin:{required:f.a,minLength:Object(h.a)(3),supported:function(){return!!e.coinContractAddress}},amount:{required:f.a,validAmount:W,maxValue:Object(d.a)(this.maxAmount||0),minValue:function(e){return e>0}}}}},computed:{ethAddress:function(){return this.$store.state.web3Account.ethAddress},chainId:function(){return this.$store.state.web3Account.chainId},isConnected:function(){return!!this.ethAddress},hubChainData:function(){return j.u[this.chainId]},hubAddress:function(){var e;return null===(e=this.hubChainData)||void 0===e?void 0:e.hubContractAddress},wrappedNativeContractAddress:function(){var e;return null===(e=this.hubChainData)||void 0===e?void 0:e.wrappedNativeContractAddress},externalToken:function(){var e,t=this,n=this.hubCoinList.find((function(e){return e.symbol===t.form.coin}));return null==n?void 0:n[null===(e=this.hubChainData)||void 0===e?void 0:e.hubChainId]},hubFeeRate:function(){var e,t=1-this.discount;return new _.c((null===(e=this.externalToken)||void 0===e?void 0:e.commission)||.01).times(t).toString()},hubFeeRatePercent:function(){return new _.c(this.hubFeeRate).times(100).toString()},hubFee:function(){var e=new _.c(this.hubFeeRate).div(new _.c(1).minus(this.hubFeeRate));return new _.c(this.form.amount||0).times(e).toString()},amountToSpend:function(){return new _.c(this.hubFee).plus(this.form.amount||0).toString()},maxAmount:function(){var e=new _.c(this.selectedBalance).times(this.hubFeeRate),t=new _.c(this.selectedBalance).minus(e);return t.lt(0)?0:t.toString()},coinContractAddress:function(){var e;return null===(e=this.externalToken)||void 0===e?void 0:e.externalTokenId},isEthSelected:function(){return(this.coinContractAddress||"").toLowerCase()===this.wrappedNativeContractAddress},isUnwrapRequired:function(){return!!this.isEthSelected&&this.amountToUnwrap>0},isCoinApproved:function(){var e=new _.c(this.selectedUnlocked);return e.gt(0)&&e.gte(this.amountToSpend)},selectedBalance:function(){return this.isEthSelected?new _.c(this.selectedWrapped).plus(this.selectedNative).toString():this.balances[this.form.coin]||0},selectedWrapped:function(){return this.isEthSelected&&this.balances[this.form.coin]||0},selectedNative:function(){return this.isEthSelected&&this.balances[0]||0},amountToUnwrap:function(){var e=new _.c(this.amountToSpend).minus(this.selectedNative).toString();return e<=0?0:this.form.isUnwrapAll?this.selectedWrapped:e},currentBalanceRequest:function(){var e;return(null===(e=this.balanceRequest)||void 0===e?void 0:e.coin)===this.form.coin?this.balanceRequest:null},currentAllowanceRequest:function(){var e;return(null===(e=this.allowanceRequest)||void 0===e?void 0:e.coin)===this.form.coin?this.allowanceRequest:null},selectedUnlocked:function(){var e=this.allowanceList[this.form.coin];return e?Object(y.c)(e,this.decimals[this.form.coin]):0},selectedUnlockedInfinity:function(){return this.selectedUnlocked>Math.pow(10,18)},amountToUnlock:function(){return this.amountToSpend},suggestionList:function(){var e=Object(y.h)(this.chainId);return this.hubCoinList.filter((function(t){return!!t[e]})).map((function(e){return e.symbol.toUpperCase()}))},stage:function(){var e=this.isEthSelected&&this.selectedWrapped>0&&this.form.amount<=0;return this.isUnwrapRequired||e?H:this.isEthSelected||this.isCoinApproved?F:B}},watch:{ethAddress:{handler:function(e){e&&(this.updateBalance(),this.getAllowance()),this.setDiscountProps({ethAddress:this.ethAddress})},immediate:!0},"form.address":{handler:function(e){this.setDiscountProps({minterAddress:e})},immediate:!0},coinContractAddress:{handler:function(){this.updateBalance(),this.getAllowance()}},chainId:{handler:function(e){e!==j.m&&e!==j.g&&e!==j.G||(this.balances={},this.allowanceList={},this.updateBalance(),this.getAllowance()),this.chainId===j.m&&y.b.eth.setProvider(j.l),this.chainId===j.g&&y.b.eth.setProvider(j.f),this.chainId===j.G&&y.b.eth.setProvider(j.F)},immediate:!0},isUnwrapRequired:{handler:function(e){!e&&this.waitUnwrapConfirmation&&(this.waitUnwrapConfirmation=!1,this.isFormSending=!1)}},isCoinApproved:{handler:function(e){e&&this.waitApproveConfirmation&&(this.waitApproveConfirmation=!1,this.isFormSending=!1)}}},mounted:function(){var e=this;M=setInterval((function(){e.updateBalance(),e.getAllowance()}),1e4)},destroyed:function(){clearInterval(M)},methods:{pretty:w.s,prettyPrecise:w.v,prettyRound:w.x,getEvmNetworkName:y.f,updateBalance:function(){var e,t=this;if(this.isConnected&&this.coinContractAddress&&(null===(e=this.currentBalanceRequest)||void 0===e?void 0:e.promiseStatus)!==$)var n=this.form.coin,r=Promise.all([V(this.coinContractAddress).methods.balanceOf(this.ethAddress).call(),Object(y.j)(this.coinContractAddress,this.chainId,this.hubCoinList),this.isEthSelected?y.b.eth.getBalance(this.ethAddress):Promise.resolve()]).then((function(e){var o=Object(c.a)(e,3),l=o[0],f=o[1],d=o[2];t.$set(t.balances,n,Object(y.c)(l,f)),t.$set(t.decimals,n,f),d&&t.$set(t.balances,0,y.b.utils.fromWei(d)),t.form.coin===n&&(t.balanceRequest={coin:n,promiseStatus:L,promise:r})})).catch((function(e){console.log(e),t.form.coin===n&&(t.balanceRequest={coin:n,promiseStatus:D,promise:r},t.serverError="Can't get balance")}))},getAllowance:function(){var e,t=this,n=this.form.coin;if(this.isConnected&&this.coinContractAddress&&!this.isEthSelected&&(null===(e=this.currentAllowanceRequest)||void 0===e?void 0:e.promiseStatus)!==$){var r=V(this.coinContractAddress).methods.allowance(this.ethAddress,this.hubAddress).call().then((function(e){t.$set(t.allowanceList,n,e),t.form.coin===n&&(t.allowanceRequest={coin:n,promiseStatus:L,promise:r})})).catch((function(e){console.log(e),t.$set(t.allowanceList,n,null),t.form.coin===n&&(t.allowanceRequest={coin:n,promiseStatus:D,promise:r},t.serverError="Can't get allowance")}));return this.allowanceRequest={coin:n,promiseStatus:$,promise:r},r}},ensureRequest:function(e,t){var n=this;return(null==e?void 0:e.promiseStatus)===L?Promise.resolve():(null==e?void 0:e.promiseStatus)===$?e.promise.then((function(){return new Promise((function(e){n.$nextTick(e)}))})):(null==e?void 0:e.promise)===D?Promise.reject(t):void 0},submit:function(){var e=this;if(!this.isFormSending){var t;if(!this.$v.$invalid)return this.isFormSending=!0,this.serverError="",Promise.all([this.ensureRequest(this.currentAllowanceRequest,"Can't get allowance"),this.ensureRequest(this.currentBalanceRequest,"Can't get balance")]).then((function(){return(t=e.stage)===H?e.unwrapToNativeCoin():t===B?e.sendApproveTx():t===F?e.sendCoinTx():void 0})).catch((function(t){e.serverError=Object(k.a)(t),console.error(t),e.isFormSending=!1}));this.$v.$touch()}},unwrapToNativeCoin:function(){var e=this,t=Object(y.l)(this.amountToUnwrap,this.decimals[this.form.coin]),data=new y.b.eth.Contract(E.a,this.wrappedNativeContractAddress).methods.withdraw(t).encodeABI();return this.sendEthTx({to:this.wrappedNativeContractAddress,data:data}).then((function(t){return e.waitUnwrapConfirmation=!0,t}))},sendApproveTx:function(){var e,t=this;e=this.form.isInfiniteUnlock?"0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff":Object(y.l)(this.amountToUnlock,this.decimals[this.form.coin]);var data=V(this.coinContractAddress).methods.approve(this.hubAddress,e).encodeABI();return this.sendEthTx({to:this.coinContractAddress,data:data}).then((function(e){return t.waitApproveConfirmation=!0,e}))},sendCoinTx:function(){var address,t=this;address=e.concat([e.alloc(12),e.from(y.b.utils.hexToBytes(this.form.address.replace("Mx","0x")))]);var n,r=e.from("minter","utf-8"),c=new y.b.eth.Contract(x.a,this.hubAddress);return n=this.isEthSelected?{value:this.amountToSpend,data:c.methods.transferETHToChain(r,address,0).encodeABI()}:{data:c.methods.transferToChain(this.coinContractAddress,r,address,Object(y.l)(this.amountToSpend,this.decimals[this.form.coin]),0).encodeABI()},this.sendEthTx(function(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?U(Object(source),!0).forEach((function(t){Object(o.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):U(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}({to:this.hubAddress},n)).then((function(e){return t.$v.$reset(),t.form.address=t.$store.getters.address,t.form.amount="",t.form.coin="",t.isFormSending=!1,e}))},sendEthTx:function(e){var t=this;return Object(r.a)(regeneratorRuntime.mark((function n(){var r,o,data,c;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r=e.to,o=e.value,data=e.data,n.t0=t.ethAddress,n.t1=r,n.t2=data,n.t3=o?Object(y.l)(o):"0x00",n.next=7,y.b.eth.getTransactionCount(t.ethAddress,t.form.isIgnorePending?"latest":"pending");case 7:return n.t4=n.sent,c={from:n.t0,to:n.t1,data:n.t2,value:n.t3,nonce:n.t4},n.abrupt("return",t.$refs.ethAccount.sendTransaction(c).then((function(e){return t.$store.commit("hub/saveDeposit",{hash:e,chainId:t.chainId,from:c.from,params:c,timestamp:(new Date).toISOString()}),e})));case 10:case"end":return n.stop()}}),n)})))()},handleAccount:function(e){this.serverError=""},handleChainId:function(e){this.serverError=""}}}}).call(this,n(11).Buffer)},957:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.pino=void 0;var r=n(1292),o=r.__importDefault(n(1294));Object.defineProperty(t,"pino",{enumerable:!0,get:function(){return o.default}}),r.__exportStar(n(1047),t),r.__exportStar(n(1296),t)},958:function(e,t,n){"use strict";n.d(t,"c",(function(){return o})),n.d(t,"a",(function(){return c})),n.d(t,"b",(function(){return l})),n.d(t,"d",(function(){return f}));n(87),n(93),n(31),n(140),n(1),n(190),n(21);var r=n(894);function o(code){return r.c.includes(code)}function c(e){return Object.keys(r.f).includes(e)?r.f[e]:r.f[r.a]}function l(code){var e=Object.values(r.f).find((function(e){return e.code===code}));return e||r.f[r.a]}function f(e,t,n){return e.message.includes("getaddrinfo ENOTFOUND")||e.message.includes("connect ECONNREFUSED")?new Error("Unavailable ".concat(n," RPC url at ").concat(t)):e}},959:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1298);r.__exportStar(n(1299),t),r.__exportStar(n(1300),t)},960:function(e,t,n){"use strict";n(2)({target:"Number",stat:!0},{isInteger:n(424)})},961:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1302),o=n(1304),c=n(821),l=n(877),f=n(962);t.KEY_LENGTH=32,t.NONCE_LENGTH=12,t.TAG_LENGTH=16;var d=new Uint8Array(16),h=function(){function e(e){if(this.nonceLength=t.NONCE_LENGTH,this.tagLength=t.TAG_LENGTH,e.length!==t.KEY_LENGTH)throw new Error("ChaCha20Poly1305 needs 32-byte key");this._key=new Uint8Array(e)}return e.prototype.seal=function(e,t,n,o){if(e.length>16)throw new Error("ChaCha20Poly1305: incorrect nonce length");var l=new Uint8Array(16);l.set(e,l.length-e.length);var f=new Uint8Array(32);r.stream(this._key,l,f,4);var d,h=t.length+this.tagLength;if(o){if(o.length!==h)throw new Error("ChaCha20Poly1305: incorrect destination length");d=o}else d=new Uint8Array(h);return r.streamXOR(this._key,l,t,d,4),this._authenticate(d.subarray(d.length-this.tagLength,d.length),f,d.subarray(0,d.length-this.tagLength),n),c.wipe(l),d},e.prototype.open=function(e,t,n,o){if(e.length>16)throw new Error("ChaCha20Poly1305: incorrect nonce length");if(t.length<this.tagLength)return null;var l=new Uint8Array(16);l.set(e,l.length-e.length);var d=new Uint8Array(32);r.stream(this._key,l,d,4);var h=new Uint8Array(this.tagLength);if(this._authenticate(h,d,t.subarray(0,t.length-this.tagLength),n),!f.equal(h,t.subarray(t.length-this.tagLength,t.length)))return null;var v,m=t.length-this.tagLength;if(o){if(o.length!==m)throw new Error("ChaCha20Poly1305: incorrect destination length");v=o}else v=new Uint8Array(m);return r.streamXOR(this._key,l,t.subarray(0,t.length-this.tagLength),v,4),c.wipe(l),v},e.prototype.clean=function(){return c.wipe(this._key),this},e.prototype._authenticate=function(e,t,n,r){var f=new o.Poly1305(t);r&&(f.update(r),r.length%16>0&&f.update(d.subarray(r.length%16))),f.update(n),n.length%16>0&&f.update(d.subarray(n.length%16));var h=new Uint8Array(8);r&&l.writeUint64LE(r.length,h),f.update(h),l.writeUint64LE(n.length,h),f.update(h);for(var v=f.digest(),i=0;i<v.length;i++)e[i]=v[i];f.clean(),c.wipe(v),c.wipe(h)},e}();t.ChaCha20Poly1305=h},962:function(e,t,n){"use strict";function r(a,b){if(a.length!==b.length)return 0;for(var e=0,i=0;i<a.length;i++)e|=a[i]^b[i];return 1&e-1>>>8}Object.defineProperty(t,"__esModule",{value:!0}),t.select=function(e,t,n){return~(e-1)&t|e-1&n},t.lessOrEqual=function(a,b){return(0|a)-(0|b)-1>>>31&1},t.compare=r,t.equal=function(a,b){return 0!==a.length&&0!==b.length&&0!==r(a,b)}},963:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1305),o=n(821),c=function(){function e(e,t,n,o){void 0===n&&(n=new Uint8Array(0)),this._counter=new Uint8Array(1),this._hash=e,this._info=o;var c=r.hmac(this._hash,n,t);this._hmac=new r.HMAC(e,c),this._buffer=new Uint8Array(this._hmac.digestLength),this._bufpos=this._buffer.length}return e.prototype._fillBuffer=function(){this._counter[0]++;var e=this._counter[0];if(0===e)throw new Error("hkdf: cannot expand more");this._hmac.reset(),e>1&&this._hmac.update(this._buffer),this._info&&this._hmac.update(this._info),this._hmac.update(this._counter),this._hmac.finish(this._buffer),this._bufpos=0},e.prototype.expand=function(e){for(var t=new Uint8Array(e),i=0;i<t.length;i++)this._bufpos===this._buffer.length&&this._fillBuffer(),t[i]=this._buffer[this._bufpos++];return t},e.prototype.clean=function(){this._hmac.clean(),o.wipe(this._buffer),o.wipe(this._counter),this._bufpos=0},e}();t.HKDF=c},964:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(877),o=n(821);t.DIGEST_LENGTH=32,t.BLOCK_SIZE=64;var c=function(){function e(){this.digestLength=t.DIGEST_LENGTH,this.blockSize=t.BLOCK_SIZE,this._state=new Int32Array(8),this._temp=new Int32Array(64),this._buffer=new Uint8Array(128),this._bufferLength=0,this._bytesHashed=0,this._finished=!1,this.reset()}return e.prototype._initState=function(){this._state[0]=1779033703,this._state[1]=3144134277,this._state[2]=1013904242,this._state[3]=2773480762,this._state[4]=1359893119,this._state[5]=2600822924,this._state[6]=528734635,this._state[7]=1541459225},e.prototype.reset=function(){return this._initState(),this._bufferLength=0,this._bytesHashed=0,this._finished=!1,this},e.prototype.clean=function(){o.wipe(this._buffer),o.wipe(this._temp),this.reset()},e.prototype.update=function(data,e){if(void 0===e&&(e=data.length),this._finished)throw new Error("SHA256: can't update because hash was finished.");var t=0;if(this._bytesHashed+=e,this._bufferLength>0){for(;this._bufferLength<this.blockSize&&e>0;)this._buffer[this._bufferLength++]=data[t++],e--;this._bufferLength===this.blockSize&&(f(this._temp,this._state,this._buffer,0,this.blockSize),this._bufferLength=0)}for(e>=this.blockSize&&(t=f(this._temp,this._state,data,t,e),e%=this.blockSize);e>0;)this._buffer[this._bufferLength++]=data[t++],e--;return this},e.prototype.finish=function(e){if(!this._finished){var t=this._bytesHashed,n=this._bufferLength,o=t/536870912|0,c=t<<3,l=t%64<56?64:128;this._buffer[n]=128;for(var i=n+1;i<l-8;i++)this._buffer[i]=0;r.writeUint32BE(o,this._buffer,l-8),r.writeUint32BE(c,this._buffer,l-4),f(this._temp,this._state,this._buffer,0,l),this._finished=!0}for(i=0;i<this.digestLength/4;i++)r.writeUint32BE(this._state[i],e,4*i);return this},e.prototype.digest=function(){var e=new Uint8Array(this.digestLength);return this.finish(e),e},e.prototype.saveState=function(){if(this._finished)throw new Error("SHA256: cannot save finished state");return{state:new Int32Array(this._state),buffer:this._bufferLength>0?new Uint8Array(this._buffer):void 0,bufferLength:this._bufferLength,bytesHashed:this._bytesHashed}},e.prototype.restoreState=function(e){return this._state.set(e.state),this._bufferLength=e.bufferLength,e.buffer&&this._buffer.set(e.buffer),this._bytesHashed=e.bytesHashed,this._finished=!1,this},e.prototype.cleanSavedState=function(e){o.wipe(e.state),e.buffer&&o.wipe(e.buffer),e.bufferLength=0,e.bytesHashed=0},e}();t.SHA256=c;var l=new Int32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]);function f(e,t,p,n,o){for(;o>=64;){for(var a=t[0],b=t[1],c=t[2],f=t[3],d=t[4],h=t[5],g=t[6],v=t[7],i=0;i<16;i++){var m=n+4*i;e[i]=r.readUint32BE(p,m)}for(i=16;i<64;i++){var u=e[i-2],y=(u>>>17|u<<15)^(u>>>19|u<<13)^u>>>10,_=((u=e[i-15])>>>7|u<<25)^(u>>>18|u<<14)^u>>>3;e[i]=(y+e[i-7]|0)+(_+e[i-16]|0)}for(i=0;i<64;i++){y=(((d>>>6|d<<26)^(d>>>11|d<<21)^(d>>>25|d<<7))+(d&h^~d&g)|0)+(v+(l[i]+e[i]|0)|0)|0,_=((a>>>2|a<<30)^(a>>>13|a<<19)^(a>>>22|a<<10))+(a&b^a&c^b&c)|0;v=g,g=h,h=d,d=f+y|0,f=c,c=b,b=a,a=y+_|0}t[0]+=a,t[1]+=b,t[2]+=c,t[3]+=f,t[4]+=d,t[5]+=h,t[6]+=g,t[7]+=v,n+=64,o-=64}return n}t.hash=function(data){var e=new c;e.update(data);var t=e.digest();return e.clean(),t}},965:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.sharedKey=t.generateKeyPair=t.generateKeyPairFromSeed=t.scalarMultBase=t.scalarMult=t.SHARED_KEY_LENGTH=t.SECRET_KEY_LENGTH=t.PUBLIC_KEY_LENGTH=void 0;const r=n(849),o=n(821);function c(e){const t=new Float64Array(16);if(e)for(let i=0;i<e.length;i++)t[i]=e[i];return t}t.PUBLIC_KEY_LENGTH=32,t.SECRET_KEY_LENGTH=32,t.SHARED_KEY_LENGTH=32;const l=new Uint8Array(32);l[0]=9;const f=c([56129,1]);function d(e){let t=1;for(let i=0;i<16;i++){let n=e[i]+t+65535;t=Math.floor(n/65536),e[i]=n-65536*t}e[0]+=t-1+37*(t-1)}function h(p,q,b){const e=~(b-1);for(let i=0;i<16;i++){const t=e&(p[i]^q[i]);p[i]^=t,q[i]^=t}}function v(e,a,b){for(let i=0;i<16;i++)e[i]=a[i]+b[i]}function sub(e,a,b){for(let i=0;i<16;i++)e[i]=a[i]-b[i]}function m(e,a,b){let t,n,r=0,o=0,c=0,l=0,f=0,d=0,h=0,v=0,m=0,y=0,_=0,w=0,O=0,x=0,E=0,j=0,k=0,S=0,R=0,C=0,I=0,P=0,A=0,T=0,N=0,U=0,M=0,L=0,D=0,$=0,H=0,B=b[0],F=b[1],V=b[2],W=b[3],z=b[4],K=b[5],G=b[6],J=b[7],Y=b[8],X=b[9],Q=b[10],Z=b[11],ee=b[12],te=b[13],ne=b[14],re=b[15];t=a[0],r+=t*B,o+=t*F,c+=t*V,l+=t*W,f+=t*z,d+=t*K,h+=t*G,v+=t*J,m+=t*Y,y+=t*X,_+=t*Q,w+=t*Z,O+=t*ee,x+=t*te,E+=t*ne,j+=t*re,t=a[1],o+=t*B,c+=t*F,l+=t*V,f+=t*W,d+=t*z,h+=t*K,v+=t*G,m+=t*J,y+=t*Y,_+=t*X,w+=t*Q,O+=t*Z,x+=t*ee,E+=t*te,j+=t*ne,k+=t*re,t=a[2],c+=t*B,l+=t*F,f+=t*V,d+=t*W,h+=t*z,v+=t*K,m+=t*G,y+=t*J,_+=t*Y,w+=t*X,O+=t*Q,x+=t*Z,E+=t*ee,j+=t*te,k+=t*ne,S+=t*re,t=a[3],l+=t*B,f+=t*F,d+=t*V,h+=t*W,v+=t*z,m+=t*K,y+=t*G,_+=t*J,w+=t*Y,O+=t*X,x+=t*Q,E+=t*Z,j+=t*ee,k+=t*te,S+=t*ne,R+=t*re,t=a[4],f+=t*B,d+=t*F,h+=t*V,v+=t*W,m+=t*z,y+=t*K,_+=t*G,w+=t*J,O+=t*Y,x+=t*X,E+=t*Q,j+=t*Z,k+=t*ee,S+=t*te,R+=t*ne,C+=t*re,t=a[5],d+=t*B,h+=t*F,v+=t*V,m+=t*W,y+=t*z,_+=t*K,w+=t*G,O+=t*J,x+=t*Y,E+=t*X,j+=t*Q,k+=t*Z,S+=t*ee,R+=t*te,C+=t*ne,I+=t*re,t=a[6],h+=t*B,v+=t*F,m+=t*V,y+=t*W,_+=t*z,w+=t*K,O+=t*G,x+=t*J,E+=t*Y,j+=t*X,k+=t*Q,S+=t*Z,R+=t*ee,C+=t*te,I+=t*ne,P+=t*re,t=a[7],v+=t*B,m+=t*F,y+=t*V,_+=t*W,w+=t*z,O+=t*K,x+=t*G,E+=t*J,j+=t*Y,k+=t*X,S+=t*Q,R+=t*Z,C+=t*ee,I+=t*te,P+=t*ne,A+=t*re,t=a[8],m+=t*B,y+=t*F,_+=t*V,w+=t*W,O+=t*z,x+=t*K,E+=t*G,j+=t*J,k+=t*Y,S+=t*X,R+=t*Q,C+=t*Z,I+=t*ee,P+=t*te,A+=t*ne,T+=t*re,t=a[9],y+=t*B,_+=t*F,w+=t*V,O+=t*W,x+=t*z,E+=t*K,j+=t*G,k+=t*J,S+=t*Y,R+=t*X,C+=t*Q,I+=t*Z,P+=t*ee,A+=t*te,T+=t*ne,N+=t*re,t=a[10],_+=t*B,w+=t*F,O+=t*V,x+=t*W,E+=t*z,j+=t*K,k+=t*G,S+=t*J,R+=t*Y,C+=t*X,I+=t*Q,P+=t*Z,A+=t*ee,T+=t*te,N+=t*ne,U+=t*re,t=a[11],w+=t*B,O+=t*F,x+=t*V,E+=t*W,j+=t*z,k+=t*K,S+=t*G,R+=t*J,C+=t*Y,I+=t*X,P+=t*Q,A+=t*Z,T+=t*ee,N+=t*te,U+=t*ne,M+=t*re,t=a[12],O+=t*B,x+=t*F,E+=t*V,j+=t*W,k+=t*z,S+=t*K,R+=t*G,C+=t*J,I+=t*Y,P+=t*X,A+=t*Q,T+=t*Z,N+=t*ee,U+=t*te,M+=t*ne,L+=t*re,t=a[13],x+=t*B,E+=t*F,j+=t*V,k+=t*W,S+=t*z,R+=t*K,C+=t*G,I+=t*J,P+=t*Y,A+=t*X,T+=t*Q,N+=t*Z,U+=t*ee,M+=t*te,L+=t*ne,D+=t*re,t=a[14],E+=t*B,j+=t*F,k+=t*V,S+=t*W,R+=t*z,C+=t*K,I+=t*G,P+=t*J,A+=t*Y,T+=t*X,N+=t*Q,U+=t*Z,M+=t*ee,L+=t*te,D+=t*ne,$+=t*re,t=a[15],j+=t*B,k+=t*F,S+=t*V,R+=t*W,C+=t*z,I+=t*K,P+=t*G,A+=t*J,T+=t*Y,N+=t*X,U+=t*Q,M+=t*Z,L+=t*ee,D+=t*te,$+=t*ne,H+=t*re,r+=38*k,o+=38*S,c+=38*R,l+=38*C,f+=38*I,d+=38*P,h+=38*A,v+=38*T,m+=38*N,y+=38*U,_+=38*M,w+=38*L,O+=38*D,x+=38*$,E+=38*H,n=1,t=r+n+65535,n=Math.floor(t/65536),r=t-65536*n,t=o+n+65535,n=Math.floor(t/65536),o=t-65536*n,t=c+n+65535,n=Math.floor(t/65536),c=t-65536*n,t=l+n+65535,n=Math.floor(t/65536),l=t-65536*n,t=f+n+65535,n=Math.floor(t/65536),f=t-65536*n,t=d+n+65535,n=Math.floor(t/65536),d=t-65536*n,t=h+n+65535,n=Math.floor(t/65536),h=t-65536*n,t=v+n+65535,n=Math.floor(t/65536),v=t-65536*n,t=m+n+65535,n=Math.floor(t/65536),m=t-65536*n,t=y+n+65535,n=Math.floor(t/65536),y=t-65536*n,t=_+n+65535,n=Math.floor(t/65536),_=t-65536*n,t=w+n+65535,n=Math.floor(t/65536),w=t-65536*n,t=O+n+65535,n=Math.floor(t/65536),O=t-65536*n,t=x+n+65535,n=Math.floor(t/65536),x=t-65536*n,t=E+n+65535,n=Math.floor(t/65536),E=t-65536*n,t=j+n+65535,n=Math.floor(t/65536),j=t-65536*n,r+=n-1+37*(n-1),n=1,t=r+n+65535,n=Math.floor(t/65536),r=t-65536*n,t=o+n+65535,n=Math.floor(t/65536),o=t-65536*n,t=c+n+65535,n=Math.floor(t/65536),c=t-65536*n,t=l+n+65535,n=Math.floor(t/65536),l=t-65536*n,t=f+n+65535,n=Math.floor(t/65536),f=t-65536*n,t=d+n+65535,n=Math.floor(t/65536),d=t-65536*n,t=h+n+65535,n=Math.floor(t/65536),h=t-65536*n,t=v+n+65535,n=Math.floor(t/65536),v=t-65536*n,t=m+n+65535,n=Math.floor(t/65536),m=t-65536*n,t=y+n+65535,n=Math.floor(t/65536),y=t-65536*n,t=_+n+65535,n=Math.floor(t/65536),_=t-65536*n,t=w+n+65535,n=Math.floor(t/65536),w=t-65536*n,t=O+n+65535,n=Math.floor(t/65536),O=t-65536*n,t=x+n+65535,n=Math.floor(t/65536),x=t-65536*n,t=E+n+65535,n=Math.floor(t/65536),E=t-65536*n,t=j+n+65535,n=Math.floor(t/65536),j=t-65536*n,r+=n-1+37*(n-1),e[0]=r,e[1]=o,e[2]=c,e[3]=l,e[4]=f,e[5]=d,e[6]=h,e[7]=v,e[8]=m,e[9]=y,e[10]=_,e[11]=w,e[12]=O,e[13]=x,e[14]=E,e[15]=j}function y(e,a){m(e,a,a)}function _(e,p){const t=new Uint8Array(32),n=new Float64Array(80),a=c(),b=c(),r=c(),o=c(),l=c(),_=c();for(let i=0;i<31;i++)t[i]=e[i];t[31]=127&e[31]|64,t[0]&=248,function(e,t){for(let i=0;i<16;i++)e[i]=t[2*i]+(t[2*i+1]<<8);e[15]&=32767}(n,p);for(let i=0;i<16;i++)b[i]=n[i];a[0]=o[0]=1;for(let i=254;i>=0;--i){const e=t[i>>>3]>>>(7&i)&1;h(a,b,e),h(r,o,e),v(l,a,r),sub(a,a,r),v(r,b,o),sub(b,b,o),y(o,l),y(_,a),m(a,r,a),m(r,b,l),v(l,a,r),sub(a,a,r),y(b,a),sub(r,o,_),m(a,r,f),v(a,a,o),m(r,r,a),m(a,o,_),m(o,b,n),y(b,l),h(a,b,e),h(r,o,e)}for(let i=0;i<16;i++)n[i+16]=a[i],n[i+32]=r[i],n[i+48]=b[i],n[i+64]=o[i];const w=n.subarray(32),O=n.subarray(16);!function(e,t){const n=c();for(let i=0;i<16;i++)n[i]=t[i];for(let i=253;i>=0;i--)y(n,n),2!==i&&4!==i&&m(n,n,t);for(let i=0;i<16;i++)e[i]=n[i]}(w,w),m(O,O,w);const q=new Uint8Array(32);return function(e,t){const n=c(),r=c();for(let i=0;i<16;i++)r[i]=t[i];d(r),d(r),d(r);for(let e=0;e<2;e++){n[0]=r[0]-65517;for(let i=1;i<15;i++)n[i]=r[i]-65535-(n[i-1]>>16&1),n[i-1]&=65535;n[15]=r[15]-32767-(n[14]>>16&1);const b=n[15]>>16&1;n[14]&=65535,h(r,n,1-b)}for(let i=0;i<16;i++)e[2*i]=255&r[i],e[2*i+1]=r[i]>>8}(q,O),q}function w(e){return _(e,l)}function O(e){if(e.length!==t.SECRET_KEY_LENGTH)throw new Error(`x25519: seed must be ${t.SECRET_KEY_LENGTH} bytes`);const n=new Uint8Array(e);return{publicKey:w(n),secretKey:n}}t.scalarMult=_,t.scalarMultBase=w,t.generateKeyPairFromSeed=O,t.generateKeyPair=function(e){const t=(0,r.randomBytes)(32,e),n=O(t);return(0,o.wipe)(t),n},t.sharedKey=function(e,n,r=!1){if(e.length!==t.PUBLIC_KEY_LENGTH)throw new Error("X25519: incorrect secret key length");if(n.length!==t.PUBLIC_KEY_LENGTH)throw new Error("X25519: incorrect public key length");const o=_(e,n);if(r){let e=0;for(let i=0;i<o.length;i++)e|=o[i];if(0===e)throw new Error("X25519: invalid shared key")}return o}},966:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(896);t.alloc=function(e=0){return null!=globalThis.Buffer&&null!=globalThis.Buffer.alloc?r.asUint8Array(globalThis.Buffer.alloc(e)):new Uint8Array(e)},t.allocUnsafe=function(e=0){return null!=globalThis.Buffer&&null!=globalThis.Buffer.allocUnsafe?r.asUint8Array(globalThis.Buffer.allocUnsafe(e)):new Uint8Array(e)}},967:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(878);class o{constructor(e,code,t){this.name=e,this.code=code,this.encode=t}digest(input){if(input instanceof Uint8Array){const e=this.encode(input);return e instanceof Uint8Array?r.create(this.code,e):e.then((e=>r.create(this.code,e)))}throw Error("Unknown type, must be binary type")}}t.Hasher=o,t.from=({name:e,code:code,encode:t})=>new o(e,code,t)},968:function(e,t,n){"use strict";e.exports=e=>encodeURIComponent(e).replace(/[!'()*]/g,(e=>`%${e.charCodeAt(0).toString(16).toUpperCase()}`))},969:function(e,t,n){"use strict";var r="%[a-f0-9]{2}",o=new RegExp("("+r+")|([^%]+?)","gi"),c=new RegExp("("+r+")+","gi");function l(e,t){try{return[decodeURIComponent(e.join(""))]}catch(e){}if(1===e.length)return e;t=t||1;var n=e.slice(0,t),r=e.slice(t);return Array.prototype.concat.call([],l(n),l(r))}function f(input){try{return decodeURIComponent(input)}catch(t){for(var e=input.match(o)||[],i=1;i<e.length;i++)e=(input=l(e,i).join("")).match(o)||[];return input}}e.exports=function(e){if("string"!=typeof e)throw new TypeError("Expected `encodedURI` to be of type `string`, got `"+typeof e+"`");try{return e=e.replace(/\+/g," "),decodeURIComponent(e)}catch(t){return function(input){for(var e={"%FE%FF":"��","%FF%FE":"��"},t=c.exec(input);t;){try{e[t[0]]=decodeURIComponent(t[0])}catch(r){var n=f(t[0]);n!==t[0]&&(e[t[0]]=n)}t=c.exec(input)}e["%C2"]="�";for(var r=Object.keys(e),i=0;i<r.length;i++){var o=r[i];input=input.replace(new RegExp(o,"g"),e[o])}return input}(e)}}},970:function(e,t,n){"use strict";n(14),e.exports=function(e,t){if("string"!=typeof e||"string"!=typeof t)throw new TypeError("Expected the arguments to be of type `string`");if(""===t)return[e];var n=e.indexOf(t);return-1===n?[e]:[e.slice(0,n),e.slice(n+t.length)]}},971:function(e,t,n){"use strict";e.exports=function(e,t){for(var n={},r=Object.keys(e),o=Array.isArray(t),i=0;i<r.length;i++){var c=r[i],l=e[c];(o?-1!==t.indexOf(c):t(c,l,e))&&(n[c]=l)}return n}},972:function(e,t,n){"use strict";var r=n(1062);n.o(r,"RELAY_JSONRPC")&&n.d(t,"RELAY_JSONRPC",(function(){return r.RELAY_JSONRPC}));n(1063);var o=n(1065);n.d(t,"RELAY_JSONRPC",(function(){return o.a}));n(973)},973:function(e,t,n){"use strict";n.d(t,"c",(function(){return o})),n.d(t,"d",(function(){return c})),n.d(t,"a",(function(){return l})),n.d(t,"b",(function(){return f})),n.d(t,"g",(function(){return d})),n.d(t,"h",(function(){return h})),n.d(t,"e",(function(){return v})),n.d(t,"f",(function(){return m}));var r=n(1064);function o(e){return Object(r.c)(e,"subscribe")}function c(e){return Object(r.b)(e,["topic"],[])}function l(e){return Object(r.c)(e,"publish")}function f(e){return Object(r.b)(e,["message","topic","ttl"],["prompt","tag"])}function d(e){return Object(r.c)(e,"unsubscribe")}function h(e){return Object(r.b)(e,["id","topic"],[])}function v(e){return Object(r.c)(e,"subscription")}function m(e){return Object(r.b)(e,["id","data"],[])}},974:function(e,t,n){"use strict";var r=n(2),o=n(413).codeAt;r({target:"String",proto:!0},{codePointAt:function(e){return o(this,e)}})},978:function(e,t,n){"use strict";n.d(t,"d",(function(){return _})),n.d(t,"a",(function(){return w})),n.d(t,"c",(function(){return O})),n.d(t,"e",(function(){return x})),n.d(t,"b",(function(){return E}));var r=n(16),o=(n(68),n(8),n(232),n(14),n(1053)),c=n(1059),l=n(1054),f=n(12),d=(n(1),n(7),n(22),n(31),n(76),function(data){return JSON.stringify(data,(function(e,t){return"bigint"==typeof t?t.toString()+"n":t}))}),h=function(e){var t=e.replace(/([\[:])?(\d{17,}|(?:[9](?:[1-9]07199254740991|0[1-9]7199254740991|00[8-9]199254740991|007[2-9]99254740991|007199[3-9]54740991|0071992[6-9]4740991|00719925[5-9]740991|007199254[8-9]40991|0071992547[5-9]0991|00719925474[1-9]991|00719925474099[2-9])))([,\}\]])/g,'$1"$2n"$3');return JSON.parse(t,(function(e,t){return"string"==typeof t&&t.match(/^\d+n$/)?BigInt(t.substring(0,t.length-1)):t}))};var v=n(900);function m(e){return function(e){if("string"!=typeof e)throw new Error("Cannot safe json parse value of type ".concat(Object(f.a)(e)));try{return h(e)}catch(t){return e}}(Object(c.toString)(Object(l.fromString)(e,v.g),v.e))}function y(e){return Object(c.toString)(Object(l.fromString)("string"==typeof(t=e)?t:d(t)||"",v.e),v.g);var t}function _(e){var header=Object(l.fromString)(v.m,v.l),t=v.k+Object(c.toString)(Object(o.concat)([header,e]),v.l);return[v.d,v.c,t].join(v.b)}function w(e){var t=e.split(v.b),n=Object(r.a)(t,3),o=n[0],f=n[1],d=n[2];if(o!==v.d||f!==v.c)throw new Error('Issuer must be a DID with method "key"');if(d.slice(0,1)!==v.k)throw new Error("Issuer must be a key in mulicodec format");var h=Object(l.fromString)(d.slice(1),v.l);if(Object(c.toString)(h.slice(0,2),v.l)!==v.m)throw new Error('Issuer must be a public key with type "Ed25519"');var m=h.slice(2);if(m.length!==v.n)throw new Error("Issuer must be a public key with length 32 bytes");return m}function O(e){return Object(l.fromString)([y(e.header),y(e.payload)].join(v.f),v.a)}function x(e){return[y(e.header),y(e.payload),(t=e.signature,Object(c.toString)(t,v.g))].join(v.f);var t}function E(e){var t,n=e.split(v.f);return{header:m(n[0]),payload:m(n[1]),signature:(t=n[2],Object(l.fromString)(t,v.g)),data:Object(l.fromString)(n.slice(0,2).join(v.f),v.a)}}}}]);